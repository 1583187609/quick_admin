{"version":3,"file":"index-7b63a017.js","sources":["../../../src/views/__tpl/index.vue"],"sourcesContent":["<!-- 页面-这是一个模板示例 -->\r\n<template>\r\n  <BaseCrud\r\n    :cols=\"cols\"\r\n    :fields=\"fields\"\r\n    :fetch=\"GetUserList\"\r\n    :extraBtns=\"['add']\"\r\n    :groupBtns=\"['edit', 'delete']\"\r\n    @extraBtn=\"onExtraBtn\"\r\n    @groupBtn=\"onGroupBtn\"\r\n  >\r\n  </BaseCrud>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, reactive, inject, h } from \"vue\";\r\nimport { GetUserList, DeleteUserList } from \"@/api-mock\";\r\nimport { FormField } from \"@/components/BaseFormItem\";\r\nimport { TableField } from \"@/components/table\";\r\nimport { handleBtnNext } from \"@/utils\";\r\nimport AddEdit from \"./AddEdit.vue\";\r\nimport { BtnName } from \"@/components/BaseBtn\";\r\nimport { CommonObj, FinallyNext, StrNum } from \"@/vite-env\";\nimport { defineOptions } from 'vue'; \ndefineOptions({ name: \"__tpl\" }); \n\r\nconst openPopup: any = inject(\"openPopup\");\r\nconst fields: FormField[] = [\r\n  { prop: \"yhid\", label: \"用户ID\" },\r\n  {\r\n    prop: \"ffzt\",\r\n    label: \"发放状态\",\r\n    type: \"select\",\r\n    options: \"YesNoStatus\",\r\n  },\r\n  { prop: \"czr\", label: \"操作人\" },\r\n  { prop: \"bz\", label: \"备注\" },\r\n  { prop: \"ffsj\", label: \"发放时间\", type: \"date-picker\" },\r\n];\r\nconst cols: TableField[] = [\r\n  {\r\n    prop: \"ffcgyhid\",\r\n    label: \"发放成功用户ID\",\r\n    minWidth: 210,\r\n  },\r\n  {\r\n    prop: \"ffsbyhid\",\r\n    label: \"发放失败用户ID\",\r\n    minWidth: 210,\r\n  },\r\n  {\r\n    prop: \"ffje\",\r\n    label: \"发放金额\",\r\n    minWidth: 90,\r\n  },\r\n  {\r\n    prop: \"ffzt\",\r\n    label: \"发放状态\",\r\n    type: \"BaseTag\",\r\n    attrs: {\r\n      name: \"SendStatus\",\r\n    },\r\n  },\r\n  { prop: \"ffsj\", label: \"发放时间\" },\r\n  { prop: \"imtz\", label: \"IM通知\", minWidth: 190 },\r\n  { prop: \"bz\", label: \"备注\", minWidth: 140 },\r\n  { prop: \"updated\", label: \"操作人\", type: \"update\" },\r\n];\r\nfunction onExtraBtn(name: BtnName, next: FinallyNext) {\r\n  handleBtnNext(\r\n    {\r\n      add: () => handleAddEdit(null, next),\r\n    },\r\n    name\r\n  );\r\n}\r\nfunction onGroupBtn(name: any, row: CommonObj, next: FinallyNext) {\r\n  const { id } = row;\r\n  handleBtnNext(\r\n    {\r\n      edit: () => handleAddEdit(row, next),\r\n      delete: () => DeleteUserList({ id }).then(() => next()),\r\n    },\r\n    name\r\n  );\r\n}\r\n//新增/编辑\r\nfunction handleAddEdit(row: CommonObj | null, next: FinallyNext) {\r\n  openPopup(`${row ? \"编辑\" : \"新增\"}`, h(AddEdit, { data: row, refreshList: next }));\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["openPopup","inject","fields","prop","label","type","options","cols","minWidth","attrs","name","onExtraBtn","next","handleBtnNext","add","handleAddEdit","onGroupBtn","row","id","edit","delete","DeleteUserList","then","h","AddEdit","data","refreshList"],"mappings":"uhDAyBM,MAAAA,EAAiBC,EAAO,aACxBC,EAAsB,CAC1B,CAAEC,KAAM,OAAQC,MAAO,QACvB,CACED,KAAM,OACNC,MAAO,OACPC,KAAM,SACNC,QAAS,eAEX,CAAEH,KAAM,MAAOC,MAAO,OACtB,CAAED,KAAM,KAAMC,MAAO,MACrB,CAAED,KAAM,OAAQC,MAAO,OAAQC,KAAM,gBAEjCE,EAAqB,CACzB,CACEJ,KAAM,WACNC,MAAO,WACPI,SAAU,KAEZ,CACEL,KAAM,WACNC,MAAO,WACPI,SAAU,KAEZ,CACEL,KAAM,OACNC,MAAO,OACPI,SAAU,IAEZ,CACEL,KAAM,OACNC,MAAO,OACPC,KAAM,UACNI,MAAO,CACLC,KAAM,eAGV,CAAEP,KAAM,OAAQC,MAAO,QACvB,CAAED,KAAM,OAAQC,MAAO,OAAQI,SAAU,KACzC,CAAEL,KAAM,KAAMC,MAAO,KAAMI,SAAU,KACrC,CAAEL,KAAM,UAAWC,MAAO,MAAOC,KAAM,WAEhC,SAAAM,EAAWD,EAAeE,GACjCC,EACE,CACEC,IAAK,IAAMC,EAAc,KAAMH,IAEjCF,EAEJ,CACS,SAAAM,EAAWN,EAAWO,EAAgBL,GACvC,MAAAM,GAAEA,GAAOD,EACfJ,EACE,CACEM,KAAM,IAAMJ,EAAcE,EAAKL,GAC/BQ,OAAQ,IAAMC,EAAe,CAAEH,OAAMI,MAAK,IAAMV,OAElDF,EAEJ,CAES,SAAAK,EAAcE,EAAuBL,GAC5CZ,EAAU,IAAGiB,EAAM,KAAO,MAAQM,EAAEC,EAAS,CAAEC,KAAMR,EAAKS,YAAad,IACzE"}