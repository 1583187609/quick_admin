{"version":3,"file":"PhotoItem-b7ab03ea.js","sources":["../../../src/components/CardCrud/_components/PhotoItem.vue"],"sourcesContent":["<!-- 组件 - 资料巡查 -->\n<template>\n  <div class=\"photo-item f-fs-s-c\" :class=\"{ passed: status === 0, rejected: status === 1 }\">\n    <BarsImg :src=\"row.url\" :topBar=\"topBar\" class=\"img\" sizeType=\"default\" :bottomBar=\"row.status === 1 ? row.reason : ''\" />\n    <div class=\"foot-box f-c-c-c f-0\">\n      <BaseCopy class=\"mb-q\" :text=\"row.userId\" />\n      <BaseBtn :name=\"btn\" round size=\"small\" @click=\"() => emits('groupBtn', btn)\" v-for=\"(btn, ind) in groupBtns\" :key=\"ind\" />\n    </div>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport { ref, reactive, watch, computed, unref, nextTick, inject } from \"vue\";\nimport { CommonObj } from \"@/vite-env\";\nimport { BtnItem } from \"@/components/BaseBtn\";\nimport BarsImg from \"@/components/BarsImg.vue\";\nimport { AuditStatus } from \"../Index.vue\";\nimport { useDictMap } from \"@/hooks\";\nimport { defineOptions } from 'vue'; \ndefineOptions({ name: \"PhotoItem\" }); \n\nconst { getMap } = useDictMap();\nconst props = withDefaults(\n  defineProps<{\n    row?: CommonObj;\n    groupBtns?: BtnItem[];\n    status?: AuditStatus;\n  }>(),\n  {\n    row: () => ({}),\n    groupBtns: () => [],\n  }\n);\nconst topBar = computed(() => {\n  const status = props.row.status;\n  if (status === 1) {\n    const obj: CommonObj = getMap(\"AuditStatus\")[status];\n    obj.text = \"已驳回\";\n    obj.attrs.type = \"warning\";\n    return obj;\n  } else {\n    return undefined;\n  }\n});\nconst emits = defineEmits([\"groupBtn\"]);\n//是否出现了滚动条\nconst hasScroll = ref(false);\nconst descRef = ref();\nnextTick(() => {\n  getShowScroll();\n});\nfunction getShowScroll() {\n  const { scrollHeight, clientHeight } = descRef?.value || {};\n  hasScroll.value = scrollHeight > clientHeight;\n}\n</script>\n<style lang=\"scss\" scoped>\n.photo-item {\n  $size: 160px;\n  margin-top: $gap;\n  transition: all 0.85s;\n  background: #fff;\n  border-radius: $radius-main;\n  overflow: hidden;\n  @include shadow-main();\n  &.passed {\n    // visibility: hidden;\n    // opacity: 0;\n  }\n  &.rejected {\n    // filter: grayscale(1);\n  }\n  .img {\n    height: $size;\n    width: $size;\n  }\n}\n.foot-box {\n  padding: $gap-qtr 0;\n}\n</style>\n"],"names":["getMap","useDictMap","props","__props","topBar","computed","status","row","obj","text","attrs","type","emits","__emit","hasScroll","ref","descRef","nextTick","scrollHeight","clientHeight","value"],"mappings":"isDAoBM,MAAAA,OAAEA,GAAWC,IACbC,EAAQC,EAWRC,EAASC,GAAS,KAChB,MAAAC,EAASJ,EAAMK,IAAID,OACzB,GAAe,IAAXA,EAAc,CAChB,MAAME,EAAiBR,EAAO,eAAeM,GAGtC,OAFPE,EAAIC,KAAO,MACXD,EAAIE,MAAMC,KAAO,UACVH,CAAA,CAGT,IAEII,EAAQC,EAERC,EAAYC,GAAI,GAChBC,EAAUD,WAChBE,GAAS,MAGT,WACE,MAAMC,aAAEA,EAAcC,aAAAA,IAAiB,MAAAH,OAAA,EAAAA,EAASI,QAAS,CAAA,EACzDN,EAAUM,MAAQF,EAAeC,CACnC"}