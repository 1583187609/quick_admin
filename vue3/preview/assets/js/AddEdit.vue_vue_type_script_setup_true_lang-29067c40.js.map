{"version":3,"file":"AddEdit.vue_vue_type_script_setup_true_lang-29067c40.js","sources":["../../../src/views/system/user/account/AddEdit.vue"],"sourcesContent":["<template>\r\n  <BaseForm\r\n    :request=\"PostMockCommon\"\r\n    v-model=\"model\"\r\n    :style=\"{ width: pureText ? '350px' : '550px' }\"\r\n    :fields=\"fields\"\r\n    :pureText=\"pureText\"\r\n    :fetch=\"id ? PostUserUpdate : PostUserAdd\"\r\n    :fetchSuccess=\"refreshList\"\r\n  >\r\n    <!-- @submit=\"handleSubmit\" -->\r\n    <template #avatar=\"{ form }\">\r\n      <UploadAvatar v-model=\"form.avatar\" />\r\n    </template>\r\n  </BaseForm>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { FormField } from \"@/components/BaseFormItem\";\r\nimport { ref, reactive, watch } from \"vue\";\r\nimport { PostMockCommon, GetUserInfo } from \"@/api-mock\";\r\nimport UploadAvatar from \"@/components/upload/UploadAvatar.vue\";\r\nimport { PostUserAdd, PostUserUpdate } from \"@/api-mock\";\r\nimport { CommonObj, FinallyNext } from \"@/vite-env\";\nimport { defineOptions } from 'vue'; \ndefineOptions({ name: \"SystemUserAccountAddEdit\" }); \n\r\n\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    id?: string | number;\r\n    pureText?: boolean;\r\n    refreshList?: FinallyNext;\r\n  }>(),\r\n  {}\r\n);\r\nconst { id } = props;\r\nconst model = reactive<CommonObj>({ gender: 0, status: 1, type: 3, age: 18 });\r\nconst fields = ref<FormField[]>([\r\n  {\r\n    prop: \"avatar\",\r\n    label: \"头像\",\r\n    required: false,\r\n    type: \"custom\",\r\n    extra: {\r\n      tips: \"只能上传.jpg,.png,.gif,.jpeg类型，且大小不超过1M\",\r\n    },\r\n  },\r\n  {\r\n    prop: \"nickname\",\r\n    label: \"昵称\",\r\n    required: false,\r\n    attrs: { maxlength: 16 },\r\n  },\r\n  { prop: \"name\", label: \"姓名\", attrs: { maxlength: 6 } },\r\n  {\r\n    prop: \"gender\",\r\n    label: \"性别\",\r\n    type: \"radio-group\",\r\n    options: \"Gender\",\r\n    attrs: {\r\n      type: \"button\",\r\n    },\r\n    extra: {\r\n      span: 12,\r\n    },\r\n  },\r\n  {\r\n    prop: \"age\",\r\n    label: \"年龄\",\r\n    type: \"input-number\",\r\n    extra: {\r\n      span: 12,\r\n    },\r\n    attrs: {\r\n      min: 0,\r\n      max: 150,\r\n    },\r\n  },\r\n  {\r\n    prop: \"type\",\r\n    label: \"角色类型\",\r\n    type: \"select\",\r\n    required: true,\r\n    extra: {\r\n      span: 12,\r\n    },\r\n    options: \"RoleType\",\r\n  },\r\n  {\r\n    prop: \"status\",\r\n    label: \"启用状态\",\r\n    type: \"radio-group\",\r\n    required: true,\r\n    extra: {\r\n      span: 12,\r\n    },\r\n    options: \"EnableStatus\",\r\n    attrs: {\r\n      type: \"button\",\r\n    },\r\n  },\r\n\r\n  { prop: \"phone\", label: \"电话\", required: true, extra: { span: 12, valid: \"phone\" } },\r\n  { prop: \"psd\", label: \"密码\", required: true, extra: { span: 12, valid: \"password\" } },\r\n  {\r\n    prop: \"address\",\r\n    label: \"居住地址\",\r\n    required: false,\r\n    type: \"cascader\",\r\n    options: \"Region\",\r\n    attrs: {\r\n      style: \"width: 100%\",\r\n    },\r\n  },\r\n  {\r\n    prop: \"remark\",\r\n    label: \"备注\",\r\n    attrs: {\r\n      type: \"textarea\",\r\n    },\r\n  },\r\n]);\r\nif (id) {\r\n  getDetail(id);\r\n}\r\n//获取详情数据\r\nfunction getDetail(id: string | number) {\r\n  GetUserInfo({ id }).then((res: CommonObj) => {\r\n    Object.assign(model, res);\r\n  });\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["props","__props","id","model","reactive","gender","status","type","age","fields","ref","prop","label","required","extra","tips","attrs","maxlength","options","span","min","max","valid","style","GetUserInfo","then","res","Object","assign"],"mappings":"2WA2BA,MAAMA,EAAQC,GAQRC,GAAEA,GAAOF,EACTG,EAAQC,EAAoB,CAAEC,OAAQ,EAAGC,OAAQ,EAAGC,KAAM,EAAGC,IAAK,KAClEC,EAASC,EAAiB,CAC9B,CACEC,KAAM,SACNC,MAAO,KACPC,UAAU,EACVN,KAAM,SACNO,MAAO,CACLC,KAAM,wCAGV,CACEJ,KAAM,WACNC,MAAO,KACPC,UAAU,EACVG,MAAO,CAAEC,UAAW,KAEtB,CAAEN,KAAM,OAAQC,MAAO,KAAMI,MAAO,CAAEC,UAAW,IACjD,CACEN,KAAM,SACNC,MAAO,KACPL,KAAM,cACNW,QAAS,SACTF,MAAO,CACLT,KAAM,UAERO,MAAO,CACLK,KAAM,KAGV,CACER,KAAM,MACNC,MAAO,KACPL,KAAM,eACNO,MAAO,CACLK,KAAM,IAERH,MAAO,CACLI,IAAK,EACLC,IAAK,MAGT,CACEV,KAAM,OACNC,MAAO,OACPL,KAAM,SACNM,UAAU,EACVC,MAAO,CACLK,KAAM,IAERD,QAAS,YAEX,CACEP,KAAM,SACNC,MAAO,OACPL,KAAM,cACNM,UAAU,EACVC,MAAO,CACLK,KAAM,IAERD,QAAS,eACTF,MAAO,CACLT,KAAM,WAIV,CAAEI,KAAM,QAASC,MAAO,KAAMC,UAAU,EAAMC,MAAO,CAAEK,KAAM,GAAIG,MAAO,UACxE,CAAEX,KAAM,MAAOC,MAAO,KAAMC,UAAU,EAAMC,MAAO,CAAEK,KAAM,GAAIG,MAAO,aACtE,CACEX,KAAM,UACNC,MAAO,OACPC,UAAU,EACVN,KAAM,WACNW,QAAS,SACTF,MAAO,CACLO,MAAO,gBAGX,CACEZ,KAAM,SACNC,MAAO,KACPI,MAAO,CACLT,KAAM,sBAIRL,GAKFsB,EAAY,CAAEtB,GAJJA,IAIUuB,MAAMC,IACjBC,OAAAC,OAAOzB,EAAOuB,EAAG"}