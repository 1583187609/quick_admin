{"version":3,"file":"Index-4624b3f1.js","sources":["../../../src/components/BaseBtn/Index.vue"],"sourcesContent":["<template>\r\n  <el-popconfirm @confirm=\"handleClick\" v-bind=\"newBtn?.popconfirm\" v-if=\"newBtn?.popconfirm\">\r\n    <template #reference>\r\n      <el-button class=\"base-btn\" v-bind=\"{ ...newBtn.attrs, ...$attrs }\">\r\n        <slot>{{ newBtn?.text || \"-\" }}</slot>\r\n      </el-button>\r\n    </template>\r\n  </el-popconfirm>\r\n  <el-button class=\"base-btn\" @click=\"handleClick\" v-bind=\"{ ...newBtn.attrs, ...$attrs }\" v-else>\r\n    <slot>{{ newBtn?.text || \"-\" }}</slot>\r\n  </el-button>\r\n</template>\r\n<script lang=\"ts\">\r\nexport default {\r\n  name: \"BaseBtn\",\r\n  inheritAttrs: false,\r\n};\r\n</script>\r\n<script lang=\"ts\" name=\"BaseBtn\" setup>\r\nimport { computed, useAttrs, useSlots, inject } from \"vue\";\r\nimport { BaseBtnType, getBtnObj } from \"@/components/BaseBtn\";\r\nimport { typeOf } from \"@/components/_utils\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { PopconfirmAttrs } from \"./index\";\r\nimport { CommonObj } from \"@/vite-env\";\r\n\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    name?: BaseBtnType;\r\n    icon?: CommonObj; //必须是引入的有render函数的组件，不能传字符串\r\n    data?: any; //要传给to(args)的args参数\r\n    popconfirm?: boolean | PopconfirmAttrs; //popconfirm 弹出层的属性\r\n  }>(),\r\n  {\r\n    name: \"empty\",\r\n  }\r\n);\r\nconst $attrs = useAttrs();\r\nconst router = useRouter();\r\nconst emits = defineEmits([\"click\"]);\r\nconst newBtn: any = computed(() => getBtnObj(props.name));\r\nfunction handleClick() {\r\n  const { name, to, attrs, customRules } = newBtn.value;\r\n  if (to === undefined) {\r\n    emits(\"click\", name);\r\n  } else {\r\n    const t = typeOf(to);\r\n    router.push(t === \"Function\" ? to(props.data) : to);\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["name","inheritAttrs","props","__props","$attrs","useAttrs","router","useRouter","emits","__emit","newBtn","computed","getBtnObj","handleClick","to","attrs","customRules","value","t","typeOf","push","data"],"mappings":"68CAaA,WACEA,KAAM,UACNC,cAAc,oJAWhB,MAAMC,EAAQC,EAWRC,EAASC,IACTC,EAASC,IACTC,EAAQC,EACRC,EAAcC,GAAS,IAAMC,EAAUV,EAAMF,QACnD,SAASa,IACP,MAAMb,KAAEA,EAAMc,GAAAA,EAAAC,MAAIA,EAAOC,YAAAA,GAAgBN,EAAOO,MAChD,QAAW,IAAPH,EACFN,EAAM,QAASR,OACV,CACC,MAAAkB,EAAIC,EAAOL,GACjBR,EAAOc,KAAW,aAANF,EAAmBJ,EAAGZ,EAAMmB,MAAQP,EAClD,CACF"}