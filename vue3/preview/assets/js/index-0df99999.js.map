{"version":3,"file":"index-0df99999.js","sources":["../../../src/views/test/test-2/index.vue"],"sourcesContent":["<!-- 页面-简介 -->\r\n<template>\r\n  <div class=\"page-view two f-sb-s\">\r\n    <SectionForm class=\"f-2\" v-model=\"model\" :fetch=\"handleFetch\" :sections=\"sections\">\r\n      <template #right-0>这是标题右侧的插槽</template>\r\n      <template #zdy=\"{ form }\">\r\n        <el-input placeholder=\"这是自定义组件\" v-model=\"form.zdy\" clearable />\r\n      </template>\r\n      <template #bjnr=\"{ form }\">\r\n        <BaseEditor v-model=\"form.bjnr\" />\r\n      </template>\r\n    </SectionForm>\r\n    <ul class=\"f-1 ml-o tips-list\">\r\n      <li class=\"item\" v-for=\"(item, ind) in tipsList\" :key=\"ind\">{{ ind + 1 }}、{{ item }}</li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" name=\"TestTwo\" setup>\r\nimport { ref, reactive, watch, computed, h } from \"vue\";\r\nimport { SectionFormItem } from \"@/components/form\";\r\nimport SectionForm from \"@/components/form/SectionForm.vue\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nimport { PostMockCommon } from \"@/api-mock\";\r\nimport AddDelBtn from \"@/components/AddDelBtn.vue\";\nimport { defineOptions } from 'vue'; \ndefineOptions({ name: \"TestTwo\" }); \n\r\n\r\nconst tipsList: string[] = [\"section块之间span属性功能完善\", \"label宽度根据各个section块决定\"];\r\n//是否支持： 0否;1=是\r\nconst supportSwitchAttrs: CommonObj = {\r\n  activeValue: 1,\r\n  inactiveValue: 0,\r\n  activeText: \"支持\",\r\n  inactiveText: \"不支持\",\r\n  inlinePrompt: true,\r\n  style: \"width: 5em\",\r\n};\r\nconst model = reactive({\r\n  nl: 24,\r\n  cyxslx: 1,\r\n});\r\nconst sections = computed<SectionFormItem[]>(() => {\r\n  const { cyxslx } = model;\r\n  return [\r\n    {\r\n      // prop: \"jcxx\",\r\n      title: \"基础信息\",\r\n      // pureText: true,\r\n      popover: \"纯文本展示\",\r\n      fieldAttrs: { span: 8 },\r\n      fields: [\r\n        {\r\n          prop: \"xm\",\r\n          label: \"姓名\",\r\n        },\r\n        {\r\n          prop: \"xb\",\r\n          label: \"性别\",\r\n          type: \"select\",\r\n          options: \"Gender\",\r\n          extra: {\r\n            span: 6,\r\n          },\r\n        },\r\n        {\r\n          prop: \"nl\",\r\n          label: \"年龄\",\r\n          type: \"input-number\",\r\n          extra: {\r\n            span: 6,\r\n            valid: \"age\",\r\n          },\r\n        },\r\n        {\r\n          prop: \"dhhm\",\r\n          label: \"电话\",\r\n          extra: {\r\n            span: 12,\r\n            valid: \"phone\",\r\n          },\r\n        },\r\n        {\r\n          prop: \"dz\",\r\n          label: \"地址\",\r\n          type: \"cascader\",\r\n          options: \"Region\",\r\n        },\r\n        {\r\n          prop: \"hz\",\r\n          label: \"后缀\",\r\n          // attrs: {\r\n          //   style: \"50%\",\r\n          // },\r\n          extra: {\r\n            // before: \"第\",\r\n            // after: h(AddDelBtn, { name: \"add\" }),\r\n            after: {\r\n              component: AddDelBtn,\r\n              attrs: {\r\n                name: \"add\",\r\n              },\r\n            },\r\n          },\r\n        },\r\n        {\r\n          prop: \"bz\",\r\n          label: \"备注\",\r\n          extra: {\r\n            span: 24,\r\n          },\r\n          attrs: {\r\n            type: \"textarea\",\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      // prop: \"debf\",\r\n      title: \"第二部分\",\r\n      popover: \"属性继承（例：disabled）\",\r\n      fieldAttrs: { attrs: { disabled: true } },\r\n      fields: [\r\n        {\r\n          prop: \"sfzh\",\r\n          label: \"身份证号\",\r\n          extra: {\r\n            span: 12,\r\n            valid: \"identity\",\r\n          },\r\n        },\r\n        {\r\n          prop: \"zsbh\",\r\n          label: \"证书证号\",\r\n          extra: {\r\n            span: 12,\r\n          },\r\n          attrs: {\r\n            maxlength: 11,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      // prop: \"dsbf\",\r\n      title: \"第三部分\",\r\n      popover: \"正常表单配置\",\r\n      fields: [\r\n        {\r\n          prop: \"zdy\",\r\n          label: \"自定义组件\",\r\n          type: \"custom\",\r\n          extra: {\r\n            tips: \"这是自定义组件，临时用el-input代替\",\r\n          },\r\n        },\r\n        {\r\n          prop: \"tx\",\r\n          label: \"头像\",\r\n          required: false,\r\n          type: \"BaseUpload\",\r\n          extra: {\r\n            span: 12,\r\n          },\r\n        },\r\n        {\r\n          prop: \"zs\",\r\n          label: \"证书\",\r\n          required: false,\r\n          type: \"BaseUpload\",\r\n          extra: {\r\n            span: 12,\r\n          },\r\n        },\r\n        {\r\n          prop: \"cyxslx\",\r\n          label: \"差异显示类型\",\r\n          type: \"radio-group\",\r\n          options: [\r\n            { label: \"认证方式有prop\", value: 1 },\r\n            { label: \"认证方式无prop\", value: 2 },\r\n          ],\r\n          extra: {\r\n            tips: \"radio-group控件，默认为button样式\",\r\n            popover: \"点击提交按钮时，有prop，可看到提交参数多嵌套了一层并包裹在prop中，无prop，子级children散开在外层\",\r\n          },\r\n        },\r\n        cyxslx === 1 && {\r\n          prop: \"rzfs\",\r\n          label: \"认证方式\",\r\n          children: [\r\n            {\r\n              prop: \"isSupportEmail\",\r\n              label: \"邮箱认证\",\r\n              type: \"switch\",\r\n              labelWidth: \"6em\",\r\n              attrs: supportSwitchAttrs,\r\n            },\r\n            {\r\n              prop: \"isSupportPerson\",\r\n              label: \"人工认证\",\r\n              type: \"switch\",\r\n              labelWidth: \"6em\",\r\n              attrs: supportSwitchAttrs,\r\n            },\r\n          ],\r\n        },\r\n        cyxslx === 2 && {\r\n          label: \"认证方式\",\r\n          children: [\r\n            {\r\n              prop: \"isSupportDingTalk\",\r\n              label: \"钉钉认证\",\r\n              type: \"switch\",\r\n              labelWidth: \"6em\",\r\n              attrs: supportSwitchAttrs,\r\n            },\r\n            {\r\n              prop: \"isSupportFeiShu\",\r\n              label: \"飞书认证\",\r\n              type: \"switch\",\r\n              labelWidth: \"6em\",\r\n              attrs: supportSwitchAttrs,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          prop: \"bjnr\",\r\n          label: \"编辑内容\",\r\n          type: \"custom\",\r\n          rules: [{ max: 10, message: \"不能超过10个字符\", trigger: \"change\" }],\r\n          extra: {\r\n            popover: \"不能超过最大字符数校验\",\r\n          },\r\n        },\r\n        {\r\n          prop: \"bz\",\r\n          label: \"备注\",\r\n          attrs: {\r\n            type: \"textarea\",\r\n            maxlength: 100,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n});\r\n//外层套用一层函数，可将参数进行转化处理再执行请求，也可传入handleParams属性\r\nfunction handleFetch(params: CommonObj) {\r\n  console.log(params, \"parasms-----------\");\r\n  return PostMockCommon(params);\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.tips-list {\r\n  .item {\r\n    &:not(:last-child) {\r\n      margin-bottom: $gap-half;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":["tipsList","supportSwitchAttrs","activeValue","inactiveValue","activeText","inactiveText","inlinePrompt","style","model","reactive","nl","cyxslx","sections","computed","title","popover","fieldAttrs","span","fields","prop","label","type","options","extra","valid","after","component","AddDelBtn","attrs","name","disabled","maxlength","tips","required","value","children","labelWidth","rules","max","message","trigger","handleFetch","params","PostMockCommon"],"mappings":"4vDA4BM,MAAAA,EAAqB,CAAC,uBAAwB,yBAE9CC,EAAgC,CACpCC,YAAa,EACbC,cAAe,EACfC,WAAY,KACZC,aAAc,MACdC,cAAc,EACdC,MAAO,cAEHC,EAAQC,EAAS,CACrBC,GAAI,GACJC,OAAQ,IAEJC,EAAWC,GAA4B,KACrC,MAAAF,OAAEA,GAAWH,EACZ,MAAA,CACL,CAEEM,MAAO,OAEPC,QAAS,QACTC,WAAY,CAAEC,KAAM,GACpBC,OAAQ,CACN,CACEC,KAAM,KACNC,MAAO,MAET,CACED,KAAM,KACNC,MAAO,KACPC,KAAM,SACNC,QAAS,SACTC,MAAO,CACLN,KAAM,IAGV,CACEE,KAAM,KACNC,MAAO,KACPC,KAAM,eACNE,MAAO,CACLN,KAAM,EACNO,MAAO,QAGX,CACEL,KAAM,OACNC,MAAO,KACPG,MAAO,CACLN,KAAM,GACNO,MAAO,UAGX,CACEL,KAAM,KACNC,MAAO,KACPC,KAAM,WACNC,QAAS,UAEX,CACEH,KAAM,KACNC,MAAO,KAIPG,MAAO,CAGLE,MAAO,CACLC,UAAWC,EACXC,MAAO,CACLC,KAAM,UAKd,CACEV,KAAM,KACNC,MAAO,KACPG,MAAO,CACLN,KAAM,IAERW,MAAO,CACLP,KAAM,eAKd,CAEEP,MAAO,OACPC,QAAS,mBACTC,WAAY,CAAEY,MAAO,CAAEE,UAAU,IACjCZ,OAAQ,CACN,CACEC,KAAM,OACNC,MAAO,OACPG,MAAO,CACLN,KAAM,GACNO,MAAO,aAGX,CACEL,KAAM,OACNC,MAAO,OACPG,MAAO,CACLN,KAAM,IAERW,MAAO,CACLG,UAAW,OAKnB,CAEEjB,MAAO,OACPC,QAAS,SACTG,OAAQ,CACN,CACEC,KAAM,MACNC,MAAO,QACPC,KAAM,SACNE,MAAO,CACLS,KAAM,0BAGV,CACEb,KAAM,KACNC,MAAO,KACPa,UAAU,EACVZ,KAAM,aACNE,MAAO,CACLN,KAAM,KAGV,CACEE,KAAM,KACNC,MAAO,KACPa,UAAU,EACVZ,KAAM,aACNE,MAAO,CACLN,KAAM,KAGV,CACEE,KAAM,SACNC,MAAO,SACPC,KAAM,cACNC,QAAS,CACP,CAAEF,MAAO,YAAac,MAAO,GAC7B,CAAEd,MAAO,YAAac,MAAO,IAE/BX,MAAO,CACLS,KAAM,4BACNjB,QAAS,+DAGF,IAAXJ,GAAgB,CACdQ,KAAM,OACNC,MAAO,OACPe,SAAU,CACR,CACEhB,KAAM,iBACNC,MAAO,OACPC,KAAM,SACNe,WAAY,MACZR,MAAO3B,GAET,CACEkB,KAAM,kBACNC,MAAO,OACPC,KAAM,SACNe,WAAY,MACZR,MAAO3B,KAIF,IAAXU,GAAgB,CACdS,MAAO,OACPe,SAAU,CACR,CACEhB,KAAM,oBACNC,MAAO,OACPC,KAAM,SACNe,WAAY,MACZR,MAAO3B,GAET,CACEkB,KAAM,kBACNC,MAAO,OACPC,KAAM,SACNe,WAAY,MACZR,MAAO3B,KAIb,CACEkB,KAAM,OACNC,MAAO,OACPC,KAAM,SACNgB,MAAO,CAAC,CAAEC,IAAK,GAAIC,QAAS,YAAaC,QAAS,WAClDjB,MAAO,CACLR,QAAS,gBAGb,CACEI,KAAM,KACNC,MAAO,KACPQ,MAAO,CACLP,KAAM,WACNU,UAAW,QAInB,IAIJ,SAASU,EAAYC,GAEnB,OAAOC,EAAeD,EACxB"}