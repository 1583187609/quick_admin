{"version":3,"file":"three-8560473f.js","sources":["../../../src/views/test/test-10/three.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <el-radio-group v-model=\"size\" aria-label=\"size control\">\r\n        <el-radio-button value=\"large\">large</el-radio-button>\r\n        <el-radio-button value=\"default\">default</el-radio-button>\r\n        <el-radio-button value=\"small\">small</el-radio-button>\r\n      </el-radio-group>\r\n      <el-radio-group v-model=\"labelPosition\" aria-label=\"position control\">\r\n        <el-radio-button value=\"left\">Left</el-radio-button>\r\n        <el-radio-button value=\"right\">Right</el-radio-button>\r\n        <el-radio-button value=\"top\">Top</el-radio-button>\r\n      </el-radio-group>\r\n    </div>\r\n    <br />\r\n    <el-form ref=\"ruleFormRef\" :model=\"sizeForm\" label-width=\"auto\" :label-position=\"labelPosition\" :size=\"size\">\r\n      <el-form-item label=\"姓名\" prop=\"name\" :rules=\"[{ required: true, message: '请输入姓名' }]\" required>\r\n        <el-input v-model=\"sizeForm.name\" placeholder=\"请输入姓名\" />\r\n      </el-form-item>\r\n      <!-- 不嵌套对象校验 -->\r\n      <el-form-item label=\"计费\" required>\r\n        每\r\n        <el-form-item prop=\"hour\" required :rules=\"[{ required: true, message: '请输入小时' }]\">\r\n          <el-input v-model=\"sizeForm.hour\" placeholder=\"请输入小时\" />\r\n        </el-form-item>\r\n        花\r\n        <el-form-item prop=\"money\" required :rules=\"[{ required: true, message: '请输入金额' }]\">\r\n          <el-input v-model=\"sizeForm.money\" placeholder=\"请输入金额\" />\r\n        </el-form-item>\r\n        元\r\n      </el-form-item>\r\n      <!-- 嵌套对象校验 -->\r\n      <el-form-item label=\"花费\" prop=\"cost\" required>\r\n        每\r\n        <el-form-item prop=\"cost.hour\" required :rules=\"[{ required: true, message: '请输入小时' }]\">\r\n          <!-- <template #label></template> -->\r\n          <el-input v-model=\"sizeForm.cost.hour\" placeholder=\"请输入小时\" />\r\n        </el-form-item>\r\n        花\r\n        <el-form-item prop=\"cost.money\" required :rules=\"[{ required: true, message: '请输入金额' }]\">\r\n          <el-input v-model=\"sizeForm.cost.money\" placeholder=\"请输入金额\" />\r\n        </el-form-item>\r\n        元\r\n      </el-form-item>\r\n      <!-- 循环嵌套校验 -->\r\n      <el-form-item label=\"列表\" prop=\"list\" required :rules=\"[{ required: true, message: '请输入列表' }]\">\r\n        <el-form-item style=\"margin-bottom: 18px\" v-for=\"(item, ind) in sizeForm.list\" :key=\"ind\">\r\n          <el-form-item :prop=\"'list.' + ind + '.hour'\" required :rules=\"[{ required: true, message: '请输入小时' }]\">\r\n            <el-input v-model=\"sizeForm.list[ind].hour\" placeholder=\"请输入小时\" clearable />\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"ml-h\"\r\n            :prop=\"'list.' + ind + '.money'\"\r\n            required\r\n            :rules=\"[{ required: true, message: '请输入小时' }]\"\r\n          >\r\n            <el-input v-model=\"sizeForm.list[ind].money\" placeholder=\"请输入金额\" />\r\n          </el-form-item>\r\n          <el-form-item\r\n            class=\"ml-h\"\r\n            :prop=\"'list.' + ind + '.money'\"\r\n            required\r\n            :rules=\"[{ required: true, message: '请选择类型' }]\"\r\n          >\r\n            <el-select\r\n              v-model=\"sizeForm.list[ind].type\"\r\n              style=\"min-width: 120px\"\r\n              placeholder=\"请选择类型\"\r\n              :options=\"[\r\n                { label: '类型1', value: 1 },\r\n                { label: '类型2', value: 2 },\r\n                { label: '类型3', value: 3 },\r\n              ]\"\r\n            />\r\n          </el-form-item>\r\n          <el-button\r\n            class=\"ml-h\"\r\n            type=\"primary\"\r\n            @click=\"handleAddDel(ind === sizeForm.list.length - 1 ? 'add' : 'del', true)\"\r\n            :icon=\"ind === sizeForm.list.length - 1 ? CirclePlus : Remove\"\r\n            circle\r\n          ></el-button>\r\n        </el-form-item>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit(ruleFormRef)\">提交</el-button>\r\n        <el-button @click=\"handleReset(ruleFormRef)\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div>\r\n      <el-button type=\"primary\" @click=\"sendFetch\">发送请求</el-button>\r\n      <el-button type=\"primary\" @click=\"sendFetchTest\">发送请求测试</el-button>\r\n      <el-button type=\"primary\" @click=\"abortFetch\">取消请求</el-button>\r\n    </div>\r\n    <div class=\"f-sb-c\">\r\n      <template>{{ undefined }}</template>\r\n      <template>{{ null }}</template>\r\n    </div>\r\n    <div>\r\n      <el-input placeholder=\"请输入\">\r\n        <template #prefix>\r\n          <BaseRender :data=\"VBaseIcon\" />\r\n        </template>\r\n        <template #append>\r\n          <BaseRender :data=\"VBaseIcon\" />\r\n        </template>\r\n      </el-input>\r\n    </div>\r\n    <div>\r\n      <el-popconfirm confirm-button-text=\"确认删除\" cancel-button-text=\"取消\">\r\n        <template #reference>\r\n          <el-button>点击打开弹窗</el-button>\r\n        </template>\r\n        <span>这是自定义内容</span>\r\n      </el-popconfirm>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { isVNode, reactive, ref, h } from \"vue\";\r\nimport type { ComponentSize, FormProps, FormInstance } from \"element-plus\";\r\nimport { CirclePlus, Remove } from \"@element-plus/icons-vue\";\r\nimport { PostMockCommon, GetMockCommonList } from \"@/api-mock\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nimport BaseIcon from \"@/components/BaseIcon.vue\";\r\nimport { cancelHttp } from \"@/services/http\";\nimport { defineOptions } from 'vue'; \ndefineOptions({ name: \"TestTest10Three\" }); \n\r\n\r\nconst size = ref<ComponentSize>(\"default\");\r\nconst labelPosition = ref<FormProps[\"labelPosition\"]>(\"right\");\r\nconst ruleFormRef = ref<FormInstance>();\r\n\r\nconst VBaseIcon = h(BaseIcon, { name: \"Lock\" });\r\nconst sizeForm = reactive({\r\n  name: \"\",\r\n  hour: 1,\r\n  money: 2,\r\n  cost: {\r\n    hour: 2,\r\n    money: 4,\r\n  },\r\n  list: [{ hour: undefined, money: undefined, type: undefined }],\r\n});\r\n\r\nfunction handleAddDel(type: \"add\" | \"del\", required = false) {\r\n  if (type === \"add\") {\r\n    if (required && true) {\r\n      sizeForm.list.push({ hour: undefined, money: undefined, type: undefined });\r\n    } else {\r\n    }\r\n  }\r\n}\r\nfunction onSubmit(formEl?: FormInstance) {\r\n  if (!formEl) return;\r\n  formEl.validate((valid, fields) => {\r\n    if (valid) {\r\n      console.log(\"submit!\");\r\n    } else {\r\n      console.log(\"error submit!\", fields);\r\n    }\r\n  });\r\n}\r\nfunction handleReset(formEl?: FormInstance) {\r\n  if (!formEl) return;\r\n  formEl.resetFields();\r\n}\r\nfunction sendFetch() {\r\n  console.log(\"点击了发送请求按钮\");\r\n  PostMockCommon({})\r\n    .then((res: CommonObj) => {\r\n      console.log(res, \"请求成功---------------------\");\r\n    })\r\n    .catch(err => {\r\n      console.log(err, \"取消请求catch----------\");\r\n    });\r\n}\r\nfunction sendFetchTest() {\r\n  console.log(\"点击了发送请求按钮\");\r\n  GetMockCommonList({})\r\n    .then((res: CommonObj) => {\r\n      console.log(res, \"请求成功---------------------\");\r\n    })\r\n    .catch(err => {\r\n      console.log(err, \"取消请求catch----------\");\r\n    });\r\n}\r\nfunction abortFetch() {\r\n  console.log(\"点击了取消请求按钮\");\r\n  cancelHttp();\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["size","ref","labelPosition","ruleFormRef","VBaseIcon","h","BaseIcon","name","sizeForm","reactive","hour","money","cost","list","type","sendFetch","PostMockCommon","then","res","catch","err","sendFetchTest","GetMockCommonList","abortFetch","required","push","formEl","validate","valid","fields","resetFields"],"mappings":"ywDAmIM,MAAAA,EAAOC,EAAmB,WAC1BC,EAAgBD,EAAgC,SAChDE,EAAcF,IAEdG,EAAYC,EAAEC,EAAU,CAAEC,KAAM,SAChCC,EAAWC,EAAS,CACxBF,KAAM,GACNG,KAAM,EACNC,MAAO,EACPC,KAAM,CACJF,KAAM,EACNC,MAAO,GAETE,KAAM,CAAC,CAAEH,UAAM,EAAWC,WAAO,EAAWG,UAAM,MAyBpD,SAASC,IAEPC,EAAe,CAAE,GACdC,MAAMC,IACuC,IAE7CC,OAAaC,IAC0B,GAE5C,CACA,SAASC,IAEPC,EAAkB,CAAE,GACjBL,MAAMC,IACuC,IAE7CC,OAAaC,IAC0B,GAE5C,CACA,SAASG,OAGT,60GA7CS,SAAaT,EAAqBU,GAAW,GACvC,QAATV,GACEU,GACOhB,EAAAK,KAAKY,KAAK,CAAEf,UAAM,EAAWC,WAAO,EAAWG,UAAM,GAIpE,qNACA,IAAkBY,eAETA,EAAAC,UAAS,CAACC,EAAOC,KAKtB,sEAGJ,IAAqBH,eAEnBA,EAAOI"}