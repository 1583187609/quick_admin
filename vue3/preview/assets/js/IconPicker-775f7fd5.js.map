{"version":3,"file":"IconPicker-775f7fd5.js","sources":["../../../src/views/system/menu/AddEdit/_components/IconPicker.vue"],"sourcesContent":["<template>\r\n  <div @click=\"showDialog = true\" class=\"icon-box f-c-c\">\r\n    <template v-if=\"iconName\">\r\n      <BaseIcon class=\"line-1\" style=\"line-height: 1\" size=\"28\" :name=\"iconName\"></BaseIcon>\r\n      <span class=\"ml-h\">{{ iconName }}</span>\r\n    </template>\r\n    <span class=\"placeholder\" v-else> 点击选择图标 </span>\r\n  </div>\r\n  <BasicDialog title=\"选择图标\" v-model=\"showDialog\" :footer=\"null\">\r\n    <el-tabs v-model=\"currTab\" class=\"f-0\" @tab-click=\"(tab) => (currTab = tab.paneName as TabNames)\">\r\n      <el-tab-pane label=\"所有图标\" name=\"All\"></el-tab-pane>\r\n      <el-tab-pane label=\"线框风格\" name=\"Line\"></el-tab-pane>\r\n      <el-tab-pane label=\"加粗风格\" name=\"Bold\"></el-tab-pane>\r\n      <el-tab-pane label=\"实底风格\" name=\"Filled\"></el-tab-pane>\r\n    </el-tabs>\r\n    <el-input\r\n      class=\"search\"\r\n      placeholder=\"请输入图标名称\"\r\n      :prefix-icon=\"ElementPlus\"\r\n      :suffix-icon=\"Search\"\r\n      v-model=\"searchVal\"\r\n      tabindex=\"1\"\r\n      v-focus\r\n    />\r\n    <ul class=\"list f-sb-fs-w all-hide-scroll f-1\">\r\n      <li @click=\"handleClick('')\" class=\"item f-c-c-c\" :class=\"{ active: iconName == '' }\">\r\n        <span class=\"f-c-c\" style=\"height: 32px; width: 32px; font-size: 22px\">无</span>\r\n        <span class=\"text line-1\">none</span>\r\n      </li>\r\n      <li\r\n        @click=\"handleClick(name)\"\r\n        class=\"item f-c-c-c\"\r\n        :class=\"{ active: iconName == name }\"\r\n        v-for=\"(name, ind) in names\"\r\n        :key=\"ind\"\r\n      >\r\n        <BaseIcon :name=\"name\" size=\"28\"></BaseIcon>\r\n        <BaseCopy class=\"text line-1\" :text=\"name\" clickIconCopy stop />\r\n      </li>\r\n      <li class=\"item f-c-c-c f-empty\" v-for=\"(item, ind) in 9\" :key=\"ind\"></li>\r\n    </ul>\r\n  </BasicDialog>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, inject, watch, computed } from \"vue\";\r\nimport * as Icons from \"@element-plus/icons-vue\";\r\nimport { ElementPlus, Search } from \"@element-plus/icons-vue\";\r\nimport { useFormItem } from \"element-plus\";\r\nimport BasicDialog from \"@/components/BasicDialog.vue\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nexport type TabNames = \"All\" | \"Line\" | \"Bold\" | \"Filled\";\r\n//实底风格\r\nconst filledIcons = [\r\n  \"Avatar\",\r\n  \"Briefcase\",\r\n  \"CaretTop\",\r\n  \"CaretRight\",\r\n  \"CaretBottom\",\r\n  \"CaretLeft\",\r\n  \"Checked\",\r\n  \"Comment\",\r\n  \"DCaret\",\r\n  \"Flag\",\r\n  \"Grid\",\r\n  \"Checked\",\r\n  \"Failed\",\r\n  \"List\",\r\n  \"Management\",\r\n  \"Menu\",\r\n  \"Histogram\",\r\n  \"Platform\",\r\n  \"Opportunity\",\r\n  \"Promotion\",\r\n  \"Shop\",\r\n  \"Stamp\",\r\n  \"TrendCharts\",\r\n  \"Ticket\",\r\n  \"Tools\",\r\n];\r\n//加粗风格\r\nconst boldIcons = [\"Eleme\", \"Expand\", \"Fold\", \"Select\", \"SemiSelect\", \"Share\"];\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    modelValue?: string;\r\n  }>(),\r\n  {\r\n    modelValue: \"\",\r\n  }\r\n);\r\nconst emits = defineEmits([\"update:modelValue\"]);\r\nconst { formItem } = useFormItem();\r\nconst searchVal = ref(\"\");\r\nconst showDialog = ref(false);\r\nconst currTab = ref<TabNames>(\"All\");\r\nconst iconsMap: CommonObj = {\r\n  All: [],\r\n  Line: [],\r\n  Filled: [],\r\n  Bold: [],\r\n};\r\nObject.keys(Icons).filter(it => {\r\n  iconsMap.All.push(it);\r\n  if (!it.endsWith(\"Filled\") && !it.endsWith(\"Bold\") && !boldIcons.includes(it) && !filledIcons.includes(it))\r\n    iconsMap.Line.push(it);\r\n  else if (it.endsWith(\"Filled\") || filledIcons.includes(it)) iconsMap.Filled.push(it);\r\n  else if (it.endsWith(currTab.value) || boldIcons.includes(it)) iconsMap.Bold.push(it);\r\n});\r\nconst names = computed(() => {\r\n  const icons = iconsMap[currTab.value];\r\n  if (!searchVal.value) return icons;\r\n  return icons.filter((it: string) => {\r\n    const val = searchVal.value.toLowerCase();\r\n    return it.toLowerCase().includes(val);\r\n  });\r\n});\r\nconst iconName = computed({\r\n  get() {\r\n    return props.modelValue;\r\n  },\r\n  set(val: string) {\r\n    emits(\"update:modelValue\", val);\r\n    formItem?.validate(\"change\");\r\n  },\r\n});\r\nfunction handleClick(name: string) {\r\n  iconName.value = name;\r\n  showDialog.value = false;\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.list {\r\n  // max-height: 100%;\r\n  max-height: calc(90vh - 100px);\r\n  min-width: 500px;\r\n  max-width: 1300px;\r\n  width: 80vw;\r\n  overflow: auto;\r\n  align-content: flex-start;\r\n  .item {\r\n    cursor: pointer;\r\n    flex-basis: 120px;\r\n    margin: $gap-half $gap-qtr;\r\n    &:hover {\r\n      color: #000;\r\n      transform: scale(1.2);\r\n      transition: 0.3s;\r\n    }\r\n    &.active {\r\n      color: $color-primary;\r\n      transform: scale(1.2);\r\n      transition: 0.3s;\r\n      .text {\r\n        color: $color-primary;\r\n      }\r\n    }\r\n    .text {\r\n      font-weight: 500;\r\n      margin-top: 2px;\r\n      font-size: $font-size-light;\r\n    }\r\n  }\r\n}\r\n.icon-box {\r\n  cursor: pointer;\r\n}\r\n.placeholder {\r\n  cursor: pointer;\r\n  color: $color-text-light;\r\n}\r\n.search {\r\n  position: absolute;\r\n  right: $gap;\r\n  top: 75px;\r\n  background: #fff;\r\n  width: 250px;\r\n}\r\n</style>\r\n"],"names":["filledIcons","boldIcons","props","__props","emits","__emit","formItem","useFormItem","searchVal","ref","showDialog","currTab","iconsMap","All","Line","Filled","Bold","Object","keys","Icons","filter","it","push","endsWith","includes","value","names","computed","icons","val","toLowerCase","iconName","get","modelValue","set","validate","handleClick","name"],"mappings":"w4DAoDA,MAAMA,EAAc,CAClB,SACA,YACA,WACA,aACA,cACA,YACA,UACA,UACA,SACA,OACA,OACA,UACA,SACA,OACA,aACA,OACA,YACA,WACA,cACA,YACA,OACA,QACA,cACA,SACA,SAGIC,EAAY,CAAC,QAAS,SAAU,OAAQ,SAAU,aAAc,SAChEC,EAAQC,EAQRC,EAAQC,GACRC,SAAEA,GAAaC,IACfC,EAAYC,EAAI,IAChBC,EAAaD,GAAI,GACjBE,EAAUF,EAAc,OACxBG,EAAsB,CAC1BC,IAAK,GACLC,KAAM,GACNC,OAAQ,GACRC,KAAM,IAERC,OAAOC,KAAKC,GAAOC,QAAaC,IACrBT,EAAAC,IAAIS,KAAKD,GACbA,EAAGE,SAAS,WAAcF,EAAGE,SAAS,SAAYtB,EAAUuB,SAASH,IAAQrB,EAAYwB,SAASH,GAE9FA,EAAGE,SAAS,WAAavB,EAAYwB,SAASH,GAAcT,EAAAG,OAAOO,KAAKD,IACxEA,EAAGE,SAASZ,EAAQc,QAAUxB,EAAUuB,SAASH,KAAcT,EAAAI,KAAKM,KAAKD,GAFvET,EAAAE,KAAKQ,KAAKD,EAE+D,IAEhF,MAAAK,EAAQC,GAAS,KACf,MAAAC,EAAQhB,EAASD,EAAQc,OAC/B,OAAKjB,EAAUiB,MACRG,EAAMR,QAAQC,IACb,MAAAQ,EAAMrB,EAAUiB,MAAMK,cAC5B,OAAOT,EAAGS,cAAcN,SAASK,EAAG,IAHTD,CAI5B,IAEGG,EAAWJ,EAAS,CACxBK,IAAM,IACG9B,EAAM+B,WAEf,GAAAC,CAAIL,GACFzB,EAAM,oBAAqByB,GAC3B,MAAAvB,GAAAA,EAAU6B,SAAS,SACrB,IAEF,SAASC,EAAYC,GACnBN,EAASN,MAAQY,EACjB3B,EAAWe,OAAQ,CACrB"}