{"version":3,"file":"CustomPrependAppendInput-d7aeb56a.js","sources":["../../../src/components/_test_components/CustomPrependAppendInput.vue"],"sourcesContent":["<!-- 存在问题，未来可能会用到 -->\r\n<template>\r\n  <el-input v-model=\"model.inp\" placeholder=\"请输入路径，例：/auth/menu/Index\" clearable>\r\n    <template #prepend>\r\n      <el-select v-model=\"model.sel\" placeholder=\"请选择\" style=\"width: 140px\">\r\n        <el-option :label=\"item.label\" :value=\"item.value\" v-for=\"(item, ind) in options\" :key=\"ind\" />\r\n      </el-select>\r\n    </template>\r\n    <template #append> .vue </template>\r\n  </el-input>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, reactive, watch, computed } from \"vue\";\r\nimport { Search } from \"@element-plus/icons-vue\";\r\nimport { ClickOutside, useFormItem } from \"element-plus\";\r\nimport { OptionItem } from \"@/vite-env\";\nimport { defineOptions } from 'vue'; \ndefineOptions({ name: \"CustomPrependAppendInput\" }); \n\r\nconst { formItem } = useFormItem();\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    modelValue?: string;\r\n    options?: OptionItem[];\r\n  }>(),\r\n  {\r\n    modelValue: \"/views/system/menu/Index.vue\",\r\n    options: () => [],\r\n  }\r\n);\r\nconst emits = defineEmits<{\r\n  (e: \"update:modelValue\", value: string): void;\r\n}>();\r\nconst model = computed({\r\n  get() {\r\n    const [e1, ...rest] = props.modelValue?.slice(1, -4).split(\"/\");\r\n    return new Proxy(\r\n      { sel: \"/\" + e1 + \"/\", inp: rest.join(\"/\") },\r\n      {\r\n        set(obj, name, val) {\r\n          const { sel, inp } = obj;\r\n          if (val.startsWith(\"/\")) {\r\n            val = val.slice(1);\r\n          }\r\n          emits(\"update:modelValue\", `${sel}${val}.vue`);\r\n          // formItem?.validate(\"input\");\r\n          return true;\r\n        },\r\n      }\r\n    );\r\n  },\r\n  set(val) {\r\n    // console.log(val, \"val-----------val\");\r\n    // emits(\"update:modelValue\", val);\r\n  },\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["useFormItem","props","__props","emits","__emit","model","computed","get","e1","rest","_a","modelValue","slice","split","Proxy","sel","inp","join","set","obj","name","val","startsWith"],"mappings":"2mCAmBiCA,IACjC,MAAMC,EAAQC,EAURC,EAAQC,EAGRC,EAAQC,EAAS,CACrB,GAAAC,SACQ,MAACC,KAAOC,GAAQ,OAAAC,EAAMT,EAAAU,iBAAY,EAAAD,EAAAE,MAAM,GAAG,GAAIC,MAAM,KAC3D,OAAO,IAAIC,MACT,CAAEC,IAAK,IAAMP,EAAK,IAAKQ,IAAKP,EAAKQ,KAAK,MACtC,CACE,GAAAC,CAAIC,EAAKC,EAAMC,GACP,MAAAN,IAAEA,EAAKC,IAAAA,GAAQG,EAMd,OALHE,EAAIC,WAAW,OACXD,EAAAA,EAAIT,MAAM,IAElBT,EAAM,oBAAqB,GAAGY,IAAMM,UAE7B,CACT,GAGN,EACA,GAAAH,CAAIG,GAGJ"}