{"version":3,"file":"Index-0b2f5742.js","sources":["../../../src/layout/_components/TooltipLabel.vue","../../../src/layout/_components/SideMenu/_components/SubMenu.vue","../../../src/layout/_components/SideMenu/Index.vue","../../../src/layout/_components/TheHead/_components/PageTags/PageTagItem.vue","../../../src/layout/_components/TheHead/_components/PageTags/DropMenu.vue","../../../src/layout/_components/TheHead/_components/PageTags/Index.vue","../../../src/layout/_components/TheHead/_components/UserInfo.vue","../../../src/layout/_components/TheHead/_components/Notices.vue","../../../src/layout/_components/TheHead/_components/SystemSet/_components/LayoutStyle.vue","../../../src/layout/_components/TheHead/_components/SystemSet/index.vue","../../../src/layout/_components/TheHead/_components/SystemInfo.vue","../../../src/layout/_components/TheHead/_components/SearchMenu.vue","../../../src/layout/_components/TheHead/_components/PathBreadcrumb.vue","../../../src/assets/images/logo.png","../../../src/layout/_components/TheHead/Index.vue","../../../src/layout/_components/TheMenu.vue","../../../src/layout/Index.vue"],"sourcesContent":["<!-- 当出现省略号时，鼠标放上来，会出现 title 提示 -->\r\n<template>\r\n  <!-- 使用 el-tooltip 会影响属性透传，暂时没想到更好的方法，故暂时不用 -->\r\n  <!-- <el-tooltip :content=\"label\" :show-after=\"200\" :disabled=\"disabled\"> -->\r\n  <!-- v-bind=\"$attrs\" -->\r\n  <span class=\"tooltip-label line-1\" :title=\"disabled ? '' : label\" @mouseenter=\"handleMouseenter\" ref=\"spanRef\">\r\n    {{ label }}\r\n  </span>\r\n  <!-- </el-tooltip> -->\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, nextTick, useAttrs } from \"vue\";\r\nimport { getIsOver } from \"@/utils\";\r\n// defineOptions({\r\n//   inheritAttrs: false,\r\n// });\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    label?: string;\r\n  }>(),\r\n  {}\r\n);\r\n// const $attrs = useAttrs();\r\nconst spanRef = ref(null);\r\nconst disabled = ref(true);\r\nfunction handleMouseenter() {\r\n  nextTick(() => {\r\n    disabled.value = !getIsOver(spanRef.value);\r\n  });\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n","<template>\r\n  <template v-for=\"(item, ind) in data\" :key=\"ind\">\r\n    <el-sub-menu :index=\"item.path\" v-if=\"item.children?.length\">\r\n      <template #title>\r\n        <BaseIcon size=\"1.4em\" :name=\"item.icon\" v-if=\"item.icon\" />\r\n        <TooltipLabel :label=\"item.label\" />\r\n      </template>\r\n      <SubMenu :data=\"item.children\" v-if=\"item.children?.length\" />\r\n    </el-sub-menu>\r\n    <template v-else>\r\n      <el-menu-item @click=\"handleClick(item)\" :index=\"item.path\" :disabled=\"item.disabled\" v-if=\"item.type !== 2\">\r\n        <template #title>\r\n          <BaseIcon size=\"1.4em\" :name=\"item.icon\" v-if=\"item.icon\" />\r\n          <TooltipLabel :label=\"item.label\" />\r\n        </template>\r\n      </el-menu-item>\r\n    </template>\r\n  </template>\r\n</template>\r\n<script lang=\"ts\">\r\nexport default {\r\n  name: \"SubMenu\",\r\n};\r\n</script>\r\n<script lang=\"ts\" setup>\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport type { ResponseMenuItem } from \"@/layout/_components/SideMenu/_types\";\r\nimport TooltipLabel from \"@/layout/_components/TooltipLabel.vue\";\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    data: ResponseMenuItem[];\r\n  }>(),\r\n  {\r\n    data: () => [],\r\n  }\r\n);\r\nconst router = useRouter();\r\nfunction handleClick(menu: ResponseMenuItem) {\r\n  const { id, link_type, path, label } = menu;\r\n  if (!link_type) {\r\n    router.push(path);\r\n    document.title = label;\r\n    return;\r\n  }\r\n  router.push({ name: \"innerLink\", query: { url: path } });\r\n  if (link_type === 1) {\r\n    document.title = label;\r\n  } else if (link_type === 2) {\r\n    // const win =  window.open(path, \"_blank\"); // 空白页打开\r\n    const win = window.open(path, id); // 空白页打开，且保证id相同时，始终打开同一个标签页（不另开一个标签页打开）\r\n\r\n    // console.log(win, \"win---------\");\r\n    // const tagIcon = document.createElement(\"link\");\r\n    // tagIcon.rel = \"icon\";\r\n    // tagIcon.type = \"image/svg+xml\";\r\n    // tagIcon.href = \"/ico.svg\";\r\n    // win?.document.head.appendChild(tagIcon);\r\n  } else {\r\n    throw new Error(`暂不支持code为${link_type}的外链类型`);\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.base-icon {\r\n  margin-right: $gap-qtr;\r\n}\r\n</style>\r\n","<template>\r\n  <el-menu\r\n    id=\"side-menu\"\r\n    class=\"side-menu all-hide-scroll\"\r\n    :background-color=\"effect === 'dark' ? navBgDark : navBgLight\"\r\n    :text-color=\"effect === 'dark' ? navTextColorLight : navBgLight\"\r\n    :collapse=\"menuStore.isCollapse\"\r\n    :default-active=\"route.path\"\r\n    :default-openeds=\"defaultOpeneds\"\r\n    :unique-opened=\"!!setStore.menu.uniqueOpened\"\r\n    @click=\"handleClick\"\r\n    :router=\"false\"\r\n  >\r\n    <SubMenu :data=\"props.menus ?? menuStore.allMenus\" v-if=\"(props.menus ?? menuStore.allMenus)?.length\" />\r\n    <BaseEmpty tips=\"无\" size=\"32\" v-else />\r\n  </el-menu>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport SubMenu from \"./_components/SubMenu.vue\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nimport { useMenuStore, useSetStore } from \"@/store\";\r\nimport { useRoute } from \"vue-router\";\r\nimport cssVars from \"@/assets/styles/_var.module.scss\";\r\nimport { ResponseMenuItem, MenuEffect } from \"./_types\";\r\n\r\nconst { navBgDark, navTextColorLight, navBgLight } = cssVars;\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    defaultOpeneds?: string[]; //默认打开的 sub-menu 的 index 的数组\r\n    map?: CommonObj; //键值对映射 ResponseMenuItem\r\n    menus?: ResponseMenuItem[];\r\n    effect?: MenuEffect;\r\n  }>(),\r\n  {\r\n    effect: \"dark\",\r\n  }\r\n);\r\nconst route = useRoute();\r\nconst menuStore = useMenuStore();\r\nconst setStore = useSetStore();\r\nmenuStore.initMenusActive(route.path); //初始菜单选中项\r\nfunction handleClick() {\r\n  if (setStore.layout.type === \"columns\") {\r\n    menuStore.isCollapse = false;\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.side-menu {\r\n  overflow: auto;\r\n  border-right: none;\r\n}\r\n</style>\r\n","<template>\r\n  <el-tag class=\"route-tag\" :effect=\"active ? 'dark' : 'light'\" @contextmenu.prevent=\"onContextmenu\" :closable=\"closable\">\r\n    <div class=\"f-c-c\">\r\n      <BaseIcon class=\"mr-4\" size=\"1.2em\" :name=\"icon\" v-if=\"icon\"></BaseIcon>\r\n      <span class=\"text line-1\"><slot></slot></span>\r\n    </div>\r\n  </el-tag>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nexport type CopyType = \"path\";\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    icon?: string;\r\n    active?: boolean;\r\n    closable?: boolean;\r\n  }>(),\r\n  {\r\n    closable: true,\r\n    active: false,\r\n  }\r\n);\r\nconst emits = defineEmits([\"contextmenu\"]);\r\nfunction onContextmenu(e: Event) {\r\n  emits(\"contextmenu\", e);\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.route-tag {\r\n  position: relative;\r\n  cursor: pointer;\r\n  &:not(:last-child) {\r\n    margin-right: $gap-qtr;\r\n  }\r\n  .text {\r\n    // max-width: 8em;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <el-dropdown ref=\"dropRef\" class=\"drop-menu\" :style=\"style\" trigger=\"contextmenu\" @visible-change=\"handleVisible\" hide-on-click>\r\n    <div class=\"dot\"></div>\r\n    <template #dropdown>\r\n      <el-dropdown-menu>\r\n        <el-dropdown-item\r\n          @click=\"onMenuItem(item.type)\"\r\n          :divided=\"item.divided\"\r\n          :disabled=\"getDisabled(item.type)\"\r\n          v-for=\"(item, ind) in dropdowns\"\r\n          :key=\"ind\"\r\n        >\r\n          {{ item.text }}\r\n        </el-dropdown-item>\r\n      </el-dropdown-menu>\r\n    </template>\r\n  </el-dropdown>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, watch, reactive, computed } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nexport type RouteTagType = \"home\" | \"first\" | \"other\" | \"last\";\r\nexport type MenuItemType =\r\n  | \"closeIndex\"\r\n  | \"closeOthers\"\r\n  | \"closeRight\"\r\n  | \"closeLeft\"\r\n  | \"closeAll\"\r\n  | \"closeSaved\"\r\n  | \"reload\"\r\n  | \"copyPath\"\r\n  | \"copyWholePath\";\r\nexport type CopyType = \"path\";\r\nexport interface PageTagItemType {\r\n  text: string; //路由标题\r\n  path: string; //路由路径\r\n  name: string; //路由对应的组件名称\r\n  id?: string;\r\n  icon?: string;\r\n}\r\ninterface DropdownItem {\r\n  text: string;\r\n  type: MenuItemType;\r\n  divided: boolean;\r\n}\r\nconst { tm: $t } = useI18n();\r\nconst dropdowns = reactive<DropdownItem[]>([\r\n  {\r\n    text: $t(\"layout.pageTags.close\"),\r\n    type: \"closeIndex\",\r\n    divided: false,\r\n  },\r\n  {\r\n    text: $t(\"layout.pageTags.closeOther\"),\r\n    type: \"closeOthers\",\r\n    divided: false,\r\n  },\r\n  {\r\n    text: $t(\"layout.pageTags.closeToRight\"),\r\n    type: \"closeRight\",\r\n    divided: false,\r\n  },\r\n  {\r\n    text: $t(\"layout.pageTags.closeToLeft\"),\r\n    type: \"closeLeft\",\r\n    divided: false,\r\n  },\r\n  {\r\n    text: $t(\"layout.pageTags.closeAll\"),\r\n    type: \"closeAll\",\r\n    divided: false,\r\n  },\r\n  // {\r\n  //   text: \"关闭已保存\",\r\n  //   type: \"closeSaved\",\r\n  //   divided: false,\r\n  // },\r\n  {\r\n    text: $t(\"layout.pageTags.copyPath\"),\r\n    type: \"copyPath\",\r\n    divided: true,\r\n  },\r\n  {\r\n    text: $t(\"layout.pageTags.copyFullPath\"),\r\n    type: \"copyWholePath\",\r\n    divided: false,\r\n  },\r\n  {\r\n    text: $t(\"layout.pageTags.refresh\"),\r\n    type: \"reload\",\r\n    divided: true,\r\n  },\r\n]);\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    data?: null | CommonObj;\r\n    currInd: number;\r\n    total: number;\r\n  }>(),\r\n  {\r\n    total: 0,\r\n    currInd: -1,\r\n  }\r\n);\r\nconst emits = defineEmits([\"menuItem\"]);\r\nconst dropRef = ref();\r\nconst visible = ref(false);\r\nlet style = reactive({});\r\nconst status: CommonObj = reactive({\r\n  isHome: false,\r\n  isFirst: false,\r\n  isLast: false,\r\n  isEmpty: false,\r\n  isOnly: false,\r\n});\r\nconst getDisabled = computed(() => {\r\n  const { isHome, isEmpty, isOnly, isLast, isFirst } = status;\r\n  const map: CommonObj = {\r\n    closeIndex: isHome,\r\n    closeOthers: isHome ? isEmpty : isOnly,\r\n    closeRight: isLast,\r\n    closeLeft: isHome || isFirst,\r\n    closeAll: isEmpty,\r\n    closeSaved: true,\r\n    copyPath: false,\r\n    copyWholePath: false,\r\n    reload: isHome,\r\n  };\r\n  return (type: MenuItemType) => {\r\n    return map[type];\r\n  };\r\n});\r\nwatch(\r\n  () => {\r\n    return { currInd: props.currInd, total: props.total };\r\n  },\r\n  newVal => {\r\n    const { currInd, total } = newVal;\r\n    status.isHome = currInd === -1;\r\n    status.isFirst = currInd === 0;\r\n    status.isLast = currInd === total - 1;\r\n    status.isEmpty = total === 0;\r\n    status.isOnly = total === 1;\r\n  },\r\n  { immediate: true }\r\n);\r\nwatch(\r\n  () => props.data,\r\n  (newVal: CommonObj) => {\r\n    const { width, height, left, top } = newVal;\r\n    style = {\r\n      height: 0,\r\n      width: 0,\r\n      left: left + width / 2 + \"px\",\r\n      top: top + height + \"px\",\r\n    };\r\n    dropRef.value.handleOpen();\r\n  },\r\n  { deep: true }\r\n);\r\nfunction onMenuItem(type: MenuItemType) {\r\n  emits(\"menuItem\", type, props.currInd);\r\n}\r\nfunction handleVisible(isShow: boolean) {\r\n  visible.value = isShow;\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.drop-menu {\r\n  position: fixed;\r\n}\r\n.dot {\r\n  z-index: -1;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"page-tags f-fs-c\">\r\n    <PageTagItem\r\n      class=\"f-0 ml-h\"\r\n      icon=\"House\"\r\n      :path=\"defaultHomePath\"\r\n      :active=\"currTagInd === -1\"\r\n      :closable=\"false\"\r\n      @close=\"onMenuItem('closeIndex', -1)\"\r\n      @click=\"onTagItem(homeTag, -1)\"\r\n      @contextmenu=\"onContextmenu($event, -1)\"\r\n    >\r\n      {{ $t(\"layout.pageTags.home\") }}\r\n    </PageTagItem>\r\n    <button @click=\"onArrowBtn(-1)\" class=\"btn f-c-c f-0\" :class=\"{ disabled: leftDisabled }\" :disabled=\"leftDisabled\">\r\n      <BaseIcon size=\"18\" name=\"DArrowLeft\"></BaseIcon>\r\n    </button>\r\n    <div class=\"tags-box f-fs-c f-1\">\r\n      <Draggable\r\n        v-model=\"tags\"\r\n        animation=\"300\"\r\n        @start=\"draging = true\"\r\n        @end=\"draging = false\"\r\n        @update=\"onUpdate\"\r\n        @mousewheel.passive=\"handleWheelDelta\"\r\n        item-key=\"path\"\r\n        class=\"f-1 scroll all-hide-scroll\"\r\n        ref=\"scrollRef\"\r\n      >\r\n        <template #item=\"{ element, index }\">\r\n          <PageTagItem\r\n            :icon=\"setStore.pageTags.showIcon ? element.icon : undefined\"\r\n            :path=\"element.path\"\r\n            :active=\"currTagInd === index\"\r\n            @close=\"onMenuItem('closeIndex', index)\"\r\n            @click=\"onTagItem(element, index)\"\r\n            @contextmenu=\"onContextmenu($event, index)\"\r\n          >\r\n            {{ element.text }}\r\n          </PageTagItem>\r\n        </template>\r\n      </Draggable>\r\n      <DropMenu class=\"f-0\" :currInd=\"contMenuInd\" :total=\"tags.length\" :data=\"bcrInfo\" @menuItem=\"onMenuItem\"></DropMenu>\r\n    </div>\r\n    <button @click=\"onArrowBtn(1)\" class=\"btn f-c-c f-0\" :class=\"{ disabled: rightDisabled }\" :disabled=\"rightDisabled\">\r\n      <BaseIcon size=\"18\" name=\"DArrowRight\"></BaseIcon>\r\n    </button>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\n// 实现平滑滚动参考博客：https://blog.csdn.net/qq_41999592/article/details/113842602\r\n// vuedraggable博客：https://blog.csdn.net/zjiang1994/article/details/79809687\r\n//获取dom（含v-for中的dom元素）元素参考：https://devpress.csdn.net/viewdesign/643fa7f8986c660f3cf94e6d.html\r\n//动态清除keep-alive的缓存：https://juejin.cn/post/6844903649517240328\r\n\r\nimport { ref, watch, onMounted, nextTick, inject } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport Draggable from \"vuedraggable\";\r\nimport PageTagItem from \"./PageTagItem.vue\";\r\nimport { PageTagItemType, MenuItemType } from \"./DropMenu.vue\";\r\nimport DropMenu from \"./DropMenu.vue\";\r\nimport { storage, copyText, showMessage } from \"@/utils\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nimport { useEvent } from \"@/hooks\";\r\nimport { defaultHomePath } from \"@/utils\";\r\nimport { useKeepAliveStore, useSetStore } from \"@/store\";\r\n\r\nconst keepAliveStore = useKeepAliveStore();\r\nconst setStore = useSetStore();\r\nconst reloadView: any = inject(\"reloadView\");\r\nconst homeTag = { text: \"首页\", path: defaultHomePath } as PageTagItemType;\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst draging = ref(false); //是否在拖动中\r\nconst leftDisabled = ref(true);\r\nconst rightDisabled = ref(true);\r\nconst currTagInd = ref<number>(-1);\r\nconst contMenuInd = ref<number>(-1);\r\nconst tags = ref<PageTagItemType[]>(storage.getItem(\"pageTags\") || []); //tempTags\r\nconst scrollRef = ref<any>(null);\r\nconst bcrInfo = ref({});\r\nuseEvent(\"resize\", initDisabled);\r\nwatch(\r\n  route,\r\n  (newVal: any) => {\r\n    const { fullPath, query, path } = newVal;\r\n    const { title, tagIdKey = \"id\", icon, linkType } = newVal.meta;\r\n    const compName = newVal.matched.at(-1)?.components?.default.name;\r\n    addToRoutes({\r\n      text: title,\r\n      path: fullPath,\r\n      id: query[tagIdKey],\r\n      name: compName,\r\n      icon,\r\n    });\r\n    activeTagScrollToCenter(fullPath);\r\n  },\r\n  {\r\n    immediate: true,\r\n  }\r\n);\r\nonMounted(() => {\r\n  initDisabled();\r\n  //刷新或关闭页面前保存缓存数据，解决因为刷新导致VueX数据丢失的问题\r\n  window.addEventListener(\"beforeunload\", () => {\r\n    storage.setItem(\"pageTags\", tags.value);\r\n  });\r\n});\r\nfunction getCurrTagInd(contInd: number) {\r\n  const len = tags.value.length;\r\n  let currInd = currTagInd.value;\r\n  if (len === 0) {\r\n    currInd = -1;\r\n  } else {\r\n    if (contInd < currInd) {\r\n      currInd = currInd - 1;\r\n    }\r\n  }\r\n  if (currInd < -1) {\r\n    currInd = -1;\r\n  } else if (currInd > len - 1) {\r\n    currInd = len - 1;\r\n  }\r\n  currTagInd.value = currInd;\r\n  router.push(currInd === -1 ? defaultHomePath : tags.value[currInd].path);\r\n}\r\nfunction onMenuItem(type: MenuItemType, ind: number) {\r\n  if (type === \"closeIndex\") {\r\n    tags.value.splice(ind, 1);\r\n  } else if (type === \"closeOthers\") {\r\n    tags.value = contMenuInd.value === -1 ? [] : tags.value.slice(ind, ind + 1);\r\n  } else if (type === \"closeRight\") {\r\n    tags.value = tags.value.slice(0, ind + 1);\r\n  } else if (type === \"closeLeft\") {\r\n    tags.value = tags.value.slice(ind);\r\n  } else if (type === \"closeAll\") {\r\n    tags.value = [];\r\n    router.replace(defaultHomePath);\r\n  } else if (type === \"reload\") {\r\n    currTagInd.value = ind;\r\n    reloadView();\r\n  } else if (type === \"copyPath\") {\r\n    copyText(tags.value[ind]?.path);\r\n  } else if (type === \"copyWholePath\") {\r\n    copyText(location.href);\r\n  } else if (type === \"closeSaved\") {\r\n    showMessage(\"暂未开通关闭已保存功能\", \"warning\");\r\n  } else {\r\n    showMessage(\"暂不支持此类型：\" + type, \"error\");\r\n  }\r\n  getCurrTagInd(ind);\r\n  // 关闭之后，将左右视情况按钮禁用，貌似不生效\r\n  initDisabled();\r\n  //清除关掉的页签的缓存\r\n  const removeNames = getRemoveNames(tags.value);\r\n  keepAliveStore.remove(removeNames);\r\n}\r\nfunction getRemoveNames(tags: CommonObj[]) {\r\n  const names = tags.map(it => it.name);\r\n  return keepAliveStore.list.filter(it => !names.includes(it));\r\n}\r\nfunction onUpdate(data: CommonObj) {\r\n  const { newIndex } = data;\r\n  currTagInd.value = newIndex;\r\n}\r\n//监听鼠标滚轮滚动时，页签跟随滚动条滚动\r\nfunction handleWheelDelta(e: any, speed = 4) {\r\n  const { deltaY } = e;\r\n  const ele = scrollRef?.value?.targetDomElement;\r\n  const { scrollLeft } = ele;\r\n  const left = scrollLeft + deltaY * speed;\r\n  ele.scrollTo(left, 0);\r\n  initDisabled();\r\n}\r\nfunction onArrowBtn(direction = 1, num = 300) {\r\n  const ele = scrollRef?.value?.targetDomElement;\r\n  const { scrollLeft } = ele;\r\n  const left = scrollLeft + num * direction;\r\n  ele.scrollTo(left, 0);\r\n  initDisabled();\r\n}\r\nfunction activeTagScrollToCenter(fullPath: string) {\r\n  const findInd = tags.value.findIndex((it: PageTagItemType) => it.path === fullPath);\r\n  nextTick(() => {\r\n    const scrollEle = scrollRef?.value?.targetDomElement;\r\n    if (!scrollEle) return;\r\n    const { offsetWidth: scrollOffsetWidth, scrollLeft } = scrollEle;\r\n    const findDom = scrollEle.children[findInd];\r\n    if (!findDom) return;\r\n    const { offsetLeft: tagOffsetLeft, offsetWidth: tagOffsetWidth } = findDom;\r\n    const { left } = findDom.getBoundingClientRect();\r\n    // //如果标签在右侧可视区外\r\n    // if (tagOffsetLeft > scrollOffsetWidth) {\r\n    //   let toLeft = tagOffsetLeft - scrollOffsetWidth + tagOffsetWidth;\r\n    //   isToCenter && (toLeft += (scrollOffsetWidth - tagOffsetWidth) / 2);\r\n    //   scrollEle.scrollTo(toLeft, 0);\r\n    // }\r\n    // //如果标签在左侧可视区域外\r\n    // else if (tagOffsetLeft < scrollLeft) {\r\n    //   let toLeft = tagOffsetLeft;\r\n    //   isToCenter && (toLeft -= (scrollOffsetWidth - tagOffsetWidth) / 2);\r\n    //   scrollEle.scrollTo(toLeft, 0);\r\n    // }\r\n    // //如果标签在可视区域内\r\n    // else {\r\n    //   if (isToCenter) {\r\n    //     let toLeft = scrollLeft + (scrollOffsetWidth - tagOffsetWidth) / 2;\r\n    //     scrollEle.scrollTo(toLeft, 0);\r\n    //   }\r\n    // }\r\n    const toLeft = tagOffsetLeft - (scrollOffsetWidth - tagOffsetWidth) / 2;\r\n    scrollEle.scrollTo(toLeft, 0);\r\n  });\r\n}\r\nfunction initDisabled() {\r\n  //必须要使用setTimeout，不然会引起bug（貌似onArrowBtn 中的 ele.scrollTo(left, 0) 是个异步函数，暂不清楚原因）\r\n  // setTimeout(() => {\r\n  const ele = scrollRef?.value?.targetDomElement;\r\n  if (!ele) return;\r\n  const { scrollWidth, clientWidth, offsetWidth, scrollLeft } = ele;\r\n  const width = clientWidth || offsetWidth;\r\n  rightDisabled.value = scrollLeft + width >= scrollWidth;\r\n  leftDisabled.value = scrollLeft <= 0;\r\n  // }, 300);\r\n}\r\nfunction onTagItem(item: PageTagItemType, ind: number) {\r\n  router.push(item.path);\r\n  currTagInd.value = ind;\r\n}\r\nfunction onContextmenu(e: Event, ind: number) {\r\n  bcrInfo.value = e.currentTarget?.getBoundingClientRect();\r\n  contMenuInd.value = ind;\r\n}\r\n//添加进路由历史记录\r\nfunction addToRoutes(data: PageTagItemType) {\r\n  const { text, path, id } = data;\r\n  const target = tags.value.find(it => it.path === path);\r\n  if (!target) {\r\n    if (path !== defaultHomePath) {\r\n      if (text === \"404\") {\r\n        data.text = path;\r\n      }\r\n      if (id) {\r\n        data.text += `(${id})`;\r\n      }\r\n      tags.value.push(data);\r\n      currTagInd.value = tags.value.length - 1;\r\n      initDisabled();\r\n    } else {\r\n      currTagInd.value = -1;\r\n    }\r\n  } else {\r\n    const ind = tags.value.findIndex(it => it.path === path);\r\n    currTagInd.value = ind;\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.page-tags {\r\n  height: $page-tags-height;\r\n  box-shadow: $shadow-main;\r\n  background: #fff;\r\n  .btn {\r\n    color: $color-text-main;\r\n    height: $page-tags-height;\r\n    flex-basis: 30px;\r\n    font-weight: bolder;\r\n    &:hover {\r\n      color: $color-primary;\r\n      background: $color-bg-heavyer;\r\n    }\r\n    &.disabled {\r\n      color: #999;\r\n      cursor: not-allowed;\r\n      opacity: 0.4;\r\n      &:hover {\r\n        background: none;\r\n      }\r\n    }\r\n  }\r\n  .tags-box {\r\n    overflow: auto;\r\n    padding: $gap-qtr;\r\n    .scroll {\r\n      position: relative;\r\n      box-sizing: border-box;\r\n      white-space: nowrap;\r\n      height: 24px;\r\n      overflow: scroll;\r\n      scroll-behavior: smooth;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <BaseForm\r\n    style=\"width: 400px\"\r\n    :fields=\"fields\"\r\n    v-model=\"model\"\r\n    :fetch=\"GetUserList\"\r\n    :moreBtns=\"[editEnable ? { name: 'view', text: '查看' } : { name: 'edit', text: '修改' }]\"\r\n    :submitText=\"editEnable ? undefined : ''\"\r\n    :resetText=\"editEnable ? undefined : ''\"\r\n    @moreBtns=\"onMoreBtns\"\r\n  >\r\n    <template #avatar>\r\n      <BaseAvatar :src=\"model.avatar\" size=\"100\" />\r\n    </template>\r\n  </BaseForm>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, reactive, watch, computed } from \"vue\";\r\nimport { getUserInfo, handleBtnNext } from \"@/utils\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nimport { FormFieldAttrs } from \"@/components/BaseFormItem\";\r\nimport { GetUserList } from \"@/api-mock\";\r\nimport { BtnName } from \"@/components/BaseBtn\";\r\n\r\nconst editEnable = ref(false);\r\nconst model = reactive<CommonObj>(getUserInfo());\r\nconst fields = computed<FormFieldAttrs[]>(() => {\r\n  return [\r\n    {\r\n      prop: \"avatar\",\r\n      label: \"头像\",\r\n      type: editEnable.value ? \"BaseUpload\" : \"custom\",\r\n      attrs: {\r\n        disabled: !editEnable.value,\r\n      },\r\n    },\r\n    {\r\n      prop: \"account\",\r\n      label: \"账号名称\",\r\n      attrs: {\r\n        disabled: true,\r\n      },\r\n    },\r\n    {\r\n      prop: \"name\",\r\n      label: \"用户名称\",\r\n      attrs: {\r\n        disabled: true,\r\n        maxlength: 10,\r\n      },\r\n    },\r\n    {\r\n      prop: \"type_text\",\r\n      label: \"用户类型\",\r\n      attrs: {\r\n        disabled: true,\r\n      },\r\n    },\r\n    {\r\n      prop: \"gender\",\r\n      label: \"性别\",\r\n      type: \"radio-group\",\r\n      options: \"Gender\",\r\n      attrs: {\r\n        type: \"button\",\r\n        disabled: true,\r\n      },\r\n    },\r\n    {\r\n      prop: \"nickname\",\r\n      label: \"用户昵称\",\r\n      attrs: {\r\n        maxlength: 10,\r\n        disabled: !editEnable.value,\r\n      },\r\n    },\r\n    {\r\n      prop: \"phone\",\r\n      label: \"电话号码\",\r\n      attrs: {\r\n        disabled: !editEnable.value,\r\n      },\r\n      extra: {\r\n        valid: \"phone\",\r\n      },\r\n    },\r\n    ...(editEnable.value\r\n      ? [\r\n          {\r\n            prop: \"password\",\r\n            label: \"新密码\",\r\n            attrs: {\r\n              type: \"password\",\r\n            },\r\n            extra: {\r\n              valid: \"password\",\r\n            },\r\n          },\r\n          {\r\n            prop: \"rePassword\",\r\n            label: \"确认密码\",\r\n            rules: [{ validator: checkConfirmPsd, trigger: \"blur\" }],\r\n            attrs: {\r\n              type: \"password\",\r\n            },\r\n            extra: {\r\n              valid: \"password\",\r\n            },\r\n          },\r\n        ]\r\n      : []),\r\n  ];\r\n});\r\n// 自定义校验：校验两次输入的密码是否一致\r\nfunction checkConfirmPsd(rule: any, value: any, callback: any) {\r\n  if (value !== model.password) {\r\n    callback(new Error(\"密码和确认密码需要保持一致\"));\r\n  } else {\r\n    callback();\r\n  }\r\n}\r\nfunction onMoreBtns(name: BtnName) {\r\n  handleBtnNext(\r\n    {\r\n      edit: () => (editEnable.value = true),\r\n      view: () => (editEnable.value = false),\r\n    },\r\n    name\r\n  );\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n","<!-- 页面-简介 -->\r\n<template>\r\n  <el-tabs v-model=\"activeName\">\r\n    <el-tab-pane label=\"通知(5)\" name=\"first\">\r\n      <div class=\"list\" v-if=\"true\">\r\n        <div class=\"item\" v-for=\"(item, ind) in 5\" :key=\"ind\">\r\n          <BaseImg class=\"icon\" />\r\n          <div class=\"content\">\r\n            <span class=\"title\">这是通知（{{ ind + 1 }}）</span>\r\n            <span class=\"time-ago\">一分钟前</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <BaseEmpty v-else />\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"消息(0)\" name=\"second\">\r\n      <div class=\"list\" v-if=\"false\">\r\n        <div class=\"item\" v-for=\"(item, ind) in 5\" :key=\"ind\">\r\n          <BaseImg class=\"icon\" />\r\n          <div class=\"content\">\r\n            <span class=\"title\">这是消息（{{ ind + 1 }}）</span>\r\n            <span class=\"time-ago\">一分钟前</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <BaseEmpty v-else />\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"待办(0)\" name=\"third\">\r\n      <div class=\"list\" v-if=\"false\">\r\n        <div class=\"item\" v-for=\"(item, ind) in 5\" :key=\"ind\">\r\n          <BaseImg class=\"icon\" />\r\n          <div class=\"content\">\r\n            <span class=\"title\">这是待办（{{ ind + 1 }}）</span>\r\n            <span class=\"time-ago\">一分钟前</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <BaseEmpty v-else />\r\n    </el-tab-pane>\r\n  </el-tabs>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, reactive, watch, computed } from \"vue\";\r\nimport { CommonObj, FinallyNext, StrNum } from \"@/vite-env\";\r\nimport { Search } from \"@element-plus/icons-vue\";\r\nimport BaseEmpty from \"@/components/BaseEmpty.vue\";\r\n// const props = withDefaults(\r\n//   defineProps<{\r\n//     exampleProp?: CommonObj;\r\n//   }>(),\r\n//   {\r\n//     exampleProp: () => ({}),\r\n//   }\r\n// );\r\nconst activeName = ref(\"first\");\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  .item {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 20px 0;\r\n    border-bottom: 1px solid var(--el-border-color-light);\r\n    &:last-child {\r\n      border: none;\r\n    }\r\n    .icon {\r\n      width: 40px;\r\n      height: 40px;\r\n      margin: 0 20px 0 5px;\r\n    }\r\n    .content {\r\n      display: flex;\r\n      flex-direction: column;\r\n      .title {\r\n        margin-bottom: 5px;\r\n      }\r\n      .time-ago {\r\n        font-size: 12px;\r\n        color: var(--el-text-color-secondary);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<!-- 页面-简介 -->\r\n<template>\r\n  <div class=\"layout-style f-sb-fs-w\">\r\n    <el-tooltip :content=\"item.name\" v-bind=\"tooltipAttrs\" v-for=\"(item, key) in layoutMap\" :key=\"key\">\r\n      <div class=\"item\" @click=\"handleSelected(key)\" :class=\"{ active: type == key, [item.class]: true, [key]: true }\">\r\n        <template v-if=\"key === 'columns'\">\r\n          <div class=\"menu box f-0\"></div>\r\n          <div class=\"side box f-0\"></div>\r\n          <div class=\"f-fs-s-c f-1\">\r\n            <div class=\"side box f-0 right\">1</div>\r\n            <div class=\"main box f-1\"></div>\r\n          </div>\r\n        </template>\r\n        <template v-else-if=\"key === 'classics'\">\r\n          <div class=\"menu box f-0\"></div>\r\n          <div class=\"f-sb-s f-1\">\r\n            <div class=\"side box f-0\"></div>\r\n            <div class=\"main box f-1\"></div>\r\n          </div>\r\n        </template>\r\n        <template v-else-if=\"key === 'vertical'\">\r\n          <div class=\"menu box f-0\"></div>\r\n          <div class=\"main box f-1\"></div>\r\n        </template>\r\n        <template v-else-if=\"key === 'horizontal'\">\r\n          <div class=\"menu box f-0\"></div>\r\n          <div class=\"main box f-1\"></div>\r\n        </template>\r\n      </div>\r\n    </el-tooltip>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, reactive, watch, computed } from \"vue\";\r\nimport { CommonObj, FinallyNext, StrNum } from \"@/vite-env\";\r\nimport { LayoutType } from \"@/store/modules/set\";\r\nimport store, { useBaseStore, useSetStore } from \"@/store\";\r\nconst layoutMap = {\r\n  columns: {\r\n    name: \"分栏\",\r\n    class: \"f-sb-s\",\r\n  },\r\n  classics: {\r\n    name: \"经典\",\r\n    class: \"f-fs-s-c\",\r\n  },\r\n  vertical: {\r\n    name: \"纵向\",\r\n    class: \"f-sb-s\",\r\n  },\r\n  horizontal: {\r\n    name: \"横向\",\r\n    class: \"f-fs-s-c\",\r\n  },\r\n};\r\nconst tooltipAttrs = {\r\n  placement: \"top\",\r\n  showAfter: 200,\r\n};\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    modelValue?: LayoutType;\r\n  }>(),\r\n  {\r\n    modelValue: \"vertical\",\r\n  }\r\n);\r\nconst emits = defineEmits([\"update:modelValue\"]);\r\nconst setStore = useSetStore();\r\nconst type = computed({\r\n  get() {\r\n    return props.modelValue;\r\n  },\r\n  set(val: LayoutType) {\r\n    emits(\"update:modelValue\", val);\r\n  },\r\n});\r\nfunction handleSelected(val: LayoutType) {\r\n  type.value = val;\r\n  setStore.updateSet(\"layout\", { type: val });\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n$ratio: 0.06;\r\n$height: $header-height * $ratio;\r\n$width: $asider-width * $ratio;\r\n$nav-width: $main-menu-width * $ratio;\r\n.layout-style {\r\n  .item {\r\n    padding: $gap-qtr;\r\n    margin: 0 $gap-half;\r\n    width: 1920px * $ratio;\r\n    height: 1080px * $ratio;\r\n    cursor: pointer;\r\n    border-radius: $radius-light;\r\n    border: 2px solid transparent;\r\n    @include shadow-main();\r\n    &:nth-child(1),\r\n    &:nth-child(2) {\r\n      margin-bottom: 12px;\r\n    }\r\n    .box {\r\n      &.menu {\r\n        background: $color-primary;\r\n      }\r\n      &.side {\r\n        background: mix($color-primary, #ffffff, 65%);\r\n      }\r\n      &.main {\r\n        border-radius: 2px;\r\n        background: mix($color-primary, #ffffff, 15%);\r\n      }\r\n    }\r\n    &.columns {\r\n      .menu {\r\n        width: $nav-width;\r\n      }\r\n      .side {\r\n        width: 16%;\r\n        &.right {\r\n          width: 100%;\r\n          height: 20%;\r\n        }\r\n      }\r\n    }\r\n    &.classics {\r\n      .menu {\r\n        height: $height;\r\n      }\r\n      .side {\r\n        flex-basis: $width;\r\n        background: $color-primary;\r\n      }\r\n    }\r\n    &.vertical {\r\n      .menu {\r\n        width: $width;\r\n        height: 100%;\r\n      }\r\n      .side {\r\n        flex-basis: $height;\r\n      }\r\n    }\r\n    &.horizontal {\r\n      .menu {\r\n        height: $height;\r\n      }\r\n    }\r\n    &.active {\r\n      border: 2px solid $color-primary;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<!-- 组件 - 系统设置 -->\r\n<template>\r\n  <SectionForm\r\n    style=\"width: 370px\"\r\n    v-model=\"model\"\r\n    :sections=\"sections\"\r\n    :submitText=\"hasUpdated ? $t('sysSet.reset') : ''\"\r\n    resetText=\"\"\r\n    @change=\"handleChange\"\r\n    @submit=\"handleReset\"\r\n    :key=\"formKey\"\r\n  >\r\n    <template #layout_type>\r\n      <LayoutStyle v-model=\"model.layout_type\" />\r\n    </template>\r\n    <template #theme_color>\r\n      <el-color-picker :predefine=\"colorList\" @change=\"handleColorChange\" v-model=\"model.theme_color\" disabled />\r\n    </template>\r\n  </SectionForm>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, reactive, watch, computed } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport SectionForm from \"@/components/form/SectionForm.vue\";\r\nimport { CommonObj, FinallyNext, OptionItem, StrNum } from \"@/vite-env\";\r\nimport { SectionFormItemAttrs } from \"@/components/form\";\r\nimport LayoutStyle from \"./_components/LayoutStyle.vue\";\r\nimport { getIsUpdated } from \"@/utils\";\r\nimport cssVars from \"@/assets/styles/_var.module.scss\";\r\nimport { defaultSet } from \"@/store/modules/set\";\r\nimport { useSetStore } from \"@/store\";\r\n\r\nconst i18n = useI18n();\r\nconst { tm: $t } = i18n;\r\nconst showHideSwitchAttrs = {\r\n  activeText: \"显示\",\r\n  inactiveText: \"隐藏\",\r\n};\r\n// 预定义主题颜色\r\nconst colorList = [\r\n  cssVars.colorPrimary,\r\n  \"#daa96e\",\r\n  \"#0c819f\",\r\n  \"#409eff\",\r\n  \"#27ae60\",\r\n  \"#ff5c93\",\r\n  \"#e74c3c\",\r\n  \"#fd726d\",\r\n  \"#f39c12\",\r\n  \"#9b59b6\",\r\n];\r\nconst sizeOpts: OptionItem[] = [\r\n  { label: \"大型\", value: \"large\" },\r\n  { label: \"中等\", value: \"medium\" },\r\n  { label: \"小型\", value: \"small\" },\r\n  { label: \"迷你\", value: \"mini\" },\r\n];\r\nconst languageOpts: OptionItem[] = [\r\n  { label: \"简体中文\", value: \"zh\" },\r\n  { label: \"英文\", value: \"en\" },\r\n];\r\nconst setStore = useSetStore();\r\nconst defaultModel = getDefaultModel(defaultSet);\r\nconst model = reactive<CommonObj>(getDefaultModel(setStore));\r\nconst hasUpdated = computed(() => getIsUpdated(model, defaultModel)); //是否修改过\r\nconst formKey = ref(Date.now());\r\nconst sections = computed<SectionFormItemAttrs[]>(() => {\r\n  return [\r\n    {\r\n      title: $t(\"sysSet.appearance.title\"),\r\n      fields: [\r\n        { prop: \"layout_type\", label: $t(\"sysSet.appearance.layoutStyle.label\"), type: \"custom\" },\r\n        {\r\n          prop: \"widget_size\",\r\n          label: $t(\"sysSet.appearance.widgetSize.label\"),\r\n          type: \"radio-group\",\r\n          options: sizeOpts,\r\n          attrs: {\r\n            disabled: true,\r\n          },\r\n        },\r\n        {\r\n          prop: \"language\",\r\n          label: $t(\"sysSet.appearance.langType.label\"),\r\n          type: \"radio-group\",\r\n          options: languageOpts,\r\n          attrs: {\r\n            // disabled: true,\r\n          },\r\n        },\r\n        {\r\n          prop: \"bread\",\r\n          label: $t(\"sysSet.appearance.breadcrumb.label\"),\r\n          type: \"switch\",\r\n          extra: {\r\n            span: model.bread === 1 ? 8 : undefined,\r\n          },\r\n          attrs: showHideSwitchAttrs,\r\n        },\r\n        model.bread === 1 && {\r\n          prop: \"bread_icon\",\r\n          label: $t(\"sysSet.appearance.breadcrumb.icon\"),\r\n          type: \"switch\",\r\n          extra: {\r\n            span: 12,\r\n          },\r\n          attrs: showHideSwitchAttrs,\r\n        },\r\n        {\r\n          prop: \"page_tag\",\r\n          label: $t(\"sysSet.appearance.pageTag.label\"),\r\n          type: \"switch\",\r\n          extra: {\r\n            span: model.page_tag === 1 ? 8 : undefined,\r\n          },\r\n          attrs: showHideSwitchAttrs,\r\n        },\r\n        model.page_tag === 1 && {\r\n          prop: \"page_tag_icon\",\r\n          label: $t(\"sysSet.appearance.pageTag.icon\"),\r\n          type: \"switch\",\r\n          extra: {\r\n            span: 12,\r\n          },\r\n          attrs: showHideSwitchAttrs,\r\n        },\r\n        {\r\n          prop: \"footer\",\r\n          label: $t(\"sysSet.appearance.footer.label\"),\r\n          type: \"switch\",\r\n          extra: {\r\n            popover: $t(\"sysSet.appearance.footer.popover\"),\r\n          },\r\n          attrs: { ...showHideSwitchAttrs, disabled: true },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      title: $t(\"sysSet.theme.title\"),\r\n      fields: [\r\n        { prop: \"theme_color\", label: $t(\"sysSet.theme.themeColor.label\"), type: \"custom\" },\r\n        {\r\n          prop: \"dark_mode\",\r\n          label: $t(\"sysSet.theme.darkMode.label\"),\r\n          type: \"switch\",\r\n          attrs: {\r\n            disabled: true,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      title: $t(\"sysSet.menu.title\"),\r\n      fields: [\r\n        {\r\n          prop: \"unique_opened\",\r\n          label: $t(\"sysSet.menu.accordion.label\"),\r\n          type: \"switch\",\r\n          extra: {\r\n            popover: $t(\"sysSet.menu.accordion.popover\"),\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n});\r\nfunction getDefaultModel(set: CommonObj) {\r\n  return {\r\n    layout_type: set.layout.type,\r\n    widget_size: set.layout.size,\r\n    language: set.language.type,\r\n    bread: set.breadcrumb.show,\r\n    bread_icon: set.breadcrumb.showIcon,\r\n    page_tag: set.pageTags.show,\r\n    page_tag_icon: set.pageTags.showIcon,\r\n    footer: set.footer.show,\r\n    theme_color: set.theme.color,\r\n    dark_mode: set.theme.darkMode,\r\n    unique_opened: set.menu.uniqueOpened,\r\n  };\r\n}\r\nfunction handleChange(prop: string, val: any) {\r\n  if (prop === \"widget_size\") {\r\n    setStore.updateSet(\"layout\", { size: val });\r\n  } else if (prop === \"language\") {\r\n    i18n.locale.value = val;\r\n    setStore.updateSet(\"language\", { type: val });\r\n  } else if (prop === \"bread\") {\r\n    setStore.updateSet(\"breadcrumb\", { show: val });\r\n  } else if (prop === \"bread_icon\") {\r\n    setStore.updateSet(\"breadcrumb\", { showIcon: val });\r\n  } else if (prop === \"page_tag\") {\r\n    setStore.updateSet(\"pageTags\", { show: val });\r\n  } else if (prop === \"page_tag_icon\") {\r\n    setStore.updateSet(\"pageTags\", { showIcon: val });\r\n  } else if (prop === \"footer\") {\r\n    setStore.updateSet(\"footer\", { show: val });\r\n  } else if (prop === \"dark_mode\") {\r\n    setStore.updateSet(\"theme\", { darkMode: val });\r\n  } else if (prop === \"unique_opened\") {\r\n    setStore.updateSet(\"menu\", { uniqueOpened: val });\r\n  }\r\n}\r\nfunction handleColorChange(val: string) {\r\n  setStore.updateSet(\"theme\", { color: val });\r\n}\r\nfunction handleReset() {\r\n  Object.assign(model, defaultModel);\r\n  setStore.resetDefault();\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n","<template>\r\n  <BaseForm style=\"width: 500px\" label-suffix=\"：\" :fields=\"fields\" v-model=\"model\" :footer=\"false\">\r\n    <template #version>\r\n      <el-tag>{{ model.version }}</el-tag>\r\n    </template>\r\n    <template #depends>\r\n      <BaseKeyVal style=\"width: 100%\" :label=\"item[0]\" v-for=\"(item, ind) in model.depends\" :key=\"ind\">\r\n        <el-tag size=\"small\" type=\"info\">{{ item[1] }}</el-tag>\r\n      </BaseKeyVal>\r\n    </template>\r\n    <template #devDepends>\r\n      <BaseKeyVal style=\"width: 100%\" :label=\"item[0]\" v-for=\"(item, ind) in model.devDepends\" :key=\"ind\">\r\n        <el-tag size=\"small\" type=\"info\">{{ item[1] }}</el-tag>\r\n      </BaseKeyVal>\r\n    </template>\r\n  </BaseForm>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport pkg from \"#/package.json\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nimport { FormFieldAttrs } from \"@/components/BaseFormItem\";\r\nimport { reactive } from \"vue\";\r\nconst { version, dependencies, devDependencies } = pkg;\r\nconst { VITE_APP_NAME } = import.meta.env;\r\nconst env = import.meta.env.MODE;\r\nconst fields: FormFieldAttrs[] = [\r\n  {\r\n    prop: \"name\",\r\n    label: \"系统名称\",\r\n    class: \"mb-h\",\r\n    extra: {\r\n      pureText: true,\r\n    },\r\n  },\r\n  {\r\n    prop: \"description\",\r\n    label: \"系统介绍\",\r\n    class: \"mb-h\",\r\n    extra: {\r\n      pureText: true,\r\n    },\r\n  },\r\n  {\r\n    prop: \"version\",\r\n    label: \"版本号\",\r\n    type: \"custom\",\r\n    class: \"mb-h\",\r\n  },\r\n  {\r\n    prop: \"depends\",\r\n    label: \"生产环境依赖\",\r\n    type: \"custom\",\r\n    class: \"mb-h\",\r\n  },\r\n  {\r\n    prop: \"devDepends\",\r\n    label: \"开发环境依赖\",\r\n    type: \"custom\",\r\n    class: \"mb-h\",\r\n  },\r\n];\r\nconst model = reactive<CommonObj>({\r\n  name: VITE_APP_NAME,\r\n  description:\r\n    \"这是系统介绍描述相关的内容展示这是系统介绍描述相关的内容展示这是系统介绍描述相关的内容展示这是系统介绍描述相关的内容展示\",\r\n  version: `${env} - ${version}`,\r\n  depends: Object.entries(dependencies),\r\n  devDepends: Object.entries(devDependencies),\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n","<template>\r\n  <el-input class=\"mb-o\" v-model=\"searchVal\" placeholder=\"请输入菜单关键字\">\r\n    <template #prepend>\r\n      <el-select v-model=\"seledKey\" placeholder=\"请选择\" style=\"width: 8em\">\r\n        <el-option v-bind=\"item\" v-for=\"(item, ind) in opts\" :key=\"ind\" />\r\n      </el-select>\r\n    </template>\r\n    <template #append>\r\n      <el-button :icon=\"Search\" />\r\n    </template>\r\n  </el-input>\r\n  <el-tree ref=\"treeRef\" :data=\"treeData\" :filter-node-method=\"filterNode\" @node-click=\"handleNodeClick\" />\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, reactive, watch, computed, inject } from \"vue\";\r\nimport { Search } from \"@element-plus/icons-vue\";\r\nimport { ElTree } from \"element-plus\";\r\nimport type { ResponseMenuItem } from \"@/layout/_components/SideMenu/_types\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useMenuStore } from \"@/store\";\r\nimport { CommonObj, OptionItem } from \"@/vite-env\";\r\nconst router = useRouter();\r\nconst closePopup: any = inject(\"closePopup\");\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    defaultKey?: string;\r\n  }>(),\r\n  {\r\n    defaultKey: \"all\",\r\n  }\r\n);\r\nconst menuStore = useMenuStore();\r\nconst opts = reactive<OptionItem[]>([{ label: \"全部\", value: \"all\" }]);\r\nmenuStore.allMenus.map((group: ResponseMenuItem, ind: number) => {\r\n  const { label, path } = group;\r\n  opts.push({ label, value: path });\r\n});\r\nconst searchVal = ref(\"\");\r\nconst treeData = computed(() => {\r\n  const { allMenus } = menuStore;\r\n  if (seledKey.value === \"all\") {\r\n    return allMenus;\r\n  } else {\r\n    const target = allMenus.find((it: ResponseMenuItem) => it.path === seledKey.value);\r\n    return target?.children;\r\n  }\r\n});\r\nconst seledKey = ref(props.defaultKey);\r\nconst treeRef = ref<InstanceType<typeof ElTree>>();\r\nwatch(searchVal, val => {\r\n  treeRef.value!.filter(val);\r\n});\r\nfunction filterNode(value: string, data: CommonObj) {\r\n  if (!value) return true;\r\n  return data.label.includes(value);\r\n}\r\nfunction handleNodeClick(itemInfo: any, nodeInfo: any, arg3: any, arg4: any) {\r\n  const { isLeaf, level } = nodeInfo;\r\n  if (seledKey.value === \"all\" ? level > 1 && isLeaf : isLeaf) {\r\n    router.push(itemInfo.path);\r\n    closePopup?.(\"dialog\");\r\n    // console.log(\r\n    //   itemInfo,\r\n    //   nodeInfo,\r\n    //   arg3,\r\n    //   arg4,\r\n    //   \"itemInfo,arg2,arg3,arg4-----------------\"\r\n    // );\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n","<!-- 页面-简介 -->\r\n<template>\r\n  <el-breadcrumb\r\n    id=\"breadcrumb\"\r\n    class=\"path-breadcrumb\"\r\n    :class=\"['columns', 'classics'].includes(setStore.layout.type) ? 'dark' : 'light'\"\r\n    :separator-icon=\"ArrowRight\"\r\n    v-if=\"breadcrumbs.length\"\r\n  >\r\n    <el-breadcrumb-item\r\n      :to=\"ind === breadcrumbs.length - 1 ? undefined : item.path\"\r\n      @click=\"menuStore.toFirstPath(item)\"\r\n      v-for=\"(item, ind) in breadcrumbs\"\r\n      :key=\"ind\"\r\n    >\r\n      <div class=\"f-c-c\">\r\n        <BaseIcon size=\"1.2em\" class=\"mr-q\" :name=\"item.icon\" v-if=\"setStore.breadcrumb.showIcon\" />\r\n        <span>{{ item.label }}</span>\r\n      </div>\r\n    </el-breadcrumb-item>\r\n  </el-breadcrumb>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, reactive, watch, computed } from \"vue\";\r\nimport { CommonObj, FinallyNext, StrNum } from \"@/vite-env\";\r\nimport { ArrowRight } from \"@element-plus/icons-vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { useMenuStore, useSetStore } from \"@/store\";\r\nimport { ResponseMenuItem } from \"@/layout/_components/SideMenu/_types\";\r\nimport { defaultHomePath } from \"@/utils\";\r\n\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    exampleProp?: CommonObj;\r\n  }>(),\r\n  {\r\n    exampleProp: () => ({}),\r\n  }\r\n);\r\nconst route = useRoute();\r\nconst menuStore = useMenuStore();\r\nconst setStore = useSetStore();\r\nconst breadcrumbs = ref<ResponseMenuItem[]>([\r\n  {\r\n    id: \"0\",\r\n    icon: \"House\",\r\n    path: defaultHomePath,\r\n    label: \"首页\",\r\n    type: 0,\r\n    status: 1,\r\n  },\r\n]);\r\nwatch(\r\n  route,\r\n  newVal => {\r\n    const list = breadcrumbs.value.slice(0, 1);\r\n    if (newVal.path !== defaultHomePath) {\r\n      list.push(...(getAllBreadcrumbs(menuStore.allMenus)[newVal.path] ?? []));\r\n    }\r\n    breadcrumbs.value = list;\r\n  },\r\n  { immediate: true }\r\n);\r\nfunction getAllBreadcrumbs(menus: ResponseMenuItem[], parent = [], result: CommonObj = {}) {\r\n  for (const item of menus) {\r\n    result[item.path] = [...parent, item];\r\n    if (item.children) getAllBreadcrumbs(item.children, result[item.path], result);\r\n  }\r\n  return result;\r\n}\r\n</script>\r\n<style lang=\"scss\" name=\"\" scoped>\r\n.path-breadcrumb {\r\n  &.dark {\r\n    :deep(.el-breadcrumb__inner) {\r\n      &.is-link {\r\n        color: $nav-text-color-light;\r\n        &:hover {\r\n          color: $color-primary;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  &.light {\r\n  }\r\n}\r\n</style>\r\n","export default \"__VITE_ASSET__ab211233__\"","<template>\r\n  <div class=\"the-head\">\r\n    <div class=\"header f-sb-c\" :class=\"setStore.layout.type === 'vertical' ? 'light' : 'dark'\">\r\n      <!-- 标题栏 -->\r\n      <h1 class=\"h1 f-c-c\" @click=\"router.push({ name: 'home' })\" v-if=\"setStore.layout.type === 'horizontal'\">\r\n        <BaseImg :src=\"logoImg\" size=\"30\" :preview=\"false\" />\r\n        <div class=\"ml-h line-2\">{{ menuStore.isCollapse ? VITE_APP_NAME?.slice(0, 1) : VITE_APP_NAME }}</div>\r\n      </h1>\r\n      <!-- 折叠按钮 -->\r\n      <BaseIcon\r\n        id=\"collapse-icon\"\r\n        @click=\"menuStore.isCollapse = !menuStore.isCollapse\"\r\n        class=\"f-0 fold-btn\"\r\n        :class=\"setStore.layout.type === 'vertical' ? 'dark' : 'light'\"\r\n        size=\"1.5em\"\r\n        :name=\"menuStore.isCollapse ? 'Expand' : 'Fold'\"\r\n      />\r\n      <!-- 导航菜单 -->\r\n      <SideMenu :menus=\"menuStore.allMenus\" mode=\"horizontal\" class=\"f-1 menu-nav\" v-if=\"setStore.layout.type === 'horizontal'\" />\r\n      <template v-else>\r\n        <PathBreadcrumb class=\"ml-o\" v-if=\"setStore.breadcrumb.show\" />\r\n      </template>\r\n      <!-- 快捷入口 -->\r\n      <div class=\"quick-entry f-0 ml-a\">\r\n        <el-tooltip v-bind=\"tooltipAttrs\" :content=\"$t('layout.header.entryIcons.searchMenu')\">\r\n          <el-button id=\"search-menu\" @click=\"openSearchMenu\" :icon=\"Search\" type=\"primary\" class=\"item\" plain circle></el-button>\r\n        </el-tooltip>\r\n        <el-popover placement=\"bottom\" :width=\"310\" trigger=\"click\">\r\n          <template #reference>\r\n            <el-badge :value=\"5\" :max=\"99\" :show-zero=\"false\">\r\n              <el-tooltip v-bind=\"tooltipAttrs\" :content=\"$t('layout.header.entryIcons.notification')\">\r\n                <el-button id=\"notice-entry\" :icon=\"Bell\" type=\"primary\" class=\"item\" plain circle></el-button>\r\n              </el-tooltip>\r\n            </el-badge>\r\n          </template>\r\n          <Notices />\r\n        </el-popover>\r\n        <el-tooltip\r\n          v-bind=\"tooltipAttrs\"\r\n          :content=\"$t(`layout.header.entryIcons.${isFull ? 'hide' : 'show'}FullScreen`)\"\r\n          v-if=\"screenfull.isEnabled\"\r\n        >\r\n          <el-button\r\n            id=\"fullscreen\"\r\n            @click=\"toggleFullscreen\"\r\n            :icon=\"isFull ? Aim : FullScreen\"\r\n            type=\"primary\"\r\n            class=\"item\"\r\n            plain\r\n            circle\r\n          ></el-button>\r\n        </el-tooltip>\r\n      </div>\r\n      <!-- 用户信息 -->\r\n      <div id=\"user-simple-info\" class=\"user-info f-0 f-fe-c\">\r\n        <div class=\"mr-h\">\r\n          <div class=\"line-1 nickname\">{{ user?.name }}</div>\r\n          <div class=\"version\">{{ pkg.version }}</div>\r\n        </div>\r\n        <el-dropdown ref=\"dropdownRef\">\r\n          <span class=\"el-dropdown-link\">\r\n            <BaseAvatar :src=\"user?.avatar\" size=\"40\" :preview=\"false\" round />\r\n          </span>\r\n          <template #dropdown>\r\n            <el-dropdown-menu>\r\n              <el-dropdown-item>\r\n                <el-button @click=\"openPersonalInfo\" style=\"width: 100%\" :icon=\"User\" type=\"info\" link>\r\n                  {{ $t(\"layout.header.dropdown.myInfo\") }}\r\n                </el-button>\r\n              </el-dropdown-item>\r\n              <el-dropdown-item>\r\n                <el-button @click=\"handleReloadView\" style=\"width: 100%\" :icon=\"Refresh\" type=\"info\" link>\r\n                  {{ $t(\"layout.header.dropdown.refreshSys\") }}\r\n                </el-button>\r\n              </el-dropdown-item>\r\n              <el-dropdown-item>\r\n                <el-button\r\n                  id=\"system-set\"\r\n                  @click=\"openPopup({ title: $t('layout.header.dropdown.sysSet'), closeOnClickModal: true }, SystemSet, 'drawer')\"\r\n                  style=\"width: 100%\"\r\n                  :icon=\"Setting\"\r\n                  type=\"info\"\r\n                  link\r\n                  >{{ $t(\"layout.header.dropdown.sysSet\") }}</el-button\r\n                >\r\n              </el-dropdown-item>\r\n              <el-dropdown-item>\r\n                <el-button\r\n                  @click=\"openPopup($t('layout.header.dropdown.aboutSys'), SystemInfo, 'drawer')\"\r\n                  style=\"width: 100%\"\r\n                  :icon=\"InfoFilled\"\r\n                  type=\"info\"\r\n                  link\r\n                  >{{ $t(\"layout.header.dropdown.aboutSys\") }}</el-button\r\n                >\r\n              </el-dropdown-item>\r\n              <el-dropdown-item divided>\r\n                <el-button @click=\"onLoginOut\" style=\"width: 100%\" :icon=\"SwitchButton\" type=\"primary\" link>\r\n                  {{ $t(\"layout.header.dropdown.logout\") }}\r\n                </el-button>\r\n              </el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </template>\r\n        </el-dropdown>\r\n      </div>\r\n    </div>\r\n    <div class=\"f-fs-c breadcrumb-box\" v-if=\"setStore.layout.type === 'horizontal' && setStore.breadcrumb.show\">\r\n      <PathBreadcrumb />\r\n    </div>\r\n    <PageTags v-if=\"setStore.pageTags.show\" />\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, inject, onMounted, nextTick } from \"vue\";\r\nimport { SwitchButton, User, InfoFilled, Setting, Search, FullScreen, Aim, Bell, Refresh } from \"@element-plus/icons-vue\";\r\nimport SideMenu from \"@/layout/_components/SideMenu/Index.vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { ElMessageBox } from \"element-plus\";\r\nimport PageTags from \"./_components/PageTags/Index.vue\";\r\nimport pkg from \"#/package.json\";\r\nimport { getUserInfo, showMessage, storage } from \"@/utils\";\r\nimport UserInfo from \"./_components/UserInfo.vue\";\r\nimport Notices from \"./_components/Notices.vue\";\r\nimport SystemSet from \"./_components/SystemSet/index.vue\";\r\nimport SystemInfo from \"./_components/SystemInfo.vue\";\r\nimport SearchMenu from \"./_components/SearchMenu.vue\";\r\nimport PathBreadcrumb from \"./_components/PathBreadcrumb.vue\";\r\nimport { useSetStore } from \"@/store\";\r\nimport screenfull from \"screenfull\";\r\nimport logoImg from \"@/assets/images/logo.png\";\r\nimport { useMenuStore, useUserStore } from \"@/store\";\r\nimport { driver } from \"driver.js\";\r\nimport \"driver.js/dist/driver.css\";\r\nimport { h } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\n\r\nconst { tm: $t } = useI18n();\r\nconst { VITE_APP_NAME } = import.meta.env;\r\nconst menuStore = useMenuStore();\r\nconst userStore = useUserStore();\r\nconst setStore = useSetStore();\r\nconst dropdownRef = ref<any>(null);\r\nconst openPopup: any = inject(\"openPopup\");\r\nconst reloadView = inject<any>(\"reloadView\");\r\nconst user = getUserInfo();\r\nconst router = useRouter();\r\nconst tooltipAttrs = {\r\n  showAfter: 200,\r\n  offset: 6,\r\n};\r\nasync function handleReloadView() {\r\n  // reloadView();\r\n  router.go(0);\r\n  showMessage(\"刷新系统成功\");\r\n}\r\n\r\nconst isFull = ref(screenfull.isFullscreen);\r\nonMounted(() => {\r\n  nextTick(() => {\r\n    screenfull.on(\"change\", () => {\r\n      isFull.value = screenfull.isFullscreen;\r\n    });\r\n    setTimeout(() => {\r\n      startGuide();\r\n    }, 50);\r\n  });\r\n});\r\n//切换全屏\r\nfunction toggleFullscreen() {\r\n  if (!screenfull.isEnabled) showMessage(\"您的浏览器不支持全屏功能\", \"warning\");\r\n  screenfull.toggle();\r\n}\r\n\r\nfunction openPersonalInfo() {\r\n  openPopup($t(\"layout.header.dropdown.myInfo\"), h(UserInfo, { data: user }), \"drawer\");\r\n}\r\n//退出登录\r\nfunction onLoginOut() {\r\n  ElMessageBox.confirm(\"确定退出登录吗？\", { type: \"warning\" })\r\n    .then(() => userStore.handleLoginOut())\r\n    .catch(() => {});\r\n}\r\n//打开搜索菜单弹窗\r\nfunction openSearchMenu() {\r\n  openPopup({ title: \"搜索菜单\", closeOnClickModal: true }, SearchMenu, \"dialog\", false);\r\n}\r\n/**\r\n * 开始操作引导\r\n * @link driver参考链接：https://www.jianshu.com/p/71b0c145cad7\r\n */\r\nfunction startGuide() {\r\n  if (storage.getItem(\"hasGuide\")) return;\r\n  const driverObj = driver({\r\n    popoverClass: \"guide-popover-card\",\r\n    allowClose: true,\r\n    stagePadding: 4,\r\n    nextBtnText: \"下一步\",\r\n    prevBtnText: \"上一步\",\r\n    doneBtnText: \"知道了\",\r\n    //点击右上角的关闭按钮\r\n    onDeselected(ele) {\r\n      storage.setItem(\"hasGuide\", true);\r\n    },\r\n    onHighlighted(ele) {\r\n      if (ele!.id === \"user-simple-info\") dropdownRef.value.handleOpen();\r\n    },\r\n    onNextClick(ele, next) {\r\n      driverObj.moveNext();\r\n      if (ele!.id === \"system-set\") {\r\n        dropdownRef.value.handleClose();\r\n        storage.setItem(\"hasGuide\", true);\r\n      }\r\n    },\r\n    steps: [\r\n      {\r\n        element: \"#collapse-icon\",\r\n        popover: {\r\n          title: \"折叠按钮\",\r\n          description: \"展开或收起左侧或顶部菜单\",\r\n          side: \"right\",\r\n        },\r\n      },\r\n      {\r\n        element: \"#breadcrumb\",\r\n        popover: {\r\n          title: \"面包屑路径\",\r\n          description: \"指明当前页面所处位置\",\r\n          side: \"right\",\r\n        },\r\n      },\r\n      {\r\n        element: \"#search-menu\",\r\n        popover: {\r\n          title: \"菜单搜索\",\r\n          description: \"在这里可以搜索全局菜单\",\r\n          side: \"left\",\r\n        },\r\n      },\r\n      {\r\n        element: \"#notice-entry\",\r\n        popover: {\r\n          title: \"消息通知\",\r\n          description: \"在这里可以快速查看最新通知消息、待办任务等\",\r\n          side: \"left\",\r\n        },\r\n      },\r\n      {\r\n        element: \"#fullscreen\",\r\n        popover: {\r\n          title: \"全屏展示\",\r\n          description: \"在这里可以切换是否全屏展示\",\r\n          side: \"left\",\r\n        },\r\n      },\r\n      {\r\n        element: \"#user-simple-info\",\r\n        popover: {\r\n          title: \"用户信息\",\r\n          description: \"这是用户的基本信息，鼠标放上来可以查看更多\",\r\n          side: \"left\",\r\n        },\r\n      },\r\n      {\r\n        element: \"#system-set\",\r\n        popover: {\r\n          title: \"系统设置\",\r\n          description: \"在这里可以进行系统相关的设置\",\r\n          side: \"left\",\r\n        },\r\n      },\r\n    ],\r\n  });\r\n  driverObj.drive();\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.el-menu--horizontal {\r\n  border-bottom: none;\r\n}\r\n.header {\r\n  color: $nav-text-color-light;\r\n  font-size: 16px;\r\n  height: $header-height;\r\n  &.dark {\r\n    background: $nav-bg-dark;\r\n  }\r\n  &.light {\r\n    background: $nav-bg-light;\r\n  }\r\n  .fold-btn {\r\n    cursor: pointer;\r\n    margin-left: $gap;\r\n    &.dark {\r\n      color: $color-text-heavy;\r\n    }\r\n    &.light {\r\n    }\r\n    &:hover {\r\n      color: $color-primary;\r\n    }\r\n  }\r\n}\r\n.h1 {\r\n  cursor: pointer;\r\n  padding: 0 $gap;\r\n  font-size: normal;\r\n  font-size: $font-size-heavyer;\r\n}\r\n.menu-nav {\r\n  max-width: calc(100vw - 340px);\r\n  height: 100%;\r\n}\r\n.quick-entry {\r\n  :deep(.el-badge) {\r\n    .el-badge__content.is-fixed {\r\n      top: 4px;\r\n    }\r\n  }\r\n  .item {\r\n    margin-left: $gap;\r\n  }\r\n}\r\n.user-info {\r\n  margin-left: $gap-two;\r\n  margin-right: $gap;\r\n  .nickname {\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    margin-bottom: 2px;\r\n  }\r\n  .version {\r\n    color: $color-primary;\r\n    padding: 0 $gap-qtr;\r\n    font-size: 12px;\r\n    background: $color-bg-main;\r\n    text-align: center;\r\n    border-radius: $radius-lighter;\r\n    width: fit-content;\r\n    margin-left: auto;\r\n  }\r\n}\r\n.breadcrumb-box {\r\n  height: $gap-two;\r\n  padding: 0 $gap-qtr;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"asider f-sb-s-c\" :class=\"{ fold: menuStore.isCollapse }\">\r\n    <h1 @click=\"router.push(defaultHomePath)\" class=\"h1 f-0 f-c-c\">\r\n      <div class=\"line-1\">\r\n        {{ menuStore.isCollapse ? VITE_APP_NAME.charAt(0) : VITE_APP_NAME }}\r\n      </div>\r\n    </h1>\r\n    <SideMenu :menus=\"setStore.layout.type === 'columns' ? menuStore.sideMenus : undefined\" class=\"f-1\" />\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { useRouter } from \"vue-router\";\r\nimport SideMenu from \"@/layout/_components/SideMenu/Index.vue\";\r\nimport { useMenuStore, useSetStore } from \"@/store\";\r\nimport { defaultHomePath } from \"@/utils\";\r\nconst { VITE_APP_NAME } = import.meta.env;\r\n\r\nconst menuStore = useMenuStore();\r\nconst setStore = useSetStore();\r\nconst router = useRouter();\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.asider {\r\n  color: $nav-text-color-light;\r\n  width: $asider-width;\r\n  height: 100vh;\r\n  background: $nav-bg-dark;\r\n  &.fold {\r\n    width: auto;\r\n  }\r\n  .h1 {\r\n    cursor: pointer;\r\n    padding: 0 $gap;\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n    height: $header-height;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"layout f-sb-s\">\r\n    <template v-if=\"setStore.layout.type !== 'horizontal'\">\r\n      <div class=\"main-menu f-fs-s f-fs-c-c\" v-if=\"setStore.layout.type === 'columns'\">\r\n        <div class=\"f-c-c-c f-0 logo\">\r\n          <BaseImg :src=\"logoImg\" size=\"60%\" style=\"border-radius: 0\" :to=\"{ name: 'home' }\" />\r\n        </div>\r\n        <ul id=\"main-menu\" class=\"list f-fs-c-c f-1 all-hide-scroll\">\r\n          <li\r\n            class=\"item f-c-c-c\"\r\n            :class=\"{ active: menuStore.activeIndex === ind }\"\r\n            @click=\"menuStore.changeActiveIndex(ind)\"\r\n            v-for=\"(item, ind) in menuStore.allMenus\"\r\n            :key=\"ind\"\r\n          >\r\n            <BaseIcon size=\"20\" :name=\"item.icon\" />\r\n            <TooltipLabel :label=\"item.label\" />\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <TheMenu class=\"f-0\" />\r\n    </template>\r\n    <!-- 1px为了让f-1生效，从而让子视图的表格宽度100%生效 -->\r\n    <div class=\"f-1 f-sb-s-c\" style=\"width: 1px\">\r\n      <TheHead class=\"f-0\" />\r\n      <div class=\"container f-1 all-hide-scroll\">\r\n        <RouterView v-slot=\"{ Component, route: currRoute }\">\r\n          <Transition name=\"main\" mode=\"out-in\" appear>\r\n            <KeepAlive :include=\"keepAliveStore.list\" :max=\"20\">\r\n              <component :is=\"formatComponentInstance(Component, currRoute)\" :key=\"aliveCompKey || currRoute.fullPath\" />\r\n            </KeepAlive>\r\n          </Transition>\r\n        </RouterView>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\n// 路由动画：http://www.dearweb.cn/qianduan/dw-333.html\r\nimport TheHead from \"./_components/TheHead/Index.vue\";\r\nimport TheMenu from \"./_components/TheMenu.vue\";\r\nimport { ref, reactive, nextTick, provide, computed, h } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport logoImg from \"@/assets/images/logo.png\";\r\nimport { storage, showMessage, getCompNameByRoute, getIsOver } from \"@/utils\";\r\nimport { useMenuStore, useKeepAliveStore, useSetStore } from \"@/store\";\r\nimport TooltipLabel from \"@/layout/_components/TooltipLabel.vue\";\r\n\r\nconst keepAliveStore = useKeepAliveStore();\r\nconst menuStore = useMenuStore();\r\nconst setStore = useSetStore();\r\nconst aliveCompKey = ref(\"\");\r\nconst route = useRoute();\r\n\r\n/*\r\n * 将router传个我们的组件重新换一个新的组件，原组件包里面\r\n * 参考示例：https://blog.csdn.net/wjlhanhan/article/details/130890143\r\n */\r\nconst compMap = new Map(); // 用来存已经创建的组件\r\nfunction formatComponentInstance(component: any, route: any) {\r\n  if (!component) return;\r\n  let comp;\r\n  const compName = getCompNameByRoute(route);\r\n  if (compMap.has(compName)) {\r\n    comp = compMap.get(compName);\r\n  } else {\r\n    comp = {\r\n      name: compName,\r\n      render() {\r\n        return h(component);\r\n      },\r\n    };\r\n    compMap.set(compName, comp);\r\n    keepAliveStore.add(compName);\r\n  }\r\n  return h(comp);\r\n}\r\n//重新加载当前路由\r\nfunction reloadView(hint = \"刷新成功\") {\r\n  const compName = route.matched.at(-1)?.components?.default.name;\r\n  keepAliveStore.remove(compName as string);\r\n  aliveCompKey.value = \" \";\r\n  nextTick(() => {\r\n    aliveCompKey.value = \"\";\r\n    nextTick(() => {\r\n      showMessage(hint);\r\n    });\r\n  });\r\n}\r\nprovide(\"reloadView\", reloadView);\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.layout {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n.main-menu {\r\n  color: $nav-text-color-light;\r\n  background: $nav-bg-dark-heavy;\r\n  .logo {\r\n    height: $header-height;\r\n  }\r\n  .list {\r\n    overflow: auto;\r\n    padding-bottom: 4em;\r\n    .item {\r\n      $bg-darker: mix($nav-bg-dark-heavy, #000000, 50%);\r\n      $bg-darkest: mix($nav-bg-dark-heavy, #000000, 0.01%);\r\n      cursor: pointer;\r\n      padding: $gap-half $gap-qtr;\r\n      width: $main-menu-width;\r\n      .tooltip-label {\r\n        margin-top: $gap-qtr;\r\n        font-size: $font-size-lighter;\r\n      }\r\n      &:hover {\r\n        background: $bg-darker;\r\n      }\r\n      &.active {\r\n        color: $color-primary;\r\n        background: $bg-darkest;\r\n      }\r\n    }\r\n  }\r\n}\r\n.container {\r\n  padding: $gap-half;\r\n  width: 100%;\r\n  overflow: auto;\r\n  background: $color-bg-white;\r\n}\r\n//路由动画(主内容区动画)\r\n.main-enter-active {\r\n  transition: 0.2s;\r\n}\r\n\r\n.main-leave-active {\r\n  transition: 0.15s;\r\n}\r\n\r\n.main-enter-from {\r\n  opacity: 0;\r\n  margin-left: -20px;\r\n}\r\n\r\n.main-leave-to {\r\n  opacity: 0;\r\n  margin-left: 20px;\r\n}\r\n</style>\r\n"],"names":["spanRef","ref","disabled","handleMouseenter","nextTick","value","getIsOver","name","router","useRouter","menu","id","link_type","path","label","push","document","title","query","url","Error","window","open","navBgDark","navTextColorLight","navBgLight","cssVars","props","__props","route","useRoute","menuStore","useMenuStore","setStore","useSetStore","handleClick","layout","type","isCollapse","initMenusActive","emits","__emit","onContextmenu","e","tm","$t","useI18n","dropdowns","reactive","text","divided","dropRef","visible","style","status","isHome","isFirst","isLast","isEmpty","isOnly","getDisabled","computed","map","closeIndex","closeOthers","closeRight","closeLeft","closeAll","closeSaved","copyPath","copyWholePath","reload","handleVisible","isShow","watch","currInd","total","newVal","immediate","data","width","height","left","top","handleOpen","deep","keepAliveStore","useKeepAliveStore","reloadView","inject","homeTag","defaultHomePath","draging","leftDisabled","rightDisabled","currTagInd","contMenuInd","tags","storage","getItem","scrollRef","bcrInfo","onMenuItem","ind","splice","slice","replace","copyText","_a","location","href","showMessage","contInd","len","length","getCurrTagInd","removeNames","names","it","list","filter","includes","getRemoveNames","remove","onUpdate","newIndex","handleWheelDelta","speed","deltaY","ele","targetDomElement","scrollLeft","scrollTo","onArrowBtn","direction","num","initDisabled","scrollWidth","clientWidth","offsetWidth","onTagItem","item","currentTarget","getBoundingClientRect","useEvent","fullPath","tagIdKey","icon","linkType","meta","compName","_b","matched","at","components","default","target","find","findIndex","addToRoutes","findInd","scrollEle","scrollOffsetWidth","findDom","children","offsetLeft","tagOffsetLeft","tagOffsetWidth","toLeft","activeTagScrollToCenter","onMounted","addEventListener","setItem","editEnable","model","getUserInfo","fields","prop","attrs","maxlength","options","extra","valid","rules","validator","checkConfirmPsd","trigger","rule","callback","password","onMoreBtns","handleBtnNext","edit","view","activeName","layoutMap","columns","class","classics","vertical","horizontal","tooltipAttrs","placement","showAfter","get","modelValue","set","val","updateSet","i18n","showHideSwitchAttrs","activeText","inactiveText","colorList","colorPrimary","sizeOpts","languageOpts","defaultModel","getDefaultModel","defaultSet","hasUpdated","getIsUpdated","formKey","Date","now","sections","span","bread","page_tag","popover","layout_type","widget_size","size","language","breadcrumb","show","bread_icon","showIcon","pageTags","page_tag_icon","footer","theme_color","theme","color","dark_mode","darkMode","unique_opened","uniqueOpened","handleChange","locale","handleColorChange","handleReset","Object","assign","resetDefault","version","dependencies","devDependencies","pkg","VITE_APP_NAME","pureText","description","depends","entries","devDepends","closePopup","opts","allMenus","group","searchVal","treeData","seledKey","defaultKey","treeRef","filterNode","handleNodeClick","itemInfo","nodeInfo","arg3","arg4","isLeaf","level","breadcrumbs","getAllBreadcrumbs","menus","parent","result","logoImg","userStore","useUserStore","dropdownRef","openPopup","user","offset","async","handleReloadView","go","isFull","screenfull","isFullscreen","toggleFullscreen","isEnabled","toggle","openPersonalInfo","h","UserInfo","onLoginOut","ElMessageBox","confirm","then","handleLoginOut","catch","openSearchMenu","closeOnClickModal","SearchMenu","on","setTimeout","driverObj","driver","popoverClass","allowClose","stagePadding","nextBtnText","prevBtnText","doneBtnText","onDeselected","onHighlighted","onNextClick","next","moveNext","handleClose","steps","element","side","drive","aliveCompKey","compMap","Map","formatComponentInstance","component","comp","getCompNameByRoute","has","render","add","provide","hint"],"mappings":"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"}