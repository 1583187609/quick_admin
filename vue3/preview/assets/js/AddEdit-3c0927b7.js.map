{"version":3,"file":"AddEdit-3c0927b7.js","sources":["../../../src/views/test/test-3/SimpleList/AddEdit.vue"],"sourcesContent":["<!--新增编辑 -->\r\n<template>\r\n  <BaseForm\r\n    style=\"width: 600px\"\r\n    v-model=\"model\"\r\n    :fields=\"fields\"\r\n    :fetch=\"data ? PostMockCommonUpdate : PostMockCommonAdd\"\r\n    :fetchSuccess=\"refreshList\"\r\n    :extraParams=\"{ id: data?.id }\"\r\n    @change=\"(prop:string,val:any)=>model[prop] = val\"\r\n  >\r\n  </BaseForm>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, reactive, watch, computed } from \"vue\";\r\nimport { FormField } from \"@/components/BaseFormItem\";\r\nimport { PostMockCommonAdd, PostMockCommonUpdate } from \"@/api-mock\";\r\nimport { CommonObj, FinallyNext, OptionItem, StrNum } from \"@/vite-env\";\nimport { defineOptions } from 'vue'; \ndefineOptions({ name: \"TestTest3SimpleListAddEdit\" }); \n\r\n\r\nconst cflxOpts: OptionItem[] = [\r\n  { label: \"警告\", value: 1 },\r\n  { label: \"禁言\", value: 2 },\r\n  { label: \"封禁\", value: 3 },\r\n];\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    data?: CommonObj;\r\n    refreshList?: FinallyNext;\r\n  }>(),\r\n  {}\r\n);\r\nconst defData: CommonObj = { cflx: 1, sfqy: 0 }; //默认值\r\nconst model = reactive<CommonObj>(Object.assign(defData, props.data));\r\nconst fields = computed<FormField[]>(() => {\r\n  return [\r\n    {\r\n      prop: \"xm\",\r\n      label: \"姓名\",\r\n      required: true,\r\n      attrs: { maxlength: 6 },\r\n    },\r\n    {\r\n      prop: \"xb\",\r\n      label: \"性别\",\r\n      required: true,\r\n      type: \"select\",\r\n      options: \"Gender\",\r\n    },\r\n    { prop: \"nl\", label: \"年龄\", valid: \"age\" },\r\n    { prop: \"dhhm\", label: \"电话号码\", valid: \"phone\" },\r\n    {\r\n      prop: \"sfqy\",\r\n      label: \"是否启用\",\r\n      type: \"switch\",\r\n      extra: {\r\n        popover: \"这是popover示例\",\r\n      },\r\n    },\r\n    { prop: \"cflx\", label: \"处罚类型\", type: \"radio-group\", options: cflxOpts },\r\n    model.cflx === 1 && {\r\n      prop: \"jgnr\",\r\n      label: \"警告内容\",\r\n      tips: \"这是tips示例\",\r\n      attrs: {\r\n        type: \"textarea\",\r\n        maxlength: 100,\r\n      },\r\n    },\r\n    ...(model.cflx === 2\r\n      ? [\r\n          {\r\n            prop: \"ts\",\r\n            label: \"天数\",\r\n            type: \"input-number\",\r\n            attrs: { min: 0 },\r\n            extra: {\r\n              after: \"天\",\r\n            },\r\n          },\r\n          {\r\n            prop: \"jygz\",\r\n            label: \"禁言告知\",\r\n            attrs: {\r\n              type: \"textarea\",\r\n              maxlength: 100,\r\n            },\r\n          },\r\n        ]\r\n      : []),\r\n    model.cflx === 3 && {\r\n      prop: \"fjgz\",\r\n      label: \"封禁告知\",\r\n      tips: \"这是tips示例\",\r\n      attrs: {\r\n        type: \"textarea\",\r\n        maxlength: 100,\r\n      },\r\n    },\r\n  ];\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["cflxOpts","label","value","props","__props","model","reactive","Object","assign","cflx","sfqy","data","fields","computed","prop","required","attrs","maxlength","type","options","valid","extra","popover","tips","min","after"],"mappings":"s/CAsBA,MAAMA,EAAyB,CAC7B,CAAEC,MAAO,KAAMC,MAAO,GACtB,CAAED,MAAO,KAAMC,MAAO,GACtB,CAAED,MAAO,KAAMC,MAAO,IAElBC,EAAQC,EAQRC,EAAQC,EAAoBC,OAAOC,OADd,CAAEC,KAAM,EAAGC,KAAM,GACaP,EAAMQ,OACzDC,EAASC,GAAsB,IAC5B,CACL,CACEC,KAAM,KACNb,MAAO,KACPc,UAAU,EACVC,MAAO,CAAEC,UAAW,IAEtB,CACEH,KAAM,KACNb,MAAO,KACPc,UAAU,EACVG,KAAM,SACNC,QAAS,UAEX,CAAEL,KAAM,KAAMb,MAAO,KAAMmB,MAAO,OAClC,CAAEN,KAAM,OAAQb,MAAO,OAAQmB,MAAO,SACtC,CACEN,KAAM,OACNb,MAAO,OACPiB,KAAM,SACNG,MAAO,CACLC,QAAS,gBAGb,CAAER,KAAM,OAAQb,MAAO,OAAQiB,KAAM,cAAeC,QAASnB,GAC9C,IAAfK,EAAMI,MAAc,CAClBK,KAAM,OACNb,MAAO,OACPsB,KAAM,WACNP,MAAO,CACLE,KAAM,WACND,UAAW,SAGI,IAAfZ,EAAMI,KACN,CACE,CACEK,KAAM,KACNb,MAAO,KACPiB,KAAM,eACNF,MAAO,CAAEQ,IAAK,GACdH,MAAO,CACLI,MAAO,MAGX,CACEX,KAAM,OACNb,MAAO,OACPe,MAAO,CACLE,KAAM,WACND,UAAW,OAIjB,GACW,IAAfZ,EAAMI,MAAc,CAClBK,KAAM,OACNb,MAAO,OACPsB,KAAM,WACNP,MAAO,CACLE,KAAM,WACND,UAAW"}