{"version":3,"file":"ChartLine.vue_vue_type_script_setup_true_lang-38215106.js","sources":["../../../src/components/chart/ChartLine.vue"],"sourcesContent":["<template>\r\n  <Chart class=\"chart-line\" :option=\"newOpt\" :height=\"height\" :width=\"width\" :theme=\"theme\"></Chart>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport * as echarts from \"echarts\";\r\nimport { computed } from \"vue\";\r\nimport Chart from \"@/components/chart/Chart.vue\";\r\nimport { axisCfg, gradColors, titleCfg } from \"./_config\";\r\nimport { typeOf } from \"@/components/_utils\";\r\nimport { merge } from \"lodash\";\r\nimport type { ChartData, EchartTheme } from \"./_config/types\";\r\nimport { CommonObj } from \"@/vite-env\";\nimport { defineOptions } from 'vue'; \ndefineOptions({ name: \"ChartLine\" }); \n\r\nconst defaultOption = {\r\n  // title: {},\r\n  legend: {},\r\n  tooltip: {\r\n    trigger: \"axis\",\r\n  },\r\n  //类目轴（category）。默认情况下，类目轴对应到 dataset 第一列。\r\n  xAxis: { type: \"category\", ...axisCfg },\r\n  //数值轴（value）。\r\n  yAxis: {\r\n    type: \"value\",\r\n    // name: unit, //纵轴单位\r\n    ...axisCfg,\r\n  },\r\n  grid: { left: 0, top: 40, right: 0, bottom: 0, containLabel: true },\r\n  // dataset: {\r\n  //   // dimensions: [\"product\", \"2015\", \"2016\", \"2017\"],\r\n  //   source: [[\"Matcha Latte\", 43.3, 85.8, 93.7],[\"Milk Tea\", 83.1, 73.4, 55.1]], // 提供一份数据。\r\n  // },\r\n  // 声明多个 line 系列，默认情况下，每个系列会自动对应到 dataset 的每一列。\r\n  // series: [{ type: \"line\" }, { type: \"line\" }, { type: \"line\" }],\r\n};\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    theme?: EchartTheme;\r\n    height?: string | number;\r\n    width?: string | number;\r\n    title?: string;\r\n    unit?: string;\r\n    data?: ChartData;\r\n    smooth?: boolean; //折线是否平滑\r\n    symbolSize?: number; //折线连接点的大小\r\n    option?: CommonObj;\r\n  }>(),\r\n  {\r\n    symbolSize: 6,\r\n    smooth: false,\r\n    data: () => [\r\n      [\"product\", \"2015\", \"2016\", \"2017\"],\r\n      [\"示例1\", 43.3, 85.8, 93.7],\r\n      [\"示例2\", 83.1, 73.4, 55.1],\r\n      [\"示例3\", 86.4, 65.2, 82.5],\r\n      [\"示例4\", 72.4, 53.9, 39.1],\r\n      //   [\"product\", \"2015\"],\r\n      //   [\"Matcha Latte\", 43.3],\r\n      //   [\"Milk Tea\", 83.1],\r\n      //   [\"Cheese Cocoa\", 86.4],\r\n      //   [\"Walnut Brownie\", 72.4],\r\n    ],\r\n    option: () => ({}),\r\n  }\r\n);\r\nconst newOpt = computed(() => {\r\n  const { data, option, unit, title, symbolSize, smooth } = props;\r\n  const dimensions = data[0] || [\"product\"];\r\n  const series =\r\n    dimensions?.slice(1)?.map((item: any, ind: number) => {\r\n      return {\r\n        type: \"line\",\r\n        symbolSize,\r\n        smooth,\r\n        lineStyle: {\r\n          color: getItemColor(ind),\r\n        },\r\n        itemStyle: {\r\n          color: getItemColor(ind),\r\n        },\r\n      };\r\n    }) || [];\r\n  return merge(\r\n    {},\r\n    defaultOption,\r\n    {\r\n      ...(title && { title: { text: title, ...titleCfg } }),\r\n      ...(unit && { yAxis: { name: unit } }),\r\n      dataset: {\r\n        source: data,\r\n      },\r\n      series,\r\n    },\r\n    option\r\n  );\r\n});\r\n/**\r\n * 获取series 的itemStyle的color值\r\n * @param ind {number} 数组下标值\r\n */\r\nfunction getItemColor(ind: number) {\r\n  //颜色渐变函数 前四个参数分别表示四个位置依次为左、下、右、上\r\n  return new echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n    {\r\n      offset: 0,\r\n      color: gradColors[ind][0],\r\n    },\r\n    {\r\n      offset: 1,\r\n      color: gradColors[ind][0],\r\n    },\r\n  ]);\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["defaultOption","legend","tooltip","trigger","xAxis","type","axisCfg","yAxis","grid","left","top","right","bottom","containLabel","props","__props","newOpt","computed","data","option","unit","title","symbolSize","smooth","dimensions","series","_a","slice","map","item","ind","lineStyle","color","getItemColor","itemStyle","merge","text","titleCfg","name","dataset","source","echarts.graphic.LinearGradient","offset","gradColors"],"mappings":"2jBAgBA,MAAMA,EAAgB,CAEpBC,OAAQ,CAAC,EACTC,QAAS,CACPC,QAAS,QAGXC,MAAO,CAAEC,KAAM,cAAeC,GAE9BC,MAAO,CACLF,KAAM,WAEHC,GAELE,KAAM,CAAEC,KAAM,EAAGC,IAAK,GAAIC,MAAO,EAAGC,OAAQ,EAAGC,cAAc,IAQzDC,EAAQC,EA8BRC,EAASC,GAAS,WACtB,MAAMC,KAAEA,EAAMC,OAAAA,EAAAC,KAAQA,QAAMC,EAAOC,WAAAA,EAAAC,OAAYA,GAAWT,EACpDU,EAAaN,EAAK,IAAM,CAAC,WACzBO,GACJ,OAAAC,mBAAYC,MAAM,aAAIC,KAAI,CAACC,EAAWC,KAC7B,CACLzB,KAAM,OACNiB,aACAC,SACAQ,UAAW,CACTC,MAAOC,EAAaH,IAEtBI,UAAW,CACTF,MAAOC,EAAaH,UAGpB,GACD,OAAAK,EAAAA,MACL,CAAC,EACDnC,EACA,IACMqB,GAAS,CAAEA,MAAO,CAAEe,KAAMf,KAAUgB,OACpCjB,GAAQ,CAAEb,MAAO,CAAE+B,KAAMlB,IAC7BmB,QAAS,CACPC,OAAQtB,GAEVO,UAEFN,EAAA,IAOJ,SAASc,EAAaH,GAEpB,OAAO,IAAIW,EAA+B,EAAG,EAAG,EAAG,EAAG,CACpD,CACEC,OAAQ,EACRV,MAAOW,EAAWb,GAAK,IAEzB,CACEY,OAAQ,EACRV,MAAOW,EAAWb,GAAK,KAG7B"}