{"version":3,"file":"BaseText-fc88ef58.js","sources":["../../../src/components/BaseText.vue"],"sourcesContent":["<!-- 页面-简介 -->\r\n<template>\r\n  <div class=\"base-text\" :class=\"{ [`line-${maxLine}`]: true, over: isOver }\" @click=\"handleClick\" ref=\"baseTextRef\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, inject, onMounted } from \"vue\";\r\nimport { CommonObj, FinallyNext, StrNum } from \"@/vite-env\";\r\nimport { getIsOver } from \"@/components/_utils\";\nimport { defineOptions } from 'vue'; \ndefineOptions({ name: \"BaseText\" }); \n\r\n\r\nconst openPopup: any = inject(\"openPopup\");\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    maxLine?: StrNum; //最多显示几行，可选值：1~5 必须为整数\r\n    title?: string;\r\n    width?: StrNum;\r\n  }>(),\r\n  {\r\n    maxLine: 5,\r\n    title: \"详情\",\r\n    width: \"500px\",\r\n  }\r\n);\r\nconst baseTextRef = ref<any>(null);\r\nconst isOver = ref(false);\r\nonMounted(() => {\r\n  isOver.value = getIsOver(baseTextRef.value);\r\n});\r\nfunction handleClick(e: any) {\r\n  if (isOver.value) {\r\n    openPopup({ title: props.title, width: props.width }, e.target.innerText);\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.base-text {\r\n  &.over {\r\n    cursor: pointer;\r\n    &:hover {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":["openPopup","inject","props","__props","baseTextRef","ref","isOver","handleClick","e","value","title","width","target","innerText","onMounted","getIsOver"],"mappings":"4/CAcM,MAAAA,EAAiBC,EAAO,aACxBC,EAAQC,EAYRC,EAAcC,EAAS,MACvBC,EAASD,GAAI,GAInB,SAASE,EAAYC,GACfF,EAAOG,OACCT,EAAA,CAAEU,MAAOR,EAAMQ,MAAOC,MAAOT,EAAMS,OAASH,EAAEI,OAAOC,UAEnE,QAPAC,GAAU,KACDR,EAAAG,MAAQM,EAAUX,EAAYK,MAAK"}