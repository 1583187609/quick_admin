{"version":3,"file":"Chart-aa4a3794.js","sources":["../../../src/components/chart/_config/public.ts","../../../src/components/chart/Chart.vue"],"sourcesContent":["export const colors = [];\r\n//渐变色调色盘\r\nexport const gradColors = [\r\n  [\"#2EB7F5\", \"#B8F2FF\"],\r\n  [\"#FFAA00\", \"#FFE867\"],\r\n  [\"#F95741\", \"#fdb498\"],\r\n  [\"#5087EC\", \"#5087EC\"],\r\n  [\"#68BBC4\", \"#68BBC4\"],\r\n  [\"#58A55C\", \"#58A55C\"],\r\n  [\"#F2BD42\", \"#F2BD42\"],\r\n  [\"#EE752F\", \"#EE752F\"],\r\n  [\"#D95040\", \"#D95040\"],\r\n  [\"#9940D9\", \"#9940D9\"],\r\n];\r\n//坐标轴样式\r\nexport const axisCfg = {\r\n  axisTick: {\r\n    show: false,\r\n  },\r\n  axisLine: {\r\n    show: true,\r\n    lineStyle: {\r\n      color: \"#eee\",\r\n    },\r\n  },\r\n  axisLabel: {\r\n    color: \"#999\",\r\n    fontSize: 12,\r\n  },\r\n  nameTextStyle: {\r\n    color: \"#999\",\r\n    // align: 'right'\r\n  },\r\n};\r\n//标题样式\r\nexport const titleCfg = {\r\n  // text: \"XXX标题\",\r\n  top: 0,\r\n  left: \"center\",\r\n  // textStyle: {\r\n  color: \"#666\",\r\n  fontSize: 16,\r\n  // },\r\n};\r\n","<template>\r\n  <div class=\"chart\" ref=\"echartRef\" :style=\"{ height: toCssVal(height), width: toCssVal(width) }\"></div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n// import * as echarts from \"echarts\";\r\nimport * as echarts from \"echarts/core\";\r\nimport { useEvent } from \"@/hooks\";\r\nimport { ref, reactive, watch, onMounted } from \"vue\";\r\nimport { gradColors } from \"./_config\";\r\nimport { toCssVal } from \"@/components/_utils\";\r\nimport type { EchartTheme } from \"./_config/types\";\r\nimport {\r\n  PieChart,\r\n  PieSeriesOption,\r\n  BarChart,\r\n  // 系列类型的定义后缀都为 SeriesOption\r\n  BarSeriesOption,\r\n  LineChart,\r\n  LineSeriesOption,\r\n} from \"echarts/charts\";\r\nimport {\r\n  LegendComponent,\r\n  TitleComponent,\r\n  // 组件类型的定义后缀都为 ComponentOption\r\n  TitleComponentOption,\r\n  TooltipComponent,\r\n  TooltipComponentOption,\r\n  GridComponent,\r\n  GridComponentOption,\r\n  // 数据集组件\r\n  DatasetComponent,\r\n  DatasetComponentOption,\r\n  // 内置数据转换器组件 (filter, sort)\r\n  TransformComponent,\r\n} from \"echarts/components\";\r\nimport { LabelLayout, UniversalTransition } from \"echarts/features\";\r\nimport { CanvasRenderer } from \"echarts/renderers\";\r\nimport { CommonObj } from \"@/vite-env\";\nimport { defineOptions } from 'vue'; \ndefineOptions({ name: \"Chart\" }); \n\r\nconst colors = gradColors.map(item => item[0]);\r\n\r\n// 注册必须的组件\r\necharts.use([\r\n  LegendComponent,\r\n  TitleComponent,\r\n  TooltipComponent,\r\n  GridComponent,\r\n  DatasetComponent,\r\n  TransformComponent,\r\n  PieChart,\r\n  BarChart,\r\n  LineChart,\r\n  LabelLayout,\r\n  UniversalTransition,\r\n  CanvasRenderer,\r\n]);\r\nlet echart: any = null;\r\nconst echartRef = ref<HTMLElement | null>(null);\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    height?: string | number;\r\n    width?: string | number;\r\n    theme?: EchartTheme;\r\n    option?: CommonObj;\r\n  }>(),\r\n  {\r\n    height: \"300px\",\r\n    width: \"100%\",\r\n    theme: \"macarons\",\r\n    option: () => {\r\n      return {\r\n        title: {\r\n          text: \"ECharts 入门示例\",\r\n        },\r\n        tooltip: {},\r\n        xAxis: {\r\n          data: [\"衬衫\", \"羊毛衫\", \"雪纺衫\", \"裤子\", \"高跟鞋\", \"袜子\"],\r\n        },\r\n        yAxis: {},\r\n        series: [\r\n          {\r\n            name: \"销量\",\r\n            type: \"bar\",\r\n            data: [5, 20, 36, 10, 10, 20],\r\n          },\r\n        ],\r\n      };\r\n    },\r\n  }\r\n);\r\nuseEvent(\"resize\", () => echart.resize());\r\nwatch(\r\n  () => props.option,\r\n  newVal => {\r\n    echart.setOption(getNewOpt(newVal), true);\r\n  },\r\n  { deep: true }\r\n);\r\nonMounted(() => {\r\n  echart = echarts.init(echartRef.value, props.theme); // 初始化 echart\r\n  echart.setOption(getNewOpt(props.option), true); // 绘制\r\n  // notMerge 可选。是否不跟之前设置的 option 进行合并。默认为 false。即表示合并。合并的规则，详见 组件合并模式。如果为 true，表示所有组件都会被删除，然后根据新 option 创建所有新组件。\r\n  // setOption 见 https://echarts.apache.org/zh/api.html#echartsInstance.setOption\r\n});\r\nfunction getNewOpt(option: CommonObj) {\r\n  return Object.assign({ color: colors }, option);\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.chart {\r\n}\r\n</style>\r\n"],"names":["gradColors","axisCfg","axisTick","show","axisLine","lineStyle","color","axisLabel","fontSize","nameTextStyle","titleCfg","top","left","colors","map","item","use","LegendComponent","TitleComponent","TooltipComponent","GridComponent","DatasetComponent","TransformComponent","PieChart","BarChart","LineChart","LabelLayout","UniversalTransition","CanvasRenderer","echart","echartRef","ref","props","__props","getNewOpt","option","Object","assign","useEvent","resize","watch","newVal","setOption","deep","onMounted","echarts.init","value","theme"],"mappings":"4WAEO,MAAMA,EAAa,CACxB,CAAC,UAAW,WACZ,CAAC,UAAW,WACZ,CAAC,UAAW,WACZ,CAAC,UAAW,WACZ,CAAC,UAAW,WACZ,CAAC,UAAW,WACZ,CAAC,UAAW,WACZ,CAAC,UAAW,WACZ,CAAC,UAAW,WACZ,CAAC,UAAW,YAGDC,EAAU,CACrBC,SAAU,CACRC,MAAM,GAERC,SAAU,CACRD,MAAM,EACNE,UAAW,CACTC,MAAO,SAGXC,UAAW,CACTD,MAAO,OACPE,SAAU,IAEZC,cAAe,CACbH,MAAO,SAKEI,EAAW,CAEtBC,IAAK,EACLC,KAAM,SAENN,MAAO,OACPE,SAAU,oTCCZ,MAAMK,EAASb,EAAWc,KAAYC,GAAAA,EAAK,KAG/BC,EAAA,CACVC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,IAEF,IAAIC,EAAc,KACZ,MAAAC,EAAYC,EAAwB,MACpCC,EAAQC,EA8Cd,SAASC,EAAUC,GACjB,OAAOC,OAAOC,OAAO,CAAE/B,MAAOO,GAAUsB,EAC1C,QAhBAG,EAAS,UAAU,IAAMT,EAAOU,WAChCC,GACE,IAAMR,EAAMG,SACFM,IACRZ,EAAOa,UAAUR,EAAUO,IAAS,EAAI,GAE1C,CAAEE,MAAM,IAEVC,GAAU,KACRf,EAASgB,EAAaf,EAAUgB,MAAOd,EAAMe,OAC7ClB,EAAOa,UAAUR,EAAUF,EAAMG,SAAS,EAAI"}