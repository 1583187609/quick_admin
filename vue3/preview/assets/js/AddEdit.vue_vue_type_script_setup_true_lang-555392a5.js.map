{"version":3,"file":"AddEdit.vue_vue_type_script_setup_true_lang-555392a5.js","sources":["../../../src/views/test/test-3/AddEdit.vue"],"sourcesContent":["<!--新增编辑 -->\r\n<template>\r\n  <BaseForm\r\n    style=\"width: 600px\"\r\n    v-model=\"model\"\r\n    :fields=\"fields\"\r\n    :fetch=\"data ? PostMockCommonUpdate : PostMockCommonAdd\"\r\n    :fetchSuccess=\"refreshList\"\r\n    :extraParams=\"{ id: data?.id }\"\r\n    @change=\"(prop:string,val:any)=>model[prop] = val\"\r\n  >\r\n  </BaseForm>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, reactive, watch, computed } from \"vue\";\r\nimport { FormField } from \"@/components/BaseFormItem\";\r\nimport { PostMockCommonAdd, PostMockCommonUpdate } from \"@/api-mock\";\r\nimport { CommonObj, FinallyNext, OptionItem, StrNum } from \"@/vite-env\";\nimport { defineOptions } from 'vue'; \ndefineOptions({ name: \"TestTest3AddEdit\" }); \n\r\n\r\nconst cflxOpts: OptionItem[] = [\r\n  { label: \"警告\", value: 1 },\r\n  { label: \"禁言\", value: 2 },\r\n  { label: \"封禁\", value: 3 },\r\n];\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    data?: CommonObj;\r\n    refreshList?: FinallyNext;\r\n  }>(),\r\n  {}\r\n);\r\nconst model = reactive<CommonObj>(Object.assign({ cflx: 1, sfqy: 0 }, props.data));\r\nconst fields = computed<FormField[]>(() => {\r\n  return [\r\n    {\r\n      prop: \"xm\",\r\n      label: \"姓名\",\r\n      required: true,\r\n      attrs: { maxlength: 6 },\r\n    },\r\n    {\r\n      prop: \"xb\",\r\n      label: \"性别\",\r\n      required: true,\r\n      type: \"select\",\r\n      options: \"Gender\",\r\n      extra: {\r\n        span: 12,\r\n      },\r\n    },\r\n    {\r\n      prop: \"nl\",\r\n      label: \"年龄\",\r\n      type: \"input-number\",\r\n      extra: {\r\n        span: 12,\r\n        valid: \"age\",\r\n      },\r\n    },\r\n    {\r\n      prop: \"dhhm\",\r\n      label: \"电话号码\",\r\n      extra: {\r\n        valid: \"phone\",\r\n      },\r\n    },\r\n    {\r\n      prop: \"sfqy\",\r\n      label: \"是否启用\",\r\n      type: \"switch\",\r\n      extra: {\r\n        popover: \"这是popover示例\",\r\n      },\r\n    },\r\n    { prop: \"cflx\", label: \"处罚类型\", type: \"radio-group\", options: cflxOpts },\r\n    model.cflx === 1 && {\r\n      prop: \"jgnr\",\r\n      label: \"警告内容\",\r\n      attrs: {\r\n        type: \"textarea\",\r\n        maxlength: 100,\r\n      },\r\n      extra: {\r\n        tips: \"这是tips示例\",\r\n      },\r\n    },\r\n    ...(model.cflx === 2\r\n      ? [\r\n          {\r\n            prop: \"ts\",\r\n            label: \"天数\",\r\n            type: \"input-number\",\r\n            attrs: { min: 0 },\r\n            extra: {\r\n              after: \"天\",\r\n            },\r\n          },\r\n          {\r\n            prop: \"jygz\",\r\n            label: \"禁言告知\",\r\n            attrs: {\r\n              type: \"textarea\",\r\n              maxlength: 100,\r\n            },\r\n          },\r\n        ]\r\n      : []),\r\n    model.cflx === 3 && {\r\n      prop: \"fjgz\",\r\n      label: \"封禁告知\",\r\n      attrs: {\r\n        type: \"textarea\",\r\n        maxlength: 100,\r\n      },\r\n      extra: {\r\n        tips: \"这是tips示例\",\r\n      },\r\n    },\r\n  ];\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n"],"names":["cflxOpts","label","value","props","__props","model","reactive","Object","assign","cflx","sfqy","data","fields","computed","prop","required","attrs","maxlength","type","options","extra","span","valid","popover","tips","min","after"],"mappings":"mPAsBA,MAAMA,EAAyB,CAC7B,CAAEC,MAAO,KAAMC,MAAO,GACtB,CAAED,MAAO,KAAMC,MAAO,GACtB,CAAED,MAAO,KAAMC,MAAO,IAElBC,EAAQC,EAORC,EAAQC,EAAoBC,OAAOC,OAAO,CAAEC,KAAM,EAAGC,KAAM,GAAKP,EAAMQ,OACtEC,EAASC,GAAsB,IAC5B,CACL,CACEC,KAAM,KACNb,MAAO,KACPc,UAAU,EACVC,MAAO,CAAEC,UAAW,IAEtB,CACEH,KAAM,KACNb,MAAO,KACPc,UAAU,EACVG,KAAM,SACNC,QAAS,SACTC,MAAO,CACLC,KAAM,KAGV,CACEP,KAAM,KACNb,MAAO,KACPiB,KAAM,eACNE,MAAO,CACLC,KAAM,GACNC,MAAO,QAGX,CACER,KAAM,OACNb,MAAO,OACPmB,MAAO,CACLE,MAAO,UAGX,CACER,KAAM,OACNb,MAAO,OACPiB,KAAM,SACNE,MAAO,CACLG,QAAS,gBAGb,CAAET,KAAM,OAAQb,MAAO,OAAQiB,KAAM,cAAeC,QAASnB,GAC9C,IAAfK,EAAMI,MAAc,CAClBK,KAAM,OACNb,MAAO,OACPe,MAAO,CACLE,KAAM,WACND,UAAW,KAEbG,MAAO,CACLI,KAAM,gBAGS,IAAfnB,EAAMI,KACN,CACE,CACEK,KAAM,KACNb,MAAO,KACPiB,KAAM,eACNF,MAAO,CAAES,IAAK,GACdL,MAAO,CACLM,MAAO,MAGX,CACEZ,KAAM,OACNb,MAAO,OACPe,MAAO,CACLE,KAAM,WACND,UAAW,OAIjB,GACW,IAAfZ,EAAMI,MAAc,CAClBK,KAAM,OACNb,MAAO,OACPe,MAAO,CACLE,KAAM,WACND,UAAW,KAEbG,MAAO,CACLI,KAAM"}