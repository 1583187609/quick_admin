{"version":3,"file":"Index-55dc2aff.js","sources":["../../../src/components/CustomCrud/Index.vue"],"sourcesContent":["<template>\r\n  <BaseCrud class=\"custom-crud\" :summaryList=\"summaryList\" :showPagination=\"!summaryList\" ref=\"crudRef\">\r\n    <template #default=\"{ loading, params, rows, total, hasMore }\">\r\n      <LoadMore\r\n        class=\"f-1\"\r\n        @reachBottom=\"handleReachBottom(params)\"\r\n        :paddingBottom=\"hasMore ? 0 : 250\"\r\n        :loading=\"loading\"\r\n        v-if=\"summaryList\"\r\n      >\r\n        <slot name=\"list\" :list=\"rows\" :total=\"total\" :hasMore=\"hasMore\"> </slot>\r\n      </LoadMore>\r\n      <div class=\"list-box f-1\" v-loading=\"loading\" v-else>\r\n        <slot name=\"list\" :list=\"rows\" :total=\"total\" :hasMore=\"hasMore\"> </slot>\r\n      </div>\r\n    </template>\r\n  </BaseCrud>\r\n</template>\r\n<script lang=\"ts\" name=\"CustomCrud\" setup>\r\nimport { ref, reactive, watch, computed, inject, useSlots } from \"vue\";\r\nimport LoadMore from \"@/components/LoadMore.vue\";\r\nimport { PaginationAttrs, SummaryListType } from \"@/components/table\";\r\nimport { CommonObj, UniteFetchType, FinallyNext } from \"@/vite-env\";\r\nimport { FilterByAuthFn } from \"../BaseCrud\";\nimport { defineOptions } from 'vue'; \ndefineOptions({ name: \"CustomCrud\" }); \n\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    summaryList?: SummaryListType; //汇总请求数据的 list\r\n    filterByAuth?: FilterByAuthFn;\r\n  }>(),\r\n  {}\r\n);\r\nconst emits = defineEmits([\"update:modelValue\", \"extraBtn\", \"groupBtn\", \"selectionChange\"]);\r\nconst crudRef = ref<any>(null);\r\n/**\r\n * 刷新列表\r\n * @param cb function 预留的回调函数\r\n */\r\nfunction handleReachBottom(params: CommonObj) {\r\n  params.page = params.page + 1;\r\n  crudRef.value.getList(params);\r\n}\r\ndefineExpose(crudRef.value);\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.custom-crud {\r\n  overflow: auto;\r\n  .list-box {\r\n    overflow: auto;\r\n  }\r\n}\r\n</style>\r\n"],"names":["crudRef","ref","__expose","value","params","page","getList"],"mappings":"opDAmCM,MAAAA,EAAUC,EAAS,aASzBC,EAAaF,EAAQG,kSAJrB,SAA2BC,GAClBA,EAAAC,KAAOD,EAAOC,KAAO,EACpBL,EAAAG,MAAMG,QAAQF,EACxB"}