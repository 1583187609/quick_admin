{"version":3,"file":"CaptchaBtn-b77484c9.js","sources":["../../../src/views/login/_components/CaptchaBtn.vue"],"sourcesContent":["<template>\r\n  <el-button @click=\"handleClick\" class=\"captcha-btn\" :class=\"{ 'has-send': hasSend }\" type=\"primary\">\r\n    <template v-if=\"hasSend\">已发送({{ currSecond }})</template>\r\n    <template v-else>发送验证码</template>\r\n  </el-button>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, reactive, watch, computed } from \"vue\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { CommonObj, SetInterval } from \"@/vite-env\";\r\nconst seconds = 5;\r\nconst currSecond = ref(seconds);\r\nconst hasSend = ref(false);\r\nlet timer: SetInterval = null;\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    exampleProp?: CommonObj;\r\n  }>(),\r\n  {\r\n    exampleProp: () => ({}),\r\n  }\r\n);\r\nfunction handleClick(params: type) {\r\n  if (hasSend.value) {\r\n    ElMessage.warning(\"验证码已发送，请稍后再试\");\r\n  } else {\r\n    hasSend.value = true;\r\n    timer = setInterval(() => {\r\n      currSecond.value -= 1;\r\n      if (currSecond.value < 1) {\r\n        hasSend.value = false;\r\n        currSecond.value = seconds;\r\n        clearInterval(timer);\r\n      }\r\n    }, 1000);\r\n    ElMessage.success(\"验证码已发送，请注意查收\");\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.captcha-btn.has-send {\r\n  // &:hover {\r\n  //   color: $color-text-light !important;\r\n  // }\r\n}\r\n</style>\r\n"],"names":["currSecond","ref","hasSend","timer","handleClick","params","value","ElMessage","warning","setInterval","clearInterval","success"],"mappings":"s5CAUA,iFACM,MAAAA,EAAaC,EADH,GAEVC,EAAUD,GAAI,GACpB,IAAIE,EAAqB,KASzB,SAASC,EAAYC,GACfH,EAAQI,MACVC,EAAUC,QAAQ,iBAElBN,EAAQI,OAAQ,EAChBH,EAAQM,aAAY,KAClBT,EAAWM,OAAS,EAChBN,EAAWM,MAAQ,IACrBJ,EAAQI,OAAQ,EAChBN,EAAWM,MArBH,EAsBRI,cAAcP,GAChB,GACC,KACHI,EAAUI,QAAQ,gBAEtB"}