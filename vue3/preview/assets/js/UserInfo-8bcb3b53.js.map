{"version":3,"file":"UserInfo-8bcb3b53.js","sources":["../../../src/views/_components/UserInfo.vue"],"sourcesContent":["<!-- 组件 - 用户信息 -->\r\n<!-- :style=\"{ width: (simple ? 210 : 420) + 'px' }\" -->\r\n<template>\r\n  <div class=\"user-info f-sb-s\" v-if=\"data\">\r\n    <template v-if=\"simple\">\r\n      <BaseAvatar class=\"avatar simple f-0 mr-8\" :src=\"data.avatar\" :gender=\"data.gender\" />\r\n      <div class=\"f-1 f-sb-s-c\">\r\n        <b @click=\"toUserDetail\" class=\"nickname line-1\">{{ data.nickname || \"-\" }}</b>\r\n        <div class=\"f-fs-c\">\r\n          <div class=\"f-0 mr-o\">ID：<BaseCopy :text=\"data.id\" line=\"1\" /></div>\r\n          <BaseTag class=\"f-0 gender\" name=\"Gender\" :value=\"data.gender\" size=\"small\" pureText />\r\n        </div>\r\n        <div class=\"f-sb-c\">\r\n          <BaseTag class=\"f-0\" name=\"AccountStatus\" :value=\"data.accountStatus\" size=\"small\" />\r\n          <BaseTag class=\"f-0\" name=\"AuthCase\" :value=\"getAuthStatus(data)\" size=\"small\" />\r\n        </div>\r\n      </div>\r\n    </template>\r\n    <template v-else>\r\n      <div class=\"avatar-box f-0 mr-8\">\r\n        <el-popover :show-after=\"200\" :hide-after=\"0\" trigger=\"hover\" v-if=\"data.companyStatus === 0\">\r\n          <template #reference>\r\n            <BaseTag class=\"company\" name=\"AuthCase\" value=\"3\">公司</BaseTag>\r\n          </template>\r\n          <div>{{ data.companyName }}</div>\r\n        </el-popover>\r\n        <BaseAvatar class=\"avatar\" :src=\"data.avatar\" :gender=\"data.gender\" />\r\n        <el-popover :show-after=\"200\" :hide-after=\"0\" trigger=\"hover\" v-if=\"data.schoolStatus === 0\">\r\n          <template #reference>\r\n            <BaseTag class=\"education\" name=\"AuthCase\" value=\"2\">学历</BaseTag>\r\n          </template>\r\n          <div>\r\n            {{ getText(\"EducationType\", data.schoolCertificateLevel) || \"-\" }}\r\n          </div>\r\n        </el-popover>\r\n      </div>\r\n      <div class=\"f-1 f-sb-s-c\">\r\n        <div class=\"f-sb-c\">\r\n          <b @click=\"toUserDetail\" class=\"nickname line-1\">{{ data.nickname || \"-\" }}</b>\r\n          <BaseTag class=\"f-0 gender\" name=\"Gender\" :value=\"data.gender\" size=\"small\" pureText />\r\n          <span class=\"f-0 age\">{{ data.age || \"0\" }}岁</span>\r\n          <BaseTag class=\"f-0 ml-h mr-a\" name=\"MatrimonyStatus\" :value=\"data.singleType\" size=\"small\" pureText />\r\n          <BaseTag class=\"f-0\" name=\"AccountStatus\" :value=\"data.accountStatus\" size=\"small\" />\r\n          <!-- v-if=\"data.accountStatus !== 0\" -->\r\n        </div>\r\n        <div class=\"f-sb-c\">\r\n          <div class=\"f-0 item\">ID：<BaseCopy :text=\"data.id\" line=\"1\" /></div>\r\n          <div class=\"f-0 item\">学号：<BaseCopy :text=\"data.userCode\" line=\"1\" /></div>\r\n        </div>\r\n        <div class=\"f-fs-c\">\r\n          <div class=\"item f-0\">\r\n            学历：<b>{{ getText(\"EducationType\", data.schoolCertificateLevel) || \"-\" }}</b>\r\n          </div>\r\n          <div class=\"item f-0\">\r\n            学校：<b>{{ data.schoolName || \"-\" }}</b>\r\n          </div>\r\n        </div>\r\n        <div class=\"f-fs-fs\">\r\n          <div class=\"item f-0\">\r\n            职业：<b>{{ data.jobName || \"-\" }}</b>\r\n          </div>\r\n          <div class=\"item f-0\">\r\n            收入：<b>{{ data.incomeTypeName || \"-\" }}</b>\r\n          </div>\r\n        </div>\r\n        <div class=\"f-fs-c\">\r\n          <div class=\"item f-0\">\r\n            现居地：<b>{{ getCascaderText(\"Region\", data.liveCity) || \"-\" }}</b>\r\n          </div>\r\n          <div class=\"item f-0\">\r\n            家乡：<b>{{ getCascaderText(\"Region\", data.city) || \"-\" }}</b>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { CommonObj } from \"@/vite-env\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useDictMap } from \"@/hooks\";\r\n\r\nconst router = useRouter();\r\nconst { getText, getCascaderText } = useDictMap();\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    data?: CommonObj;\r\n    simple?: boolean;\r\n  }>(),\r\n  {\r\n    data: () => ({}),\r\n  }\r\n);\r\nfunction getAuthStatus(data) {\r\n  const { companyStatus, schoolStatus } = data;\r\n  let status = 0;\r\n  if (companyStatus === 0 && schoolStatus === 0) {\r\n    status = 4;\r\n  } else {\r\n    if (companyStatus === 0) {\r\n      status = 3;\r\n    } else if (schoolStatus === 0) {\r\n      status = 2;\r\n    } else {\r\n      status = 1;\r\n    }\r\n  }\r\n  return status;\r\n}\r\nfunction toUserDetail() {\r\n  router.push({ name: \"systemUserDetail\", query: { id: props.data.id } });\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.user-info {\r\n  text-align: left;\r\n}\r\n.avatar-box {\r\n  position: relative;\r\n  .el-tag {\r\n    position: absolute;\r\n    top: 0;\r\n    z-index: 1;\r\n    opacity: 0.6;\r\n    &.company {\r\n      left: 0;\r\n    }\r\n    &.education {\r\n      right: 0;\r\n    }\r\n  }\r\n}\r\n.avatar {\r\n  height: 120px;\r\n  width: 120px;\r\n  border-radius: $radius-light;\r\n  &.simple {\r\n    height: 70px;\r\n    width: 70px;\r\n  }\r\n}\r\n.nickname {\r\n  font-size: 15px;\r\n  &:hover {\r\n    cursor: pointer;\r\n    color: $color-primary;\r\n    text-decoration: underline;\r\n  }\r\n}\r\n.gender {\r\n  margin: 0 $gap-half;\r\n}\r\n.age {\r\n  font-size: 13px;\r\n}\r\n.item {\r\n  &:not(:last-child) {\r\n    margin-right: 1em;\r\n  }\r\n}\r\n</style>\r\n"],"names":["router","useRouter","getText","getCascaderText","useDictMap","props","__props","getAuthStatus","data","companyStatus","schoolStatus","status","toUserDetail","push","name","query","id"],"mappings":"y/DAkFA,MAAMA,EAASC,KACTC,QAAEA,EAAAC,gBAASA,GAAoBC,IAC/BC,EAAQC,EASd,SAASC,EAAcC,GACf,MAAAC,cAAEA,EAAeC,aAAAA,GAAiBF,EACxC,IAAIG,EAAS,EAYN,OAVIA,EADW,IAAlBF,GAAwC,IAAjBC,EAChB,EAEa,IAAlBD,EACO,EACiB,IAAjBC,EACA,EAEA,EAGNC,CACT,CACA,SAASC,IACAZ,EAAAa,KAAK,CAAEC,KAAM,mBAAoBC,MAAO,CAAEC,GAAIX,EAAMG,KAAKQ,KAClE"}