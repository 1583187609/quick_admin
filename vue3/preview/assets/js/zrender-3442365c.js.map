{"version":3,"file":"zrender-3442365c.js","sources":["../../../node_modules/zrender/lib/core/env.js","../../../node_modules/zrender/lib/core/platform.js","../../../node_modules/zrender/lib/core/util.js","../../../node_modules/zrender/lib/core/vector.js","../../../node_modules/zrender/lib/mixin/Draggable.js","../../../node_modules/zrender/lib/core/Eventful.js","../../../node_modules/zrender/lib/core/fourPointsTransform.js","../../../node_modules/zrender/lib/core/dom.js","../../../node_modules/zrender/lib/core/event.js","../../../node_modules/zrender/lib/core/GestureMgr.js","../../../node_modules/zrender/lib/core/matrix.js","../../../node_modules/zrender/lib/core/Point.js","../../../node_modules/zrender/lib/core/BoundingRect.js","../../../node_modules/zrender/lib/Handler.js","../../../node_modules/zrender/lib/core/timsort.js","../../../node_modules/zrender/lib/graphic/constants.js","../../../node_modules/zrender/lib/Storage.js","../../../node_modules/zrender/lib/animation/requestAnimationFrame.js","../../../node_modules/zrender/lib/animation/easing.js","../../../node_modules/zrender/lib/core/curve.js","../../../node_modules/zrender/lib/animation/cubicEasing.js","../../../node_modules/zrender/lib/animation/Clip.js","../../../node_modules/zrender/lib/core/LRU.js","../../../node_modules/zrender/lib/tool/color.js","../../../node_modules/zrender/lib/svg/helper.js","../../../node_modules/zrender/lib/animation/Animator.js","../../../node_modules/zrender/lib/animation/Animation.js","../../../node_modules/zrender/lib/dom/HandlerProxy.js","../../../node_modules/zrender/lib/config.js","../../../node_modules/zrender/lib/core/Transformable.js","../../../node_modules/zrender/lib/contain/text.js","../../../node_modules/zrender/lib/Element.js","../../../node_modules/zrender/lib/graphic/Group.js","../../../node_modules/zrender/lib/zrender.js","../../../node_modules/zrender/lib/graphic/helper/image.js","../../../node_modules/zrender/lib/graphic/helper/parseText.js","../../../node_modules/zrender/lib/graphic/Displayable.js","../../../node_modules/zrender/lib/core/bbox.js","../../../node_modules/zrender/lib/core/PathProxy.js","../../../node_modules/zrender/lib/contain/line.js","../../../node_modules/zrender/lib/contain/cubic.js","../../../node_modules/zrender/lib/contain/quadratic.js","../../../node_modules/zrender/lib/contain/util.js","../../../node_modules/zrender/lib/contain/arc.js","../../../node_modules/zrender/lib/contain/windingLine.js","../../../node_modules/zrender/lib/contain/path.js","../../../node_modules/zrender/lib/graphic/Path.js","../../../node_modules/zrender/lib/graphic/TSpan.js","../../../node_modules/zrender/lib/graphic/Image.js","../../../node_modules/zrender/lib/graphic/helper/subPixelOptimize.js","../../../node_modules/zrender/lib/graphic/shape/Rect.js","../../../node_modules/zrender/lib/graphic/helper/roundRect.js","../../../node_modules/zrender/lib/graphic/Text.js","../../../node_modules/zrender/lib/tool/transformPath.js","../../../node_modules/zrender/lib/tool/path.js","../../../node_modules/zrender/lib/graphic/shape/Circle.js","../../../node_modules/zrender/lib/graphic/shape/Ellipse.js","../../../node_modules/zrender/lib/graphic/helper/roundSector.js","../../../node_modules/zrender/lib/graphic/shape/Sector.js","../../../node_modules/zrender/lib/graphic/shape/Ring.js","../../../node_modules/zrender/lib/graphic/helper/poly.js","../../../node_modules/zrender/lib/graphic/helper/smoothBezier.js","../../../node_modules/zrender/lib/graphic/shape/Polygon.js","../../../node_modules/zrender/lib/graphic/shape/Polyline.js","../../../node_modules/zrender/lib/graphic/shape/Line.js","../../../node_modules/zrender/lib/graphic/shape/BezierCurve.js","../../../node_modules/zrender/lib/graphic/shape/Arc.js","../../../node_modules/zrender/lib/graphic/CompoundPath.js","../../../node_modules/zrender/lib/graphic/Gradient.js","../../../node_modules/zrender/lib/graphic/LinearGradient.js","../../../node_modules/zrender/lib/graphic/RadialGradient.js","../../../node_modules/zrender/lib/core/OrientedBoundingRect.js","../../../node_modules/zrender/lib/graphic/IncrementalDisplayable.js","../../../node_modules/zrender/lib/core/WeakMap.js","../../../node_modules/zrender/lib/canvas/helper.js","../../../node_modules/zrender/lib/canvas/dashStyle.js","../../../node_modules/zrender/lib/canvas/graphic.js","../../../node_modules/zrender/lib/contain/polygon.js","../../../node_modules/zrender/lib/tool/parseSVG.js","../../../node_modules/zrender/lib/tool/parseXML.js","../../../node_modules/zrender/lib/tool/convertPath.js","../../../node_modules/zrender/lib/tool/dividePath.js","../../../node_modules/zrender/lib/tool/morphPath.js","../../../node_modules/zrender/lib/svg/SVGPathRebuilder.js","../../../node_modules/zrender/lib/svg/mapStyleToAttrs.js","../../../node_modules/zrender/lib/svg/core.js","../../../node_modules/zrender/lib/svg/cssClassId.js","../../../node_modules/zrender/lib/svg/cssAnimation.js","../../../node_modules/zrender/lib/svg/cssEmphasis.js","../../../node_modules/zrender/lib/svg/graphic.js","../../../node_modules/zrender/lib/svg/domapi.js","../../../node_modules/zrender/lib/svg/patch.js","../../../node_modules/zrender/lib/svg/Painter.js","../../../node_modules/zrender/lib/canvas/Layer.js","../../../node_modules/zrender/lib/canvas/Painter.js"],"sourcesContent":["var Browser = (function () {\n    function Browser() {\n        this.firefox = false;\n        this.ie = false;\n        this.edge = false;\n        this.newEdge = false;\n        this.weChat = false;\n    }\n    return Browser;\n}());\nvar Env = (function () {\n    function Env() {\n        this.browser = new Browser();\n        this.node = false;\n        this.wxa = false;\n        this.worker = false;\n        this.svgSupported = false;\n        this.touchEventsSupported = false;\n        this.pointerEventsSupported = false;\n        this.domSupported = false;\n        this.transformSupported = false;\n        this.transform3dSupported = false;\n        this.hasGlobalWindow = typeof window !== 'undefined';\n    }\n    return Env;\n}());\nvar env = new Env();\nif (typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function') {\n    env.wxa = true;\n    env.touchEventsSupported = true;\n}\nelse if (typeof document === 'undefined' && typeof self !== 'undefined') {\n    env.worker = true;\n}\nelse if (typeof navigator === 'undefined'\n    || navigator.userAgent.indexOf('Node.js') === 0) {\n    env.node = true;\n    env.svgSupported = true;\n}\nelse {\n    detect(navigator.userAgent, env);\n}\nfunction detect(ua, env) {\n    var browser = env.browser;\n    var firefox = ua.match(/Firefox\\/([\\d.]+)/);\n    var ie = ua.match(/MSIE\\s([\\d.]+)/)\n        || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n    var edge = ua.match(/Edge?\\/([\\d.]+)/);\n    var weChat = (/micromessenger/i).test(ua);\n    if (firefox) {\n        browser.firefox = true;\n        browser.version = firefox[1];\n    }\n    if (ie) {\n        browser.ie = true;\n        browser.version = ie[1];\n    }\n    if (edge) {\n        browser.edge = true;\n        browser.version = edge[1];\n        browser.newEdge = +edge[1].split('.')[0] > 18;\n    }\n    if (weChat) {\n        browser.weChat = true;\n    }\n    env.svgSupported = typeof SVGRect !== 'undefined';\n    env.touchEventsSupported = 'ontouchstart' in window && !browser.ie && !browser.edge;\n    env.pointerEventsSupported = 'onpointerdown' in window\n        && (browser.edge || (browser.ie && +browser.version >= 11));\n    env.domSupported = typeof document !== 'undefined';\n    var style = document.documentElement.style;\n    env.transform3dSupported = ((browser.ie && 'transition' in style)\n        || browser.edge\n        || (('WebKitCSSMatrix' in window) && ('m11' in new WebKitCSSMatrix()))\n        || 'MozPerspective' in style)\n        && !('OTransition' in style);\n    env.transformSupported = env.transform3dSupported\n        || (browser.ie && +browser.version >= 9);\n}\nexport default env;\n","export var DEFAULT_FONT_SIZE = 12;\nexport var DEFAULT_FONT_FAMILY = 'sans-serif';\nexport var DEFAULT_FONT = DEFAULT_FONT_SIZE + \"px \" + DEFAULT_FONT_FAMILY;\nvar OFFSET = 20;\nvar SCALE = 100;\nvar defaultWidthMapStr = \"007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\\\\\WQb\\\\0FWLg\\\\bWb\\\\WQ\\\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\\\FFF5.5N\";\nfunction getTextWidthMap(mapStr) {\n    var map = {};\n    if (typeof JSON === 'undefined') {\n        return map;\n    }\n    for (var i = 0; i < mapStr.length; i++) {\n        var char = String.fromCharCode(i + 32);\n        var size = (mapStr.charCodeAt(i) - OFFSET) / SCALE;\n        map[char] = size;\n    }\n    return map;\n}\nexport var DEFAULT_TEXT_WIDTH_MAP = getTextWidthMap(defaultWidthMapStr);\nexport var platformApi = {\n    createCanvas: function () {\n        return typeof document !== 'undefined'\n            && document.createElement('canvas');\n    },\n    measureText: (function () {\n        var _ctx;\n        var _cachedFont;\n        return function (text, font) {\n            if (!_ctx) {\n                var canvas = platformApi.createCanvas();\n                _ctx = canvas && canvas.getContext('2d');\n            }\n            if (_ctx) {\n                if (_cachedFont !== font) {\n                    _cachedFont = _ctx.font = font || DEFAULT_FONT;\n                }\n                return _ctx.measureText(text);\n            }\n            else {\n                text = text || '';\n                font = font || DEFAULT_FONT;\n                var res = /(\\d+)px/.exec(font);\n                var fontSize = res && +res[1] || DEFAULT_FONT_SIZE;\n                var width = 0;\n                if (font.indexOf('mono') >= 0) {\n                    width = fontSize * text.length;\n                }\n                else {\n                    for (var i = 0; i < text.length; i++) {\n                        var preCalcWidth = DEFAULT_TEXT_WIDTH_MAP[text[i]];\n                        width += preCalcWidth == null ? fontSize : (preCalcWidth * fontSize);\n                    }\n                }\n                return { width: width };\n            }\n        };\n    })(),\n    loadImage: function (src, onload, onerror) {\n        var image = new Image();\n        image.onload = onload;\n        image.onerror = onerror;\n        image.src = src;\n        return image;\n    }\n};\nexport function setPlatformAPI(newPlatformApis) {\n    for (var key in platformApi) {\n        if (newPlatformApis[key]) {\n            platformApi[key] = newPlatformApis[key];\n        }\n    }\n}\n","import { platformApi } from './platform.js';\nvar BUILTIN_OBJECT = reduce([\n    'Function',\n    'RegExp',\n    'Date',\n    'Error',\n    'CanvasGradient',\n    'CanvasPattern',\n    'Image',\n    'Canvas'\n], function (obj, val) {\n    obj['[object ' + val + ']'] = true;\n    return obj;\n}, {});\nvar TYPED_ARRAY = reduce([\n    'Int8',\n    'Uint8',\n    'Uint8Clamped',\n    'Int16',\n    'Uint16',\n    'Int32',\n    'Uint32',\n    'Float32',\n    'Float64'\n], function (obj, val) {\n    obj['[object ' + val + 'Array]'] = true;\n    return obj;\n}, {});\nvar objToString = Object.prototype.toString;\nvar arrayProto = Array.prototype;\nvar nativeForEach = arrayProto.forEach;\nvar nativeFilter = arrayProto.filter;\nvar nativeSlice = arrayProto.slice;\nvar nativeMap = arrayProto.map;\nvar ctorFunction = function () { }.constructor;\nvar protoFunction = ctorFunction ? ctorFunction.prototype : null;\nvar protoKey = '__proto__';\nvar idStart = 0x0907;\nexport function guid() {\n    return idStart++;\n}\nexport function logError() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    if (typeof console !== 'undefined') {\n        console.error.apply(console, args);\n    }\n}\nexport function clone(source) {\n    if (source == null || typeof source !== 'object') {\n        return source;\n    }\n    var result = source;\n    var typeStr = objToString.call(source);\n    if (typeStr === '[object Array]') {\n        if (!isPrimitive(source)) {\n            result = [];\n            for (var i = 0, len = source.length; i < len; i++) {\n                result[i] = clone(source[i]);\n            }\n        }\n    }\n    else if (TYPED_ARRAY[typeStr]) {\n        if (!isPrimitive(source)) {\n            var Ctor = source.constructor;\n            if (Ctor.from) {\n                result = Ctor.from(source);\n            }\n            else {\n                result = new Ctor(source.length);\n                for (var i = 0, len = source.length; i < len; i++) {\n                    result[i] = source[i];\n                }\n            }\n        }\n    }\n    else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n        result = {};\n        for (var key in source) {\n            if (source.hasOwnProperty(key) && key !== protoKey) {\n                result[key] = clone(source[key]);\n            }\n        }\n    }\n    return result;\n}\nexport function merge(target, source, overwrite) {\n    if (!isObject(source) || !isObject(target)) {\n        return overwrite ? clone(source) : target;\n    }\n    for (var key in source) {\n        if (source.hasOwnProperty(key) && key !== protoKey) {\n            var targetProp = target[key];\n            var sourceProp = source[key];\n            if (isObject(sourceProp)\n                && isObject(targetProp)\n                && !isArray(sourceProp)\n                && !isArray(targetProp)\n                && !isDom(sourceProp)\n                && !isDom(targetProp)\n                && !isBuiltInObject(sourceProp)\n                && !isBuiltInObject(targetProp)\n                && !isPrimitive(sourceProp)\n                && !isPrimitive(targetProp)) {\n                merge(targetProp, sourceProp, overwrite);\n            }\n            else if (overwrite || !(key in target)) {\n                target[key] = clone(source[key]);\n            }\n        }\n    }\n    return target;\n}\nexport function mergeAll(targetAndSources, overwrite) {\n    var result = targetAndSources[0];\n    for (var i = 1, len = targetAndSources.length; i < len; i++) {\n        result = merge(result, targetAndSources[i], overwrite);\n    }\n    return result;\n}\nexport function extend(target, source) {\n    if (Object.assign) {\n        Object.assign(target, source);\n    }\n    else {\n        for (var key in source) {\n            if (source.hasOwnProperty(key) && key !== protoKey) {\n                target[key] = source[key];\n            }\n        }\n    }\n    return target;\n}\nexport function defaults(target, source, overlay) {\n    var keysArr = keys(source);\n    for (var i = 0; i < keysArr.length; i++) {\n        var key = keysArr[i];\n        if ((overlay ? source[key] != null : target[key] == null)) {\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nexport var createCanvas = platformApi.createCanvas;\nexport function indexOf(array, value) {\n    if (array) {\n        if (array.indexOf) {\n            return array.indexOf(value);\n        }\n        for (var i = 0, len = array.length; i < len; i++) {\n            if (array[i] === value) {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\nexport function inherits(clazz, baseClazz) {\n    var clazzPrototype = clazz.prototype;\n    function F() { }\n    F.prototype = baseClazz.prototype;\n    clazz.prototype = new F();\n    for (var prop in clazzPrototype) {\n        if (clazzPrototype.hasOwnProperty(prop)) {\n            clazz.prototype[prop] = clazzPrototype[prop];\n        }\n    }\n    clazz.prototype.constructor = clazz;\n    clazz.superClass = baseClazz;\n}\nexport function mixin(target, source, override) {\n    target = 'prototype' in target ? target.prototype : target;\n    source = 'prototype' in source ? source.prototype : source;\n    if (Object.getOwnPropertyNames) {\n        var keyList = Object.getOwnPropertyNames(source);\n        for (var i = 0; i < keyList.length; i++) {\n            var key = keyList[i];\n            if (key !== 'constructor') {\n                if ((override ? source[key] != null : target[key] == null)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n    }\n    else {\n        defaults(target, source, override);\n    }\n}\nexport function isArrayLike(data) {\n    if (!data) {\n        return false;\n    }\n    if (typeof data === 'string') {\n        return false;\n    }\n    return typeof data.length === 'number';\n}\nexport function each(arr, cb, context) {\n    if (!(arr && cb)) {\n        return;\n    }\n    if (arr.forEach && arr.forEach === nativeForEach) {\n        arr.forEach(cb, context);\n    }\n    else if (arr.length === +arr.length) {\n        for (var i = 0, len = arr.length; i < len; i++) {\n            cb.call(context, arr[i], i, arr);\n        }\n    }\n    else {\n        for (var key in arr) {\n            if (arr.hasOwnProperty(key)) {\n                cb.call(context, arr[key], key, arr);\n            }\n        }\n    }\n}\nexport function map(arr, cb, context) {\n    if (!arr) {\n        return [];\n    }\n    if (!cb) {\n        return slice(arr);\n    }\n    if (arr.map && arr.map === nativeMap) {\n        return arr.map(cb, context);\n    }\n    else {\n        var result = [];\n        for (var i = 0, len = arr.length; i < len; i++) {\n            result.push(cb.call(context, arr[i], i, arr));\n        }\n        return result;\n    }\n}\nexport function reduce(arr, cb, memo, context) {\n    if (!(arr && cb)) {\n        return;\n    }\n    for (var i = 0, len = arr.length; i < len; i++) {\n        memo = cb.call(context, memo, arr[i], i, arr);\n    }\n    return memo;\n}\nexport function filter(arr, cb, context) {\n    if (!arr) {\n        return [];\n    }\n    if (!cb) {\n        return slice(arr);\n    }\n    if (arr.filter && arr.filter === nativeFilter) {\n        return arr.filter(cb, context);\n    }\n    else {\n        var result = [];\n        for (var i = 0, len = arr.length; i < len; i++) {\n            if (cb.call(context, arr[i], i, arr)) {\n                result.push(arr[i]);\n            }\n        }\n        return result;\n    }\n}\nexport function find(arr, cb, context) {\n    if (!(arr && cb)) {\n        return;\n    }\n    for (var i = 0, len = arr.length; i < len; i++) {\n        if (cb.call(context, arr[i], i, arr)) {\n            return arr[i];\n        }\n    }\n}\nexport function keys(obj) {\n    if (!obj) {\n        return [];\n    }\n    if (Object.keys) {\n        return Object.keys(obj);\n    }\n    var keyList = [];\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            keyList.push(key);\n        }\n    }\n    return keyList;\n}\nfunction bindPolyfill(func, context) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return function () {\n        return func.apply(context, args.concat(nativeSlice.call(arguments)));\n    };\n}\nexport var bind = (protoFunction && isFunction(protoFunction.bind))\n    ? protoFunction.call.bind(protoFunction.bind)\n    : bindPolyfill;\nfunction curry(func) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return function () {\n        return func.apply(this, args.concat(nativeSlice.call(arguments)));\n    };\n}\nexport { curry };\nexport function isArray(value) {\n    if (Array.isArray) {\n        return Array.isArray(value);\n    }\n    return objToString.call(value) === '[object Array]';\n}\nexport function isFunction(value) {\n    return typeof value === 'function';\n}\nexport function isString(value) {\n    return typeof value === 'string';\n}\nexport function isStringSafe(value) {\n    return objToString.call(value) === '[object String]';\n}\nexport function isNumber(value) {\n    return typeof value === 'number';\n}\nexport function isObject(value) {\n    var type = typeof value;\n    return type === 'function' || (!!value && type === 'object');\n}\nexport function isBuiltInObject(value) {\n    return !!BUILTIN_OBJECT[objToString.call(value)];\n}\nexport function isTypedArray(value) {\n    return !!TYPED_ARRAY[objToString.call(value)];\n}\nexport function isDom(value) {\n    return typeof value === 'object'\n        && typeof value.nodeType === 'number'\n        && typeof value.ownerDocument === 'object';\n}\nexport function isGradientObject(value) {\n    return value.colorStops != null;\n}\nexport function isImagePatternObject(value) {\n    return value.image != null;\n}\nexport function isRegExp(value) {\n    return objToString.call(value) === '[object RegExp]';\n}\nexport function eqNaN(value) {\n    return value !== value;\n}\nexport function retrieve() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    for (var i = 0, len = args.length; i < len; i++) {\n        if (args[i] != null) {\n            return args[i];\n        }\n    }\n}\nexport function retrieve2(value0, value1) {\n    return value0 != null\n        ? value0\n        : value1;\n}\nexport function retrieve3(value0, value1, value2) {\n    return value0 != null\n        ? value0\n        : value1 != null\n            ? value1\n            : value2;\n}\nexport function slice(arr) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return nativeSlice.apply(arr, args);\n}\nexport function normalizeCssArray(val) {\n    if (typeof (val) === 'number') {\n        return [val, val, val, val];\n    }\n    var len = val.length;\n    if (len === 2) {\n        return [val[0], val[1], val[0], val[1]];\n    }\n    else if (len === 3) {\n        return [val[0], val[1], val[2], val[1]];\n    }\n    return val;\n}\nexport function assert(condition, message) {\n    if (!condition) {\n        throw new Error(message);\n    }\n}\nexport function trim(str) {\n    if (str == null) {\n        return null;\n    }\n    else if (typeof str.trim === 'function') {\n        return str.trim();\n    }\n    else {\n        return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n    }\n}\nvar primitiveKey = '__ec_primitive__';\nexport function setAsPrimitive(obj) {\n    obj[primitiveKey] = true;\n}\nexport function isPrimitive(obj) {\n    return obj[primitiveKey];\n}\nvar MapPolyfill = (function () {\n    function MapPolyfill() {\n        this.data = {};\n    }\n    MapPolyfill.prototype[\"delete\"] = function (key) {\n        var existed = this.has(key);\n        if (existed) {\n            delete this.data[key];\n        }\n        return existed;\n    };\n    MapPolyfill.prototype.has = function (key) {\n        return this.data.hasOwnProperty(key);\n    };\n    MapPolyfill.prototype.get = function (key) {\n        return this.data[key];\n    };\n    MapPolyfill.prototype.set = function (key, value) {\n        this.data[key] = value;\n        return this;\n    };\n    MapPolyfill.prototype.keys = function () {\n        return keys(this.data);\n    };\n    MapPolyfill.prototype.forEach = function (callback) {\n        var data = this.data;\n        for (var key in data) {\n            if (data.hasOwnProperty(key)) {\n                callback(data[key], key);\n            }\n        }\n    };\n    return MapPolyfill;\n}());\nvar isNativeMapSupported = typeof Map === 'function';\nfunction maybeNativeMap() {\n    return (isNativeMapSupported ? new Map() : new MapPolyfill());\n}\nvar HashMap = (function () {\n    function HashMap(obj) {\n        var isArr = isArray(obj);\n        this.data = maybeNativeMap();\n        var thisMap = this;\n        (obj instanceof HashMap)\n            ? obj.each(visit)\n            : (obj && each(obj, visit));\n        function visit(value, key) {\n            isArr ? thisMap.set(value, key) : thisMap.set(key, value);\n        }\n    }\n    HashMap.prototype.hasKey = function (key) {\n        return this.data.has(key);\n    };\n    HashMap.prototype.get = function (key) {\n        return this.data.get(key);\n    };\n    HashMap.prototype.set = function (key, value) {\n        this.data.set(key, value);\n        return value;\n    };\n    HashMap.prototype.each = function (cb, context) {\n        this.data.forEach(function (value, key) {\n            cb.call(context, value, key);\n        });\n    };\n    HashMap.prototype.keys = function () {\n        var keys = this.data.keys();\n        return isNativeMapSupported\n            ? Array.from(keys)\n            : keys;\n    };\n    HashMap.prototype.removeKey = function (key) {\n        this.data[\"delete\"](key);\n    };\n    return HashMap;\n}());\nexport { HashMap };\nexport function createHashMap(obj) {\n    return new HashMap(obj);\n}\nexport function concatArray(a, b) {\n    var newArray = new a.constructor(a.length + b.length);\n    for (var i = 0; i < a.length; i++) {\n        newArray[i] = a[i];\n    }\n    var offset = a.length;\n    for (var i = 0; i < b.length; i++) {\n        newArray[i + offset] = b[i];\n    }\n    return newArray;\n}\nexport function createObject(proto, properties) {\n    var obj;\n    if (Object.create) {\n        obj = Object.create(proto);\n    }\n    else {\n        var StyleCtor = function () { };\n        StyleCtor.prototype = proto;\n        obj = new StyleCtor();\n    }\n    if (properties) {\n        extend(obj, properties);\n    }\n    return obj;\n}\nexport function disableUserSelect(dom) {\n    var domStyle = dom.style;\n    domStyle.webkitUserSelect = 'none';\n    domStyle.userSelect = 'none';\n    domStyle.webkitTapHighlightColor = 'rgba(0,0,0,0)';\n    domStyle['-webkit-touch-callout'] = 'none';\n}\nexport function hasOwn(own, prop) {\n    return own.hasOwnProperty(prop);\n}\nexport function noop() { }\nexport var RADIAN_TO_DEGREE = 180 / Math.PI;\n","export function create(x, y) {\n    if (x == null) {\n        x = 0;\n    }\n    if (y == null) {\n        y = 0;\n    }\n    return [x, y];\n}\nexport function copy(out, v) {\n    out[0] = v[0];\n    out[1] = v[1];\n    return out;\n}\nexport function clone(v) {\n    return [v[0], v[1]];\n}\nexport function set(out, a, b) {\n    out[0] = a;\n    out[1] = b;\n    return out;\n}\nexport function add(out, v1, v2) {\n    out[0] = v1[0] + v2[0];\n    out[1] = v1[1] + v2[1];\n    return out;\n}\nexport function scaleAndAdd(out, v1, v2, a) {\n    out[0] = v1[0] + v2[0] * a;\n    out[1] = v1[1] + v2[1] * a;\n    return out;\n}\nexport function sub(out, v1, v2) {\n    out[0] = v1[0] - v2[0];\n    out[1] = v1[1] - v2[1];\n    return out;\n}\nexport function len(v) {\n    return Math.sqrt(lenSquare(v));\n}\nexport var length = len;\nexport function lenSquare(v) {\n    return v[0] * v[0] + v[1] * v[1];\n}\nexport var lengthSquare = lenSquare;\nexport function mul(out, v1, v2) {\n    out[0] = v1[0] * v2[0];\n    out[1] = v1[1] * v2[1];\n    return out;\n}\nexport function div(out, v1, v2) {\n    out[0] = v1[0] / v2[0];\n    out[1] = v1[1] / v2[1];\n    return out;\n}\nexport function dot(v1, v2) {\n    return v1[0] * v2[0] + v1[1] * v2[1];\n}\nexport function scale(out, v, s) {\n    out[0] = v[0] * s;\n    out[1] = v[1] * s;\n    return out;\n}\nexport function normalize(out, v) {\n    var d = len(v);\n    if (d === 0) {\n        out[0] = 0;\n        out[1] = 0;\n    }\n    else {\n        out[0] = v[0] / d;\n        out[1] = v[1] / d;\n    }\n    return out;\n}\nexport function distance(v1, v2) {\n    return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0])\n        + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n}\nexport var dist = distance;\nexport function distanceSquare(v1, v2) {\n    return (v1[0] - v2[0]) * (v1[0] - v2[0])\n        + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n}\nexport var distSquare = distanceSquare;\nexport function negate(out, v) {\n    out[0] = -v[0];\n    out[1] = -v[1];\n    return out;\n}\nexport function lerp(out, v1, v2, t) {\n    out[0] = v1[0] + t * (v2[0] - v1[0]);\n    out[1] = v1[1] + t * (v2[1] - v1[1]);\n    return out;\n}\nexport function applyTransform(out, v, m) {\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n}\nexport function min(out, v1, v2) {\n    out[0] = Math.min(v1[0], v2[0]);\n    out[1] = Math.min(v1[1], v2[1]);\n    return out;\n}\nexport function max(out, v1, v2) {\n    out[0] = Math.max(v1[0], v2[0]);\n    out[1] = Math.max(v1[1], v2[1]);\n    return out;\n}\n","var Param = (function () {\n    function Param(target, e) {\n        this.target = target;\n        this.topTarget = e && e.topTarget;\n    }\n    return Param;\n}());\nvar Draggable = (function () {\n    function Draggable(handler) {\n        this.handler = handler;\n        handler.on('mousedown', this._dragStart, this);\n        handler.on('mousemove', this._drag, this);\n        handler.on('mouseup', this._dragEnd, this);\n    }\n    Draggable.prototype._dragStart = function (e) {\n        var draggingTarget = e.target;\n        while (draggingTarget && !draggingTarget.draggable) {\n            draggingTarget = draggingTarget.parent || draggingTarget.__hostTarget;\n        }\n        if (draggingTarget) {\n            this._draggingTarget = draggingTarget;\n            draggingTarget.dragging = true;\n            this._x = e.offsetX;\n            this._y = e.offsetY;\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragstart', e.event);\n        }\n    };\n    Draggable.prototype._drag = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            var x = e.offsetX;\n            var y = e.offsetY;\n            var dx = x - this._x;\n            var dy = y - this._y;\n            this._x = x;\n            this._y = y;\n            draggingTarget.drift(dx, dy, e);\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'drag', e.event);\n            var dropTarget = this.handler.findHover(x, y, draggingTarget).target;\n            var lastDropTarget = this._dropTarget;\n            this._dropTarget = dropTarget;\n            if (draggingTarget !== dropTarget) {\n                if (lastDropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(lastDropTarget, e), 'dragleave', e.event);\n                }\n                if (dropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(dropTarget, e), 'dragenter', e.event);\n                }\n            }\n        }\n    };\n    Draggable.prototype._dragEnd = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            draggingTarget.dragging = false;\n        }\n        this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragend', e.event);\n        if (this._dropTarget) {\n            this.handler.dispatchToElement(new Param(this._dropTarget, e), 'drop', e.event);\n        }\n        this._draggingTarget = null;\n        this._dropTarget = null;\n    };\n    return Draggable;\n}());\nexport default Draggable;\n","var Eventful = (function () {\n    function Eventful(eventProcessors) {\n        if (eventProcessors) {\n            this._$eventProcessor = eventProcessors;\n        }\n    }\n    Eventful.prototype.on = function (event, query, handler, context) {\n        if (!this._$handlers) {\n            this._$handlers = {};\n        }\n        var _h = this._$handlers;\n        if (typeof query === 'function') {\n            context = handler;\n            handler = query;\n            query = null;\n        }\n        if (!handler || !event) {\n            return this;\n        }\n        var eventProcessor = this._$eventProcessor;\n        if (query != null && eventProcessor && eventProcessor.normalizeQuery) {\n            query = eventProcessor.normalizeQuery(query);\n        }\n        if (!_h[event]) {\n            _h[event] = [];\n        }\n        for (var i = 0; i < _h[event].length; i++) {\n            if (_h[event][i].h === handler) {\n                return this;\n            }\n        }\n        var wrap = {\n            h: handler,\n            query: query,\n            ctx: (context || this),\n            callAtLast: handler.zrEventfulCallAtLast\n        };\n        var lastIndex = _h[event].length - 1;\n        var lastWrap = _h[event][lastIndex];\n        (lastWrap && lastWrap.callAtLast)\n            ? _h[event].splice(lastIndex, 0, wrap)\n            : _h[event].push(wrap);\n        return this;\n    };\n    Eventful.prototype.isSilent = function (eventName) {\n        var _h = this._$handlers;\n        return !_h || !_h[eventName] || !_h[eventName].length;\n    };\n    Eventful.prototype.off = function (eventType, handler) {\n        var _h = this._$handlers;\n        if (!_h) {\n            return this;\n        }\n        if (!eventType) {\n            this._$handlers = {};\n            return this;\n        }\n        if (handler) {\n            if (_h[eventType]) {\n                var newList = [];\n                for (var i = 0, l = _h[eventType].length; i < l; i++) {\n                    if (_h[eventType][i].h !== handler) {\n                        newList.push(_h[eventType][i]);\n                    }\n                }\n                _h[eventType] = newList;\n            }\n            if (_h[eventType] && _h[eventType].length === 0) {\n                delete _h[eventType];\n            }\n        }\n        else {\n            delete _h[eventType];\n        }\n        return this;\n    };\n    Eventful.prototype.trigger = function (eventType) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._$handlers) {\n            return this;\n        }\n        var _h = this._$handlers[eventType];\n        var eventProcessor = this._$eventProcessor;\n        if (_h) {\n            var argLen = args.length;\n            var len = _h.length;\n            for (var i = 0; i < len; i++) {\n                var hItem = _h[i];\n                if (eventProcessor\n                    && eventProcessor.filter\n                    && hItem.query != null\n                    && !eventProcessor.filter(eventType, hItem.query)) {\n                    continue;\n                }\n                switch (argLen) {\n                    case 0:\n                        hItem.h.call(hItem.ctx);\n                        break;\n                    case 1:\n                        hItem.h.call(hItem.ctx, args[0]);\n                        break;\n                    case 2:\n                        hItem.h.call(hItem.ctx, args[0], args[1]);\n                        break;\n                    default:\n                        hItem.h.apply(hItem.ctx, args);\n                        break;\n                }\n            }\n        }\n        eventProcessor && eventProcessor.afterTrigger\n            && eventProcessor.afterTrigger(eventType);\n        return this;\n    };\n    Eventful.prototype.triggerWithContext = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._$handlers) {\n            return this;\n        }\n        var _h = this._$handlers[type];\n        var eventProcessor = this._$eventProcessor;\n        if (_h) {\n            var argLen = args.length;\n            var ctx = args[argLen - 1];\n            var len = _h.length;\n            for (var i = 0; i < len; i++) {\n                var hItem = _h[i];\n                if (eventProcessor\n                    && eventProcessor.filter\n                    && hItem.query != null\n                    && !eventProcessor.filter(type, hItem.query)) {\n                    continue;\n                }\n                switch (argLen) {\n                    case 0:\n                        hItem.h.call(ctx);\n                        break;\n                    case 1:\n                        hItem.h.call(ctx, args[0]);\n                        break;\n                    case 2:\n                        hItem.h.call(ctx, args[0], args[1]);\n                        break;\n                    default:\n                        hItem.h.apply(ctx, args.slice(1, argLen - 1));\n                        break;\n                }\n            }\n        }\n        eventProcessor && eventProcessor.afterTrigger\n            && eventProcessor.afterTrigger(type);\n        return this;\n    };\n    return Eventful;\n}());\nexport default Eventful;\n","var LN2 = Math.log(2);\nfunction determinant(rows, rank, rowStart, rowMask, colMask, detCache) {\n    var cacheKey = rowMask + '-' + colMask;\n    var fullRank = rows.length;\n    if (detCache.hasOwnProperty(cacheKey)) {\n        return detCache[cacheKey];\n    }\n    if (rank === 1) {\n        var colStart = Math.round(Math.log(((1 << fullRank) - 1) & ~colMask) / LN2);\n        return rows[rowStart][colStart];\n    }\n    var subRowMask = rowMask | (1 << rowStart);\n    var subRowStart = rowStart + 1;\n    while (rowMask & (1 << subRowStart)) {\n        subRowStart++;\n    }\n    var sum = 0;\n    for (var j = 0, colLocalIdx = 0; j < fullRank; j++) {\n        var colTag = 1 << j;\n        if (!(colTag & colMask)) {\n            sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j]\n                * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);\n            colLocalIdx++;\n        }\n    }\n    detCache[cacheKey] = sum;\n    return sum;\n}\nexport function buildTransformer(src, dest) {\n    var mA = [\n        [src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]],\n        [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]],\n        [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]],\n        [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]],\n        [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]],\n        [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]],\n        [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]],\n        [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]\n    ];\n    var detCache = {};\n    var det = determinant(mA, 8, 0, 0, 0, detCache);\n    if (det === 0) {\n        return;\n    }\n    var vh = [];\n    for (var i = 0; i < 8; i++) {\n        for (var j = 0; j < 8; j++) {\n            vh[j] == null && (vh[j] = 0);\n            vh[j] += ((i + j) % 2 ? -1 : 1)\n                * determinant(mA, 7, i === 0 ? 1 : 0, 1 << i, 1 << j, detCache)\n                / det * dest[i];\n        }\n    }\n    return function (out, srcPointX, srcPointY) {\n        var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;\n        out[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;\n        out[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;\n    };\n}\n","import env from './env.js';\nimport { buildTransformer } from './fourPointsTransform.js';\nvar EVENT_SAVED_PROP = '___zrEVENTSAVED';\nvar _calcOut = [];\nexport function transformLocalCoord(out, elFrom, elTarget, inX, inY) {\n    return transformCoordWithViewport(_calcOut, elFrom, inX, inY, true)\n        && transformCoordWithViewport(out, elTarget, _calcOut[0], _calcOut[1]);\n}\nexport function transformCoordWithViewport(out, el, inX, inY, inverse) {\n    if (el.getBoundingClientRect && env.domSupported && !isCanvasEl(el)) {\n        var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n        var markers = prepareCoordMarkers(el, saved);\n        var transformer = preparePointerTransformer(markers, saved, inverse);\n        if (transformer) {\n            transformer(out, inX, inY);\n            return true;\n        }\n    }\n    return false;\n}\nfunction prepareCoordMarkers(el, saved) {\n    var markers = saved.markers;\n    if (markers) {\n        return markers;\n    }\n    markers = saved.markers = [];\n    var propLR = ['left', 'right'];\n    var propTB = ['top', 'bottom'];\n    for (var i = 0; i < 4; i++) {\n        var marker = document.createElement('div');\n        var stl = marker.style;\n        var idxLR = i % 2;\n        var idxTB = (i >> 1) % 2;\n        stl.cssText = [\n            'position: absolute',\n            'visibility: hidden',\n            'padding: 0',\n            'margin: 0',\n            'border-width: 0',\n            'user-select: none',\n            'width:0',\n            'height:0',\n            propLR[idxLR] + ':0',\n            propTB[idxTB] + ':0',\n            propLR[1 - idxLR] + ':auto',\n            propTB[1 - idxTB] + ':auto',\n            ''\n        ].join('!important;');\n        el.appendChild(marker);\n        markers.push(marker);\n    }\n    return markers;\n}\nfunction preparePointerTransformer(markers, saved, inverse) {\n    var transformerName = inverse ? 'invTrans' : 'trans';\n    var transformer = saved[transformerName];\n    var oldSrcCoords = saved.srcCoords;\n    var srcCoords = [];\n    var destCoords = [];\n    var oldCoordTheSame = true;\n    for (var i = 0; i < 4; i++) {\n        var rect = markers[i].getBoundingClientRect();\n        var ii = 2 * i;\n        var x = rect.left;\n        var y = rect.top;\n        srcCoords.push(x, y);\n        oldCoordTheSame = oldCoordTheSame && oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n        destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n    }\n    return (oldCoordTheSame && transformer)\n        ? transformer\n        : (saved.srcCoords = srcCoords,\n            saved[transformerName] = inverse\n                ? buildTransformer(destCoords, srcCoords)\n                : buildTransformer(srcCoords, destCoords));\n}\nexport function isCanvasEl(el) {\n    return el.nodeName.toUpperCase() === 'CANVAS';\n}\nvar replaceReg = /([&<>\"'])/g;\nvar replaceMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#39;'\n};\nexport function encodeHTML(source) {\n    return source == null\n        ? ''\n        : (source + '').replace(replaceReg, function (str, c) {\n            return replaceMap[c];\n        });\n}\n","import Eventful from './Eventful.js';\nimport env from './env.js';\nimport { isCanvasEl, transformCoordWithViewport } from './dom.js';\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\nvar firefoxNotSupportOffsetXY = env.browser.firefox\n    && +env.browser.version.split('.')[0] < 39;\nexport function clientToLocal(el, e, out, calculate) {\n    out = out || {};\n    if (calculate) {\n        calculateZrXY(el, e, out);\n    }\n    else if (firefoxNotSupportOffsetXY\n        && e.layerX != null\n        && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n    }\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n    }\n    else {\n        calculateZrXY(el, e, out);\n    }\n    return out;\n}\nfunction calculateZrXY(el, e, out) {\n    if (env.domSupported && el.getBoundingClientRect) {\n        var ex = e.clientX;\n        var ey = e.clientY;\n        if (isCanvasEl(el)) {\n            var box = el.getBoundingClientRect();\n            out.zrX = ex - box.left;\n            out.zrY = ey - box.top;\n            return;\n        }\n        else {\n            if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\n                out.zrX = _calcOut[0];\n                out.zrY = _calcOut[1];\n                return;\n            }\n        }\n    }\n    out.zrX = out.zrY = 0;\n}\nexport function getNativeEvent(e) {\n    return e\n        || window.event;\n}\nexport function normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n    if (e.zrX != null) {\n        return e;\n    }\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n    if (!isTouch) {\n        clientToLocal(el, e, e, calculate);\n        var wheelDelta = getWheelDeltaMayPolyfill(e);\n        e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n    }\n    else {\n        var touch = eventType !== 'touchend'\n            ? e.targetTouches[0]\n            : e.changedTouches[0];\n        touch && clientToLocal(el, touch, e, calculate);\n    }\n    var button = e.button;\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n        e.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n    }\n    return e;\n}\nfunction getWheelDeltaMayPolyfill(e) {\n    var rawWheelDelta = e.wheelDelta;\n    if (rawWheelDelta) {\n        return rawWheelDelta;\n    }\n    var deltaX = e.deltaX;\n    var deltaY = e.deltaY;\n    if (deltaX == null || deltaY == null) {\n        return rawWheelDelta;\n    }\n    var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n    var sign = deltaY > 0 ? -1\n        : deltaY < 0 ? 1\n            : deltaX > 0 ? -1\n                : 1;\n    return 3 * delta * sign;\n}\nexport function addEventListener(el, name, handler, opt) {\n    el.addEventListener(name, handler, opt);\n}\nexport function removeEventListener(el, name, handler, opt) {\n    el.removeEventListener(name, handler, opt);\n}\nexport var stop = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.cancelBubble = true;\n};\nexport function isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n}\nexport { Eventful as Dispatcher };\n","import * as eventUtil from './event.js';\nvar GestureMgr = (function () {\n    function GestureMgr() {\n        this._track = [];\n    }\n    GestureMgr.prototype.recognize = function (event, target, root) {\n        this._doTrack(event, target, root);\n        return this._recognize(event);\n    };\n    GestureMgr.prototype.clear = function () {\n        this._track.length = 0;\n        return this;\n    };\n    GestureMgr.prototype._doTrack = function (event, target, root) {\n        var touches = event.touches;\n        if (!touches) {\n            return;\n        }\n        var trackItem = {\n            points: [],\n            touches: [],\n            target: target,\n            event: event\n        };\n        for (var i = 0, len = touches.length; i < len; i++) {\n            var touch = touches[i];\n            var pos = eventUtil.clientToLocal(root, touch, {});\n            trackItem.points.push([pos.zrX, pos.zrY]);\n            trackItem.touches.push(touch);\n        }\n        this._track.push(trackItem);\n    };\n    GestureMgr.prototype._recognize = function (event) {\n        for (var eventName in recognizers) {\n            if (recognizers.hasOwnProperty(eventName)) {\n                var gestureInfo = recognizers[eventName](this._track, event);\n                if (gestureInfo) {\n                    return gestureInfo;\n                }\n            }\n        }\n    };\n    return GestureMgr;\n}());\nexport { GestureMgr };\nfunction dist(pointPair) {\n    var dx = pointPair[1][0] - pointPair[0][0];\n    var dy = pointPair[1][1] - pointPair[0][1];\n    return Math.sqrt(dx * dx + dy * dy);\n}\nfunction center(pointPair) {\n    return [\n        (pointPair[0][0] + pointPair[1][0]) / 2,\n        (pointPair[0][1] + pointPair[1][1]) / 2\n    ];\n}\nvar recognizers = {\n    pinch: function (tracks, event) {\n        var trackLen = tracks.length;\n        if (!trackLen) {\n            return;\n        }\n        var pinchEnd = (tracks[trackLen - 1] || {}).points;\n        var pinchPre = (tracks[trackLen - 2] || {}).points || pinchEnd;\n        if (pinchPre\n            && pinchPre.length > 1\n            && pinchEnd\n            && pinchEnd.length > 1) {\n            var pinchScale = dist(pinchEnd) / dist(pinchPre);\n            !isFinite(pinchScale) && (pinchScale = 1);\n            event.pinchScale = pinchScale;\n            var pinchCenter = center(pinchEnd);\n            event.pinchX = pinchCenter[0];\n            event.pinchY = pinchCenter[1];\n            return {\n                type: 'pinch',\n                target: tracks[0].target,\n                event: event\n            };\n        }\n    }\n};\n","export function create() {\n    return [1, 0, 0, 1, 0, 0];\n}\nexport function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n}\nexport function copy(out, m) {\n    out[0] = m[0];\n    out[1] = m[1];\n    out[2] = m[2];\n    out[3] = m[3];\n    out[4] = m[4];\n    out[5] = m[5];\n    return out;\n}\nexport function mul(out, m1, m2) {\n    var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n    var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n    var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n    var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n    var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n    var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n    out[0] = out0;\n    out[1] = out1;\n    out[2] = out2;\n    out[3] = out3;\n    out[4] = out4;\n    out[5] = out5;\n    return out;\n}\nexport function translate(out, a, v) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4] + v[0];\n    out[5] = a[5] + v[1];\n    return out;\n}\nexport function rotate(out, a, rad, pivot) {\n    if (pivot === void 0) { pivot = [0, 0]; }\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var st = Math.sin(rad);\n    var ct = Math.cos(rad);\n    out[0] = aa * ct + ab * st;\n    out[1] = -aa * st + ab * ct;\n    out[2] = ac * ct + ad * st;\n    out[3] = -ac * st + ct * ad;\n    out[4] = ct * (atx - pivot[0]) + st * (aty - pivot[1]) + pivot[0];\n    out[5] = ct * (aty - pivot[1]) - st * (atx - pivot[0]) + pivot[1];\n    return out;\n}\nexport function scale(out, a, v) {\n    var vx = v[0];\n    var vy = v[1];\n    out[0] = a[0] * vx;\n    out[1] = a[1] * vy;\n    out[2] = a[2] * vx;\n    out[3] = a[3] * vy;\n    out[4] = a[4] * vx;\n    out[5] = a[5] * vy;\n    return out;\n}\nexport function invert(out, a) {\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var det = aa * ad - ab * ac;\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    out[0] = ad * det;\n    out[1] = -ab * det;\n    out[2] = -ac * det;\n    out[3] = aa * det;\n    out[4] = (ac * aty - ad * atx) * det;\n    out[5] = (ab * atx - aa * aty) * det;\n    return out;\n}\nexport function clone(a) {\n    var b = create();\n    copy(b, a);\n    return b;\n}\n","var Point = (function () {\n    function Point(x, y) {\n        this.x = x || 0;\n        this.y = y || 0;\n    }\n    Point.prototype.copy = function (other) {\n        this.x = other.x;\n        this.y = other.y;\n        return this;\n    };\n    Point.prototype.clone = function () {\n        return new Point(this.x, this.y);\n    };\n    Point.prototype.set = function (x, y) {\n        this.x = x;\n        this.y = y;\n        return this;\n    };\n    Point.prototype.equal = function (other) {\n        return other.x === this.x && other.y === this.y;\n    };\n    Point.prototype.add = function (other) {\n        this.x += other.x;\n        this.y += other.y;\n        return this;\n    };\n    Point.prototype.scale = function (scalar) {\n        this.x *= scalar;\n        this.y *= scalar;\n    };\n    Point.prototype.scaleAndAdd = function (other, scalar) {\n        this.x += other.x * scalar;\n        this.y += other.y * scalar;\n    };\n    Point.prototype.sub = function (other) {\n        this.x -= other.x;\n        this.y -= other.y;\n        return this;\n    };\n    Point.prototype.dot = function (other) {\n        return this.x * other.x + this.y * other.y;\n    };\n    Point.prototype.len = function () {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    };\n    Point.prototype.lenSquare = function () {\n        return this.x * this.x + this.y * this.y;\n    };\n    Point.prototype.normalize = function () {\n        var len = this.len();\n        this.x /= len;\n        this.y /= len;\n        return this;\n    };\n    Point.prototype.distance = function (other) {\n        var dx = this.x - other.x;\n        var dy = this.y - other.y;\n        return Math.sqrt(dx * dx + dy * dy);\n    };\n    Point.prototype.distanceSquare = function (other) {\n        var dx = this.x - other.x;\n        var dy = this.y - other.y;\n        return dx * dx + dy * dy;\n    };\n    Point.prototype.negate = function () {\n        this.x = -this.x;\n        this.y = -this.y;\n        return this;\n    };\n    Point.prototype.transform = function (m) {\n        if (!m) {\n            return;\n        }\n        var x = this.x;\n        var y = this.y;\n        this.x = m[0] * x + m[2] * y + m[4];\n        this.y = m[1] * x + m[3] * y + m[5];\n        return this;\n    };\n    Point.prototype.toArray = function (out) {\n        out[0] = this.x;\n        out[1] = this.y;\n        return out;\n    };\n    Point.prototype.fromArray = function (input) {\n        this.x = input[0];\n        this.y = input[1];\n    };\n    Point.set = function (p, x, y) {\n        p.x = x;\n        p.y = y;\n    };\n    Point.copy = function (p, p2) {\n        p.x = p2.x;\n        p.y = p2.y;\n    };\n    Point.len = function (p) {\n        return Math.sqrt(p.x * p.x + p.y * p.y);\n    };\n    Point.lenSquare = function (p) {\n        return p.x * p.x + p.y * p.y;\n    };\n    Point.dot = function (p0, p1) {\n        return p0.x * p1.x + p0.y * p1.y;\n    };\n    Point.add = function (out, p0, p1) {\n        out.x = p0.x + p1.x;\n        out.y = p0.y + p1.y;\n    };\n    Point.sub = function (out, p0, p1) {\n        out.x = p0.x - p1.x;\n        out.y = p0.y - p1.y;\n    };\n    Point.scale = function (out, p0, scalar) {\n        out.x = p0.x * scalar;\n        out.y = p0.y * scalar;\n    };\n    Point.scaleAndAdd = function (out, p0, p1, scalar) {\n        out.x = p0.x + p1.x * scalar;\n        out.y = p0.y + p1.y * scalar;\n    };\n    Point.lerp = function (out, p0, p1, t) {\n        var onet = 1 - t;\n        out.x = onet * p0.x + t * p1.x;\n        out.y = onet * p0.y + t * p1.y;\n    };\n    return Point;\n}());\nexport default Point;\n","import * as matrix from './matrix.js';\nimport Point from './Point.js';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar lt = new Point();\nvar rb = new Point();\nvar lb = new Point();\nvar rt = new Point();\nvar minTv = new Point();\nvar maxTv = new Point();\nvar BoundingRect = (function () {\n    function BoundingRect(x, y, width, height) {\n        if (width < 0) {\n            x = x + width;\n            width = -width;\n        }\n        if (height < 0) {\n            y = y + height;\n            height = -height;\n        }\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    BoundingRect.prototype.union = function (other) {\n        var x = mathMin(other.x, this.x);\n        var y = mathMin(other.y, this.y);\n        if (isFinite(this.x) && isFinite(this.width)) {\n            this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n        }\n        else {\n            this.width = other.width;\n        }\n        if (isFinite(this.y) && isFinite(this.height)) {\n            this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n        }\n        else {\n            this.height = other.height;\n        }\n        this.x = x;\n        this.y = y;\n    };\n    BoundingRect.prototype.applyTransform = function (m) {\n        BoundingRect.applyTransform(this, this, m);\n    };\n    BoundingRect.prototype.calculateTransform = function (b) {\n        var a = this;\n        var sx = b.width / a.width;\n        var sy = b.height / a.height;\n        var m = matrix.create();\n        matrix.translate(m, m, [-a.x, -a.y]);\n        matrix.scale(m, m, [sx, sy]);\n        matrix.translate(m, m, [b.x, b.y]);\n        return m;\n    };\n    BoundingRect.prototype.intersect = function (b, mtv) {\n        if (!b) {\n            return false;\n        }\n        if (!(b instanceof BoundingRect)) {\n            b = BoundingRect.create(b);\n        }\n        var a = this;\n        var ax0 = a.x;\n        var ax1 = a.x + a.width;\n        var ay0 = a.y;\n        var ay1 = a.y + a.height;\n        var bx0 = b.x;\n        var bx1 = b.x + b.width;\n        var by0 = b.y;\n        var by1 = b.y + b.height;\n        var overlap = !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n        if (mtv) {\n            var dMin = Infinity;\n            var dMax = 0;\n            var d0 = Math.abs(ax1 - bx0);\n            var d1 = Math.abs(bx1 - ax0);\n            var d2 = Math.abs(ay1 - by0);\n            var d3 = Math.abs(by1 - ay0);\n            var dx = Math.min(d0, d1);\n            var dy = Math.min(d2, d3);\n            if (ax1 < bx0 || bx1 < ax0) {\n                if (dx > dMax) {\n                    dMax = dx;\n                    if (d0 < d1) {\n                        Point.set(maxTv, -d0, 0);\n                    }\n                    else {\n                        Point.set(maxTv, d1, 0);\n                    }\n                }\n            }\n            else {\n                if (dx < dMin) {\n                    dMin = dx;\n                    if (d0 < d1) {\n                        Point.set(minTv, d0, 0);\n                    }\n                    else {\n                        Point.set(minTv, -d1, 0);\n                    }\n                }\n            }\n            if (ay1 < by0 || by1 < ay0) {\n                if (dy > dMax) {\n                    dMax = dy;\n                    if (d2 < d3) {\n                        Point.set(maxTv, 0, -d2);\n                    }\n                    else {\n                        Point.set(maxTv, 0, d3);\n                    }\n                }\n            }\n            else {\n                if (dx < dMin) {\n                    dMin = dx;\n                    if (d2 < d3) {\n                        Point.set(minTv, 0, d2);\n                    }\n                    else {\n                        Point.set(minTv, 0, -d3);\n                    }\n                }\n            }\n        }\n        if (mtv) {\n            Point.copy(mtv, overlap ? minTv : maxTv);\n        }\n        return overlap;\n    };\n    BoundingRect.prototype.contain = function (x, y) {\n        var rect = this;\n        return x >= rect.x\n            && x <= (rect.x + rect.width)\n            && y >= rect.y\n            && y <= (rect.y + rect.height);\n    };\n    BoundingRect.prototype.clone = function () {\n        return new BoundingRect(this.x, this.y, this.width, this.height);\n    };\n    BoundingRect.prototype.copy = function (other) {\n        BoundingRect.copy(this, other);\n    };\n    BoundingRect.prototype.plain = function () {\n        return {\n            x: this.x,\n            y: this.y,\n            width: this.width,\n            height: this.height\n        };\n    };\n    BoundingRect.prototype.isFinite = function () {\n        return isFinite(this.x)\n            && isFinite(this.y)\n            && isFinite(this.width)\n            && isFinite(this.height);\n    };\n    BoundingRect.prototype.isZero = function () {\n        return this.width === 0 || this.height === 0;\n    };\n    BoundingRect.create = function (rect) {\n        return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n    };\n    BoundingRect.copy = function (target, source) {\n        target.x = source.x;\n        target.y = source.y;\n        target.width = source.width;\n        target.height = source.height;\n    };\n    BoundingRect.applyTransform = function (target, source, m) {\n        if (!m) {\n            if (target !== source) {\n                BoundingRect.copy(target, source);\n            }\n            return;\n        }\n        if (m[1] < 1e-5 && m[1] > -1e-5 && m[2] < 1e-5 && m[2] > -1e-5) {\n            var sx = m[0];\n            var sy = m[3];\n            var tx = m[4];\n            var ty = m[5];\n            target.x = source.x * sx + tx;\n            target.y = source.y * sy + ty;\n            target.width = source.width * sx;\n            target.height = source.height * sy;\n            if (target.width < 0) {\n                target.x += target.width;\n                target.width = -target.width;\n            }\n            if (target.height < 0) {\n                target.y += target.height;\n                target.height = -target.height;\n            }\n            return;\n        }\n        lt.x = lb.x = source.x;\n        lt.y = rt.y = source.y;\n        rb.x = rt.x = source.x + source.width;\n        rb.y = lb.y = source.y + source.height;\n        lt.transform(m);\n        rt.transform(m);\n        rb.transform(m);\n        lb.transform(m);\n        target.x = mathMin(lt.x, rb.x, lb.x, rt.x);\n        target.y = mathMin(lt.y, rb.y, lb.y, rt.y);\n        var maxX = mathMax(lt.x, rb.x, lb.x, rt.x);\n        var maxY = mathMax(lt.y, rb.y, lb.y, rt.y);\n        target.width = maxX - target.x;\n        target.height = maxY - target.y;\n    };\n    return BoundingRect;\n}());\nexport default BoundingRect;\n","import { __extends } from \"tslib\";\nimport * as util from './core/util.js';\nimport * as vec2 from './core/vector.js';\nimport Draggable from './mixin/Draggable.js';\nimport Eventful from './core/Eventful.js';\nimport * as eventTool from './core/event.js';\nimport { GestureMgr } from './core/GestureMgr.js';\nimport BoundingRect from './core/BoundingRect.js';\nvar SILENT = 'silent';\nfunction makeEventPacket(eveType, targetInfo, event) {\n    return {\n        type: eveType,\n        event: event,\n        target: targetInfo.target,\n        topTarget: targetInfo.topTarget,\n        cancelBubble: false,\n        offsetX: event.zrX,\n        offsetY: event.zrY,\n        gestureEvent: event.gestureEvent,\n        pinchX: event.pinchX,\n        pinchY: event.pinchY,\n        pinchScale: event.pinchScale,\n        wheelDelta: event.zrDelta,\n        zrByTouch: event.zrByTouch,\n        which: event.which,\n        stop: stopEvent\n    };\n}\nfunction stopEvent() {\n    eventTool.stop(this.event);\n}\nvar EmptyProxy = (function (_super) {\n    __extends(EmptyProxy, _super);\n    function EmptyProxy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handler = null;\n        return _this;\n    }\n    EmptyProxy.prototype.dispose = function () { };\n    EmptyProxy.prototype.setCursor = function () { };\n    return EmptyProxy;\n}(Eventful));\nvar HoveredResult = (function () {\n    function HoveredResult(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return HoveredResult;\n}());\nvar handlerNames = [\n    'click', 'dblclick', 'mousewheel', 'mouseout',\n    'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n];\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\nvar Handler = (function (_super) {\n    __extends(Handler, _super);\n    function Handler(storage, painter, proxy, painterRoot, pointerSize) {\n        var _this = _super.call(this) || this;\n        _this._hovered = new HoveredResult(0, 0);\n        _this.storage = storage;\n        _this.painter = painter;\n        _this.painterRoot = painterRoot;\n        _this._pointerSize = pointerSize;\n        proxy = proxy || new EmptyProxy();\n        _this.proxy = null;\n        _this.setHandlerProxy(proxy);\n        _this._draggingMgr = new Draggable(_this);\n        return _this;\n    }\n    Handler.prototype.setHandlerProxy = function (proxy) {\n        if (this.proxy) {\n            this.proxy.dispose();\n        }\n        if (proxy) {\n            util.each(handlerNames, function (name) {\n                proxy.on && proxy.on(name, this[name], this);\n            }, this);\n            proxy.handler = this;\n        }\n        this.proxy = proxy;\n    };\n    Handler.prototype.mousemove = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var lastHovered = this._hovered;\n        var lastHoveredTarget = lastHovered.target;\n        if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n            lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n            lastHoveredTarget = lastHovered.target;\n        }\n        var hovered = this._hovered = isOutside ? new HoveredResult(x, y) : this.findHover(x, y);\n        var hoveredTarget = hovered.target;\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default');\n        if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(lastHovered, 'mouseout', event);\n        }\n        this.dispatchToElement(hovered, 'mousemove', event);\n        if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(hovered, 'mouseover', event);\n        }\n    };\n    Handler.prototype.mouseout = function (event) {\n        var eventControl = event.zrEventControl;\n        if (eventControl !== 'only_globalout') {\n            this.dispatchToElement(this._hovered, 'mouseout', event);\n        }\n        if (eventControl !== 'no_globalout') {\n            this.trigger('globalout', { type: 'globalout', event: event });\n        }\n    };\n    Handler.prototype.resize = function () {\n        this._hovered = new HoveredResult(0, 0);\n    };\n    Handler.prototype.dispatch = function (eventName, eventArgs) {\n        var handler = this[eventName];\n        handler && handler.call(this, eventArgs);\n    };\n    Handler.prototype.dispose = function () {\n        this.proxy.dispose();\n        this.storage = null;\n        this.proxy = null;\n        this.painter = null;\n    };\n    Handler.prototype.setCursorStyle = function (cursorStyle) {\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(cursorStyle);\n    };\n    Handler.prototype.dispatchToElement = function (targetInfo, eventName, event) {\n        targetInfo = targetInfo || {};\n        var el = targetInfo.target;\n        if (el && el.silent) {\n            return;\n        }\n        var eventKey = ('on' + eventName);\n        var eventPacket = makeEventPacket(eventName, targetInfo, event);\n        while (el) {\n            el[eventKey]\n                && (eventPacket.cancelBubble = !!el[eventKey].call(el, eventPacket));\n            el.trigger(eventName, eventPacket);\n            el = el.__hostTarget ? el.__hostTarget : el.parent;\n            if (eventPacket.cancelBubble) {\n                break;\n            }\n        }\n        if (!eventPacket.cancelBubble) {\n            this.trigger(eventName, eventPacket);\n            if (this.painter && this.painter.eachOtherLayer) {\n                this.painter.eachOtherLayer(function (layer) {\n                    if (typeof (layer[eventKey]) === 'function') {\n                        layer[eventKey].call(layer, eventPacket);\n                    }\n                    if (layer.trigger) {\n                        layer.trigger(eventName, eventPacket);\n                    }\n                });\n            }\n        }\n    };\n    Handler.prototype.findHover = function (x, y, exclude) {\n        var list = this.storage.getDisplayList();\n        var out = new HoveredResult(x, y);\n        setHoverTarget(list, out, x, y, exclude);\n        if (this._pointerSize && !out.target) {\n            var candidates = [];\n            var pointerSize = this._pointerSize;\n            var targetSizeHalf = pointerSize / 2;\n            var pointerRect = new BoundingRect(x - targetSizeHalf, y - targetSizeHalf, pointerSize, pointerSize);\n            for (var i = list.length - 1; i >= 0; i--) {\n                var el = list[i];\n                if (el !== exclude\n                    && !el.ignore\n                    && !el.ignoreCoarsePointer\n                    && (!el.parent || !el.parent.ignoreCoarsePointer)) {\n                    tmpRect.copy(el.getBoundingRect());\n                    if (el.transform) {\n                        tmpRect.applyTransform(el.transform);\n                    }\n                    if (tmpRect.intersect(pointerRect)) {\n                        candidates.push(el);\n                    }\n                }\n            }\n            if (candidates.length) {\n                var rStep = 4;\n                var thetaStep = Math.PI / 12;\n                var PI2 = Math.PI * 2;\n                for (var r = 0; r < targetSizeHalf; r += rStep) {\n                    for (var theta = 0; theta < PI2; theta += thetaStep) {\n                        var x1 = x + r * Math.cos(theta);\n                        var y1 = y + r * Math.sin(theta);\n                        setHoverTarget(candidates, out, x1, y1, exclude);\n                        if (out.target) {\n                            return out;\n                        }\n                    }\n                }\n            }\n        }\n        return out;\n    };\n    Handler.prototype.processGesture = function (event, stage) {\n        if (!this._gestureMgr) {\n            this._gestureMgr = new GestureMgr();\n        }\n        var gestureMgr = this._gestureMgr;\n        stage === 'start' && gestureMgr.clear();\n        var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n        stage === 'end' && gestureMgr.clear();\n        if (gestureInfo) {\n            var type = gestureInfo.type;\n            event.gestureEvent = type;\n            var res = new HoveredResult();\n            res.target = gestureInfo.target;\n            this.dispatchToElement(res, type, gestureInfo.event);\n        }\n    };\n    return Handler;\n}(Eventful));\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    Handler.prototype[name] = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var hovered;\n        var hoveredTarget;\n        if (name !== 'mouseup' || !isOutside) {\n            hovered = this.findHover(x, y);\n            hoveredTarget = hovered.target;\n        }\n        if (name === 'mousedown') {\n            this._downEl = hoveredTarget;\n            this._downPoint = [event.zrX, event.zrY];\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'mouseup') {\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'click') {\n            if (this._downEl !== this._upEl\n                || !this._downPoint\n                || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n                return;\n            }\n            this._downPoint = null;\n        }\n        this.dispatchToElement(hovered, name, event);\n    };\n});\nfunction isHover(displayable, x, y) {\n    if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n        var el = displayable;\n        var isSilent = void 0;\n        var ignoreClip = false;\n        while (el) {\n            if (el.ignoreClip) {\n                ignoreClip = true;\n            }\n            if (!ignoreClip) {\n                var clipPath = el.getClipPath();\n                if (clipPath && !clipPath.contain(x, y)) {\n                    return false;\n                }\n            }\n            if (el.silent) {\n                isSilent = true;\n            }\n            var hostEl = el.__hostTarget;\n            el = hostEl ? hostEl : el.parent;\n        }\n        return isSilent ? SILENT : true;\n    }\n    return false;\n}\nfunction setHoverTarget(list, out, x, y, exclude) {\n    for (var i = list.length - 1; i >= 0; i--) {\n        var el = list[i];\n        var hoverCheckResult = void 0;\n        if (el !== exclude\n            && !el.ignore\n            && (hoverCheckResult = isHover(el, x, y))) {\n            !out.topTarget && (out.topTarget = el);\n            if (hoverCheckResult !== SILENT) {\n                out.target = el;\n                break;\n            }\n        }\n    }\n}\nfunction isOutsideBoundary(handlerInstance, x, y) {\n    var painter = handlerInstance.painter;\n    return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\n}\nexport default Handler;\n","var DEFAULT_MIN_MERGE = 32;\nvar DEFAULT_MIN_GALLOPING = 7;\nfunction minRunLength(n) {\n    var r = 0;\n    while (n >= DEFAULT_MIN_MERGE) {\n        r |= n & 1;\n        n >>= 1;\n    }\n    return n + r;\n}\nfunction makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n    if (runHi === hi) {\n        return 1;\n    }\n    if (compare(array[runHi++], array[lo]) < 0) {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n            runHi++;\n        }\n        reverseRun(array, lo, runHi);\n    }\n    else {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n            runHi++;\n        }\n    }\n    return runHi - lo;\n}\nfunction reverseRun(array, lo, hi) {\n    hi--;\n    while (lo < hi) {\n        var t = array[lo];\n        array[lo++] = array[hi];\n        array[hi--] = t;\n    }\n}\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n        start++;\n    }\n    for (; start < hi; start++) {\n        var pivot = array[start];\n        var left = lo;\n        var right = start;\n        var mid;\n        while (left < right) {\n            mid = left + right >>> 1;\n            if (compare(pivot, array[mid]) < 0) {\n                right = mid;\n            }\n            else {\n                left = mid + 1;\n            }\n        }\n        var n = start - left;\n        switch (n) {\n            case 3:\n                array[left + 3] = array[left + 2];\n            case 2:\n                array[left + 2] = array[left + 1];\n            case 1:\n                array[left + 1] = array[left];\n                break;\n            default:\n                while (n > 0) {\n                    array[left + n] = array[left + n - 1];\n                    n--;\n                }\n        }\n        array[left] = pivot;\n    }\n}\nfunction gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) > 0) {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    else {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) > 0) {\n            lastOffset = m + 1;\n        }\n        else {\n            offset = m;\n        }\n    }\n    return offset;\n}\nfunction gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) < 0) {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    else {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) < 0) {\n            offset = m;\n        }\n        else {\n            lastOffset = m + 1;\n        }\n    }\n    return offset;\n}\nfunction TimSort(array, compare) {\n    var minGallop = DEFAULT_MIN_GALLOPING;\n    var runStart;\n    var runLength;\n    var stackSize = 0;\n    var tmp = [];\n    runStart = [];\n    runLength = [];\n    function pushRun(_runStart, _runLength) {\n        runStart[stackSize] = _runStart;\n        runLength[stackSize] = _runLength;\n        stackSize += 1;\n    }\n    function mergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if ((n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1])\n                || (n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1])) {\n                if (runLength[n - 1] < runLength[n + 1]) {\n                    n--;\n                }\n            }\n            else if (runLength[n] > runLength[n + 1]) {\n                break;\n            }\n            mergeAt(n);\n        }\n    }\n    function forceMergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n                n--;\n            }\n            mergeAt(n);\n        }\n    }\n    function mergeAt(i) {\n        var start1 = runStart[i];\n        var length1 = runLength[i];\n        var start2 = runStart[i + 1];\n        var length2 = runLength[i + 1];\n        runLength[i] = length1 + length2;\n        if (i === stackSize - 3) {\n            runStart[i + 1] = runStart[i + 2];\n            runLength[i + 1] = runLength[i + 2];\n        }\n        stackSize--;\n        var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n        start1 += k;\n        length1 -= k;\n        if (length1 === 0) {\n            return;\n        }\n        length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n        if (length2 === 0) {\n            return;\n        }\n        if (length1 <= length2) {\n            mergeLow(start1, length1, start2, length2);\n        }\n        else {\n            mergeHigh(start1, length1, start2, length2);\n        }\n    }\n    function mergeLow(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length1; i++) {\n            tmp[i] = array[start1 + i];\n        }\n        var cursor1 = 0;\n        var cursor2 = start2;\n        var dest = start1;\n        array[dest++] = array[cursor2++];\n        if (--length2 === 0) {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n            return;\n        }\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n            return;\n        }\n        var _minGallop = minGallop;\n        var count1;\n        var count2;\n        var exit;\n        while (1) {\n            count1 = 0;\n            count2 = 0;\n            exit = false;\n            do {\n                if (compare(array[cursor2], tmp[cursor1]) < 0) {\n                    array[dest++] = array[cursor2++];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest++] = tmp[cursor1++];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n                if (count1 !== 0) {\n                    for (i = 0; i < count1; i++) {\n                        array[dest + i] = tmp[cursor1 + i];\n                    }\n                    dest += count1;\n                    cursor1 += count1;\n                    length1 -= count1;\n                    if (length1 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = array[cursor2++];\n                if (--length2 === 0) {\n                    exit = true;\n                    break;\n                }\n                count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n                if (count2 !== 0) {\n                    for (i = 0; i < count2; i++) {\n                        array[dest + i] = array[cursor2 + i];\n                    }\n                    dest += count2;\n                    cursor2 += count2;\n                    length2 -= count2;\n                    if (length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = tmp[cursor1++];\n                if (--length1 === 1) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        minGallop < 1 && (minGallop = 1);\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n        }\n        else if (length1 === 0) {\n            throw new Error();\n        }\n        else {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n        }\n    }\n    function mergeHigh(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length2; i++) {\n            tmp[i] = array[start2 + i];\n        }\n        var cursor1 = start1 + length1 - 1;\n        var cursor2 = length2 - 1;\n        var dest = start2 + length2 - 1;\n        var customCursor = 0;\n        var customDest = 0;\n        array[dest--] = array[cursor1--];\n        if (--length1 === 0) {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n            return;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n            return;\n        }\n        var _minGallop = minGallop;\n        while (true) {\n            var count1 = 0;\n            var count2 = 0;\n            var exit = false;\n            do {\n                if (compare(tmp[cursor2], array[cursor1]) < 0) {\n                    array[dest--] = array[cursor1--];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest--] = tmp[cursor2--];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n                if (count1 !== 0) {\n                    dest -= count1;\n                    cursor1 -= count1;\n                    length1 -= count1;\n                    customDest = dest + 1;\n                    customCursor = cursor1 + 1;\n                    for (i = count1 - 1; i >= 0; i--) {\n                        array[customDest + i] = array[customCursor + i];\n                    }\n                    if (length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = tmp[cursor2--];\n                if (--length2 === 1) {\n                    exit = true;\n                    break;\n                }\n                count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n                if (count2 !== 0) {\n                    dest -= count2;\n                    cursor2 -= count2;\n                    length2 -= count2;\n                    customDest = dest + 1;\n                    customCursor = cursor2 + 1;\n                    for (i = 0; i < count2; i++) {\n                        array[customDest + i] = tmp[customCursor + i];\n                    }\n                    if (length2 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = array[cursor1--];\n                if (--length1 === 0) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        if (minGallop < 1) {\n            minGallop = 1;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n        }\n        else if (length2 === 0) {\n            throw new Error();\n        }\n        else {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n        }\n    }\n    return {\n        mergeRuns: mergeRuns,\n        forceMergeRuns: forceMergeRuns,\n        pushRun: pushRun\n    };\n}\nexport default function sort(array, compare, lo, hi) {\n    if (!lo) {\n        lo = 0;\n    }\n    if (!hi) {\n        hi = array.length;\n    }\n    var remaining = hi - lo;\n    if (remaining < 2) {\n        return;\n    }\n    var runLength = 0;\n    if (remaining < DEFAULT_MIN_MERGE) {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n        return;\n    }\n    var ts = TimSort(array, compare);\n    var minRun = minRunLength(remaining);\n    do {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        if (runLength < minRun) {\n            var force = remaining;\n            if (force > minRun) {\n                force = minRun;\n            }\n            binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n            runLength = force;\n        }\n        ts.pushRun(lo, runLength);\n        ts.mergeRuns();\n        remaining -= runLength;\n        lo += runLength;\n    } while (remaining !== 0);\n    ts.forceMergeRuns();\n}\n","export var REDRAW_BIT = 1;\nexport var STYLE_CHANGED_BIT = 2;\nexport var SHAPE_CHANGED_BIT = 4;\n","import * as util from './core/util.js';\nimport timsort from './core/timsort.js';\nimport { REDRAW_BIT } from './graphic/constants.js';\nvar invalidZErrorLogged = false;\nfunction logInvalidZError() {\n    if (invalidZErrorLogged) {\n        return;\n    }\n    invalidZErrorLogged = true;\n    console.warn('z / z2 / zlevel of displayable is invalid, which may cause unexpected errors');\n}\nfunction shapeCompareFunc(a, b) {\n    if (a.zlevel === b.zlevel) {\n        if (a.z === b.z) {\n            return a.z2 - b.z2;\n        }\n        return a.z - b.z;\n    }\n    return a.zlevel - b.zlevel;\n}\nvar Storage = (function () {\n    function Storage() {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        this.displayableSortFunc = shapeCompareFunc;\n    }\n    Storage.prototype.traverse = function (cb, context) {\n        for (var i = 0; i < this._roots.length; i++) {\n            this._roots[i].traverse(cb, context);\n        }\n    };\n    Storage.prototype.getDisplayList = function (update, includeIgnore) {\n        includeIgnore = includeIgnore || false;\n        var displayList = this._displayList;\n        if (update || !displayList.length) {\n            this.updateDisplayList(includeIgnore);\n        }\n        return displayList;\n    };\n    Storage.prototype.updateDisplayList = function (includeIgnore) {\n        this._displayListLen = 0;\n        var roots = this._roots;\n        var displayList = this._displayList;\n        for (var i = 0, len = roots.length; i < len; i++) {\n            this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n        }\n        displayList.length = this._displayListLen;\n        timsort(displayList, shapeCompareFunc);\n    };\n    Storage.prototype._updateAndAddDisplayable = function (el, clipPaths, includeIgnore) {\n        if (el.ignore && !includeIgnore) {\n            return;\n        }\n        el.beforeUpdate();\n        el.update();\n        el.afterUpdate();\n        var userSetClipPath = el.getClipPath();\n        if (el.ignoreClip) {\n            clipPaths = null;\n        }\n        else if (userSetClipPath) {\n            if (clipPaths) {\n                clipPaths = clipPaths.slice();\n            }\n            else {\n                clipPaths = [];\n            }\n            var currentClipPath = userSetClipPath;\n            var parentClipPath = el;\n            while (currentClipPath) {\n                currentClipPath.parent = parentClipPath;\n                currentClipPath.updateTransform();\n                clipPaths.push(currentClipPath);\n                parentClipPath = currentClipPath;\n                currentClipPath = currentClipPath.getClipPath();\n            }\n        }\n        if (el.childrenRef) {\n            var children = el.childrenRef();\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                if (el.__dirty) {\n                    child.__dirty |= REDRAW_BIT;\n                }\n                this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\n            }\n            el.__dirty = 0;\n        }\n        else {\n            var disp = el;\n            if (clipPaths && clipPaths.length) {\n                disp.__clipPaths = clipPaths;\n            }\n            else if (disp.__clipPaths && disp.__clipPaths.length > 0) {\n                disp.__clipPaths = [];\n            }\n            if (isNaN(disp.z)) {\n                logInvalidZError();\n                disp.z = 0;\n            }\n            if (isNaN(disp.z2)) {\n                logInvalidZError();\n                disp.z2 = 0;\n            }\n            if (isNaN(disp.zlevel)) {\n                logInvalidZError();\n                disp.zlevel = 0;\n            }\n            this._displayList[this._displayListLen++] = disp;\n        }\n        var decalEl = el.getDecalElement && el.getDecalElement();\n        if (decalEl) {\n            this._updateAndAddDisplayable(decalEl, clipPaths, includeIgnore);\n        }\n        var textGuide = el.getTextGuideLine();\n        if (textGuide) {\n            this._updateAndAddDisplayable(textGuide, clipPaths, includeIgnore);\n        }\n        var textEl = el.getTextContent();\n        if (textEl) {\n            this._updateAndAddDisplayable(textEl, clipPaths, includeIgnore);\n        }\n    };\n    Storage.prototype.addRoot = function (el) {\n        if (el.__zr && el.__zr.storage === this) {\n            return;\n        }\n        this._roots.push(el);\n    };\n    Storage.prototype.delRoot = function (el) {\n        if (el instanceof Array) {\n            for (var i = 0, l = el.length; i < l; i++) {\n                this.delRoot(el[i]);\n            }\n            return;\n        }\n        var idx = util.indexOf(this._roots, el);\n        if (idx >= 0) {\n            this._roots.splice(idx, 1);\n        }\n    };\n    Storage.prototype.delAllRoots = function () {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        return;\n    };\n    Storage.prototype.getRoots = function () {\n        return this._roots;\n    };\n    Storage.prototype.dispose = function () {\n        this._displayList = null;\n        this._roots = null;\n    };\n    return Storage;\n}());\nexport default Storage;\n","import env from '../core/env.js';\nvar requestAnimationFrame;\nrequestAnimationFrame = (env.hasGlobalWindow\n    && ((window.requestAnimationFrame && window.requestAnimationFrame.bind(window))\n        || (window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window))\n        || window.mozRequestAnimationFrame\n        || window.webkitRequestAnimationFrame)) || function (func) {\n    return setTimeout(func, 16);\n};\nexport default requestAnimationFrame;\n","var easingFuncs = {\n    linear: function (k) {\n        return k;\n    },\n    quadraticIn: function (k) {\n        return k * k;\n    },\n    quadraticOut: function (k) {\n        return k * (2 - k);\n    },\n    quadraticInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k;\n        }\n        return -0.5 * (--k * (k - 2) - 1);\n    },\n    cubicIn: function (k) {\n        return k * k * k;\n    },\n    cubicOut: function (k) {\n        return --k * k * k + 1;\n    },\n    cubicInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k * k;\n        }\n        return 0.5 * ((k -= 2) * k * k + 2);\n    },\n    quarticIn: function (k) {\n        return k * k * k * k;\n    },\n    quarticOut: function (k) {\n        return 1 - (--k * k * k * k);\n    },\n    quarticInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k * k * k;\n        }\n        return -0.5 * ((k -= 2) * k * k * k - 2);\n    },\n    quinticIn: function (k) {\n        return k * k * k * k * k;\n    },\n    quinticOut: function (k) {\n        return --k * k * k * k * k + 1;\n    },\n    quinticInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k * k * k * k;\n        }\n        return 0.5 * ((k -= 2) * k * k * k * k + 2);\n    },\n    sinusoidalIn: function (k) {\n        return 1 - Math.cos(k * Math.PI / 2);\n    },\n    sinusoidalOut: function (k) {\n        return Math.sin(k * Math.PI / 2);\n    },\n    sinusoidalInOut: function (k) {\n        return 0.5 * (1 - Math.cos(Math.PI * k));\n    },\n    exponentialIn: function (k) {\n        return k === 0 ? 0 : Math.pow(1024, k - 1);\n    },\n    exponentialOut: function (k) {\n        return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n    },\n    exponentialInOut: function (k) {\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if ((k *= 2) < 1) {\n            return 0.5 * Math.pow(1024, k - 1);\n        }\n        return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n    },\n    circularIn: function (k) {\n        return 1 - Math.sqrt(1 - k * k);\n    },\n    circularOut: function (k) {\n        return Math.sqrt(1 - (--k * k));\n    },\n    circularInOut: function (k) {\n        if ((k *= 2) < 1) {\n            return -0.5 * (Math.sqrt(1 - k * k) - 1);\n        }\n        return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n    },\n    elasticIn: function (k) {\n        var s;\n        var a = 0.1;\n        var p = 0.4;\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if (!a || a < 1) {\n            a = 1;\n            s = p / 4;\n        }\n        else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n        }\n        return -(a * Math.pow(2, 10 * (k -= 1))\n            * Math.sin((k - s) * (2 * Math.PI) / p));\n    },\n    elasticOut: function (k) {\n        var s;\n        var a = 0.1;\n        var p = 0.4;\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if (!a || a < 1) {\n            a = 1;\n            s = p / 4;\n        }\n        else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n        }\n        return (a * Math.pow(2, -10 * k)\n            * Math.sin((k - s) * (2 * Math.PI) / p) + 1);\n    },\n    elasticInOut: function (k) {\n        var s;\n        var a = 0.1;\n        var p = 0.4;\n        if (k === 0) {\n            return 0;\n        }\n        if (k === 1) {\n            return 1;\n        }\n        if (!a || a < 1) {\n            a = 1;\n            s = p / 4;\n        }\n        else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n        }\n        if ((k *= 2) < 1) {\n            return -0.5 * (a * Math.pow(2, 10 * (k -= 1))\n                * Math.sin((k - s) * (2 * Math.PI) / p));\n        }\n        return a * Math.pow(2, -10 * (k -= 1))\n            * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n    },\n    backIn: function (k) {\n        var s = 1.70158;\n        return k * k * ((s + 1) * k - s);\n    },\n    backOut: function (k) {\n        var s = 1.70158;\n        return --k * k * ((s + 1) * k + s) + 1;\n    },\n    backInOut: function (k) {\n        var s = 1.70158 * 1.525;\n        if ((k *= 2) < 1) {\n            return 0.5 * (k * k * ((s + 1) * k - s));\n        }\n        return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    },\n    bounceIn: function (k) {\n        return 1 - easingFuncs.bounceOut(1 - k);\n    },\n    bounceOut: function (k) {\n        if (k < (1 / 2.75)) {\n            return 7.5625 * k * k;\n        }\n        else if (k < (2 / 2.75)) {\n            return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n        }\n        else if (k < (2.5 / 2.75)) {\n            return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n        }\n        else {\n            return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n        }\n    },\n    bounceInOut: function (k) {\n        if (k < 0.5) {\n            return easingFuncs.bounceIn(k * 2) * 0.5;\n        }\n        return easingFuncs.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n    }\n};\nexport default easingFuncs;\n","import { create as v2Create, distSquare as v2DistSquare } from './vector.js';\nvar mathPow = Math.pow;\nvar mathSqrt = Math.sqrt;\nvar EPSILON = 1e-8;\nvar EPSILON_NUMERIC = 1e-4;\nvar THREE_SQRT = mathSqrt(3);\nvar ONE_THIRD = 1 / 3;\nvar _v0 = v2Create();\nvar _v1 = v2Create();\nvar _v2 = v2Create();\nfunction isAroundZero(val) {\n    return val > -EPSILON && val < EPSILON;\n}\nfunction isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n}\nexport function cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return onet * onet * (onet * p0 + 3 * t * p1)\n        + t * t * (t * p3 + 3 * onet * p2);\n}\nexport function cubicDerivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet\n        + (p3 - p2) * t * t);\n}\nexport function cubicRootAt(p0, p1, p2, p3, val, roots) {\n    var a = p3 + 3 * (p1 - p2) - p0;\n    var b = 3 * (p2 - p1 * 2 + p0);\n    var c = 3 * (p1 - p0);\n    var d = p0 - val;\n    var A = b * b - 3 * a * c;\n    var B = b * c - 9 * a * d;\n    var C = c * c - 3 * b * d;\n    var n = 0;\n    if (isAroundZero(A) && isAroundZero(B)) {\n        if (isAroundZero(b)) {\n            roots[0] = 0;\n        }\n        else {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = B * B - 4 * A * C;\n        if (isAroundZero(disc)) {\n            var K = B / A;\n            var t1 = -b / a + K;\n            var t2 = -K / 2;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n            var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n            if (Y1 < 0) {\n                Y1 = -mathPow(-Y1, ONE_THIRD);\n            }\n            else {\n                Y1 = mathPow(Y1, ONE_THIRD);\n            }\n            if (Y2 < 0) {\n                Y2 = -mathPow(-Y2, ONE_THIRD);\n            }\n            else {\n                Y2 = mathPow(Y2, ONE_THIRD);\n            }\n            var t1 = (-b - (Y1 + Y2)) / (3 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n        else {\n            var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n            var theta = Math.acos(T) / 3;\n            var ASqrt = mathSqrt(A);\n            var tmp = Math.cos(theta);\n            var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n            var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n            var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n            if (t3 >= 0 && t3 <= 1) {\n                roots[n++] = t3;\n            }\n        }\n    }\n    return n;\n}\nexport function cubicExtrema(p0, p1, p2, p3, extrema) {\n    var b = 6 * p2 - 12 * p1 + 6 * p0;\n    var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var n = 0;\n    if (isAroundZero(a)) {\n        if (isNotAroundZero(b)) {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                extrema[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isAroundZero(disc)) {\n            extrema[0] = -b / (2 * a);\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var t1 = (-b + discSqrt) / (2 * a);\n            var t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extrema[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extrema[n++] = t2;\n            }\n        }\n    }\n    return n;\n}\nexport function cubicSubdivide(p0, p1, p2, p3, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p23 = (p3 - p2) * t + p2;\n    var p012 = (p12 - p01) * t + p01;\n    var p123 = (p23 - p12) * t + p12;\n    var p0123 = (p123 - p012) * t + p012;\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n    out[3] = p0123;\n    out[4] = p0123;\n    out[5] = p123;\n    out[6] = p23;\n    out[7] = p3;\n}\nexport function cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    var prev;\n    var next;\n    var d1;\n    var d2;\n    _v0[0] = x;\n    _v0[1] = y;\n    for (var _t = 0; _t < 1; _t += 0.05) {\n        _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n        _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n        d1 = v2DistSquare(_v0, _v1);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON_NUMERIC) {\n            break;\n        }\n        prev = t - interval;\n        next = t + interval;\n        _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n        _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n        d1 = v2DistSquare(_v1, _v0);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            _v2[0] = cubicAt(x0, x1, x2, x3, next);\n            _v2[1] = cubicAt(y0, y1, y2, y3, next);\n            d2 = v2DistSquare(_v2, _v0);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    if (out) {\n        out[0] = cubicAt(x0, x1, x2, x3, t);\n        out[1] = cubicAt(y0, y1, y2, y3, t);\n    }\n    return mathSqrt(d);\n}\nexport function cubicLength(x0, y0, x1, y1, x2, y2, x3, y3, iteration) {\n    var px = x0;\n    var py = y0;\n    var d = 0;\n    var step = 1 / iteration;\n    for (var i = 1; i <= iteration; i++) {\n        var t = i * step;\n        var x = cubicAt(x0, x1, x2, x3, t);\n        var y = cubicAt(y0, y1, y2, y3, t);\n        var dx = x - px;\n        var dy = y - py;\n        d += Math.sqrt(dx * dx + dy * dy);\n        px = x;\n        py = y;\n    }\n    return d;\n}\nexport function quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\nexport function quadraticDerivativeAt(p0, p1, p2, t) {\n    return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n}\nexport function quadraticRootAt(p0, p1, p2, val, roots) {\n    var a = p0 - 2 * p1 + p2;\n    var b = 2 * (p1 - p0);\n    var c = p0 - val;\n    var n = 0;\n    if (isAroundZero(a)) {\n        if (isNotAroundZero(b)) {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isAroundZero(disc)) {\n            var t1 = -b / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var t1 = (-b + discSqrt) / (2 * a);\n            var t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n        }\n    }\n    return n;\n}\nexport function quadraticExtremum(p0, p1, p2) {\n    var divider = p0 + p2 - 2 * p1;\n    if (divider === 0) {\n        return 0.5;\n    }\n    else {\n        return (p0 - p1) / divider;\n    }\n}\nexport function quadraticSubdivide(p0, p1, p2, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p012 = (p12 - p01) * t + p01;\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n    out[3] = p012;\n    out[4] = p12;\n    out[5] = p2;\n}\nexport function quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    _v0[0] = x;\n    _v0[1] = y;\n    for (var _t = 0; _t < 1; _t += 0.05) {\n        _v1[0] = quadraticAt(x0, x1, x2, _t);\n        _v1[1] = quadraticAt(y0, y1, y2, _t);\n        var d1 = v2DistSquare(_v0, _v1);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON_NUMERIC) {\n            break;\n        }\n        var prev = t - interval;\n        var next = t + interval;\n        _v1[0] = quadraticAt(x0, x1, x2, prev);\n        _v1[1] = quadraticAt(y0, y1, y2, prev);\n        var d1 = v2DistSquare(_v1, _v0);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            _v2[0] = quadraticAt(x0, x1, x2, next);\n            _v2[1] = quadraticAt(y0, y1, y2, next);\n            var d2 = v2DistSquare(_v2, _v0);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    if (out) {\n        out[0] = quadraticAt(x0, x1, x2, t);\n        out[1] = quadraticAt(y0, y1, y2, t);\n    }\n    return mathSqrt(d);\n}\nexport function quadraticLength(x0, y0, x1, y1, x2, y2, iteration) {\n    var px = x0;\n    var py = y0;\n    var d = 0;\n    var step = 1 / iteration;\n    for (var i = 1; i <= iteration; i++) {\n        var t = i * step;\n        var x = quadraticAt(x0, x1, x2, t);\n        var y = quadraticAt(y0, y1, y2, t);\n        var dx = x - px;\n        var dy = y - py;\n        d += Math.sqrt(dx * dx + dy * dy);\n        px = x;\n        py = y;\n    }\n    return d;\n}\n","import { cubicAt, cubicRootAt } from '../core/curve.js';\nimport { trim } from '../core/util.js';\nvar regexp = /cubic-bezier\\(([0-9,\\.e ]+)\\)/;\nexport function createCubicEasingFunc(cubicEasingStr) {\n    var cubic = cubicEasingStr && regexp.exec(cubicEasingStr);\n    if (cubic) {\n        var points = cubic[1].split(',');\n        var a_1 = +trim(points[0]);\n        var b_1 = +trim(points[1]);\n        var c_1 = +trim(points[2]);\n        var d_1 = +trim(points[3]);\n        if (isNaN(a_1 + b_1 + c_1 + d_1)) {\n            return;\n        }\n        var roots_1 = [];\n        return function (p) {\n            return p <= 0\n                ? 0 : p >= 1\n                ? 1\n                : cubicRootAt(0, a_1, c_1, 1, p, roots_1) && cubicAt(0, b_1, d_1, 1, roots_1[0]);\n        };\n    }\n}\n","import easingFuncs from './easing.js';\nimport { isFunction, noop } from '../core/util.js';\nimport { createCubicEasingFunc } from './cubicEasing.js';\nvar Clip = (function () {\n    function Clip(opts) {\n        this._inited = false;\n        this._startTime = 0;\n        this._pausedTime = 0;\n        this._paused = false;\n        this._life = opts.life || 1000;\n        this._delay = opts.delay || 0;\n        this.loop = opts.loop || false;\n        this.onframe = opts.onframe || noop;\n        this.ondestroy = opts.ondestroy || noop;\n        this.onrestart = opts.onrestart || noop;\n        opts.easing && this.setEasing(opts.easing);\n    }\n    Clip.prototype.step = function (globalTime, deltaTime) {\n        if (!this._inited) {\n            this._startTime = globalTime + this._delay;\n            this._inited = true;\n        }\n        if (this._paused) {\n            this._pausedTime += deltaTime;\n            return;\n        }\n        var life = this._life;\n        var elapsedTime = globalTime - this._startTime - this._pausedTime;\n        var percent = elapsedTime / life;\n        if (percent < 0) {\n            percent = 0;\n        }\n        percent = Math.min(percent, 1);\n        var easingFunc = this.easingFunc;\n        var schedule = easingFunc ? easingFunc(percent) : percent;\n        this.onframe(schedule);\n        if (percent === 1) {\n            if (this.loop) {\n                var remainder = elapsedTime % life;\n                this._startTime = globalTime - remainder;\n                this._pausedTime = 0;\n                this.onrestart();\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Clip.prototype.pause = function () {\n        this._paused = true;\n    };\n    Clip.prototype.resume = function () {\n        this._paused = false;\n    };\n    Clip.prototype.setEasing = function (easing) {\n        this.easing = easing;\n        this.easingFunc = isFunction(easing)\n            ? easing\n            : easingFuncs[easing] || createCubicEasingFunc(easing);\n    };\n    return Clip;\n}());\nexport default Clip;\n","var Entry = (function () {\n    function Entry(val) {\n        this.value = val;\n    }\n    return Entry;\n}());\nexport { Entry };\nvar LinkedList = (function () {\n    function LinkedList() {\n        this._len = 0;\n    }\n    LinkedList.prototype.insert = function (val) {\n        var entry = new Entry(val);\n        this.insertEntry(entry);\n        return entry;\n    };\n    LinkedList.prototype.insertEntry = function (entry) {\n        if (!this.head) {\n            this.head = this.tail = entry;\n        }\n        else {\n            this.tail.next = entry;\n            entry.prev = this.tail;\n            entry.next = null;\n            this.tail = entry;\n        }\n        this._len++;\n    };\n    LinkedList.prototype.remove = function (entry) {\n        var prev = entry.prev;\n        var next = entry.next;\n        if (prev) {\n            prev.next = next;\n        }\n        else {\n            this.head = next;\n        }\n        if (next) {\n            next.prev = prev;\n        }\n        else {\n            this.tail = prev;\n        }\n        entry.next = entry.prev = null;\n        this._len--;\n    };\n    LinkedList.prototype.len = function () {\n        return this._len;\n    };\n    LinkedList.prototype.clear = function () {\n        this.head = this.tail = null;\n        this._len = 0;\n    };\n    return LinkedList;\n}());\nexport { LinkedList };\nvar LRU = (function () {\n    function LRU(maxSize) {\n        this._list = new LinkedList();\n        this._maxSize = 10;\n        this._map = {};\n        this._maxSize = maxSize;\n    }\n    LRU.prototype.put = function (key, value) {\n        var list = this._list;\n        var map = this._map;\n        var removed = null;\n        if (map[key] == null) {\n            var len = list.len();\n            var entry = this._lastRemovedEntry;\n            if (len >= this._maxSize && len > 0) {\n                var leastUsedEntry = list.head;\n                list.remove(leastUsedEntry);\n                delete map[leastUsedEntry.key];\n                removed = leastUsedEntry.value;\n                this._lastRemovedEntry = leastUsedEntry;\n            }\n            if (entry) {\n                entry.value = value;\n            }\n            else {\n                entry = new Entry(value);\n            }\n            entry.key = key;\n            list.insertEntry(entry);\n            map[key] = entry;\n        }\n        return removed;\n    };\n    LRU.prototype.get = function (key) {\n        var entry = this._map[key];\n        var list = this._list;\n        if (entry != null) {\n            if (entry !== list.tail) {\n                list.remove(entry);\n                list.insertEntry(entry);\n            }\n            return entry.value;\n        }\n    };\n    LRU.prototype.clear = function () {\n        this._list.clear();\n        this._map = {};\n    };\n    LRU.prototype.len = function () {\n        return this._list.len();\n    };\n    return LRU;\n}());\nexport default LRU;\n","import LRU from '../core/LRU.js';\nimport { extend, isGradientObject, isString, map } from '../core/util.js';\nvar kCSSColorTable = {\n    'transparent': [0, 0, 0, 0], 'aliceblue': [240, 248, 255, 1],\n    'antiquewhite': [250, 235, 215, 1], 'aqua': [0, 255, 255, 1],\n    'aquamarine': [127, 255, 212, 1], 'azure': [240, 255, 255, 1],\n    'beige': [245, 245, 220, 1], 'bisque': [255, 228, 196, 1],\n    'black': [0, 0, 0, 1], 'blanchedalmond': [255, 235, 205, 1],\n    'blue': [0, 0, 255, 1], 'blueviolet': [138, 43, 226, 1],\n    'brown': [165, 42, 42, 1], 'burlywood': [222, 184, 135, 1],\n    'cadetblue': [95, 158, 160, 1], 'chartreuse': [127, 255, 0, 1],\n    'chocolate': [210, 105, 30, 1], 'coral': [255, 127, 80, 1],\n    'cornflowerblue': [100, 149, 237, 1], 'cornsilk': [255, 248, 220, 1],\n    'crimson': [220, 20, 60, 1], 'cyan': [0, 255, 255, 1],\n    'darkblue': [0, 0, 139, 1], 'darkcyan': [0, 139, 139, 1],\n    'darkgoldenrod': [184, 134, 11, 1], 'darkgray': [169, 169, 169, 1],\n    'darkgreen': [0, 100, 0, 1], 'darkgrey': [169, 169, 169, 1],\n    'darkkhaki': [189, 183, 107, 1], 'darkmagenta': [139, 0, 139, 1],\n    'darkolivegreen': [85, 107, 47, 1], 'darkorange': [255, 140, 0, 1],\n    'darkorchid': [153, 50, 204, 1], 'darkred': [139, 0, 0, 1],\n    'darksalmon': [233, 150, 122, 1], 'darkseagreen': [143, 188, 143, 1],\n    'darkslateblue': [72, 61, 139, 1], 'darkslategray': [47, 79, 79, 1],\n    'darkslategrey': [47, 79, 79, 1], 'darkturquoise': [0, 206, 209, 1],\n    'darkviolet': [148, 0, 211, 1], 'deeppink': [255, 20, 147, 1],\n    'deepskyblue': [0, 191, 255, 1], 'dimgray': [105, 105, 105, 1],\n    'dimgrey': [105, 105, 105, 1], 'dodgerblue': [30, 144, 255, 1],\n    'firebrick': [178, 34, 34, 1], 'floralwhite': [255, 250, 240, 1],\n    'forestgreen': [34, 139, 34, 1], 'fuchsia': [255, 0, 255, 1],\n    'gainsboro': [220, 220, 220, 1], 'ghostwhite': [248, 248, 255, 1],\n    'gold': [255, 215, 0, 1], 'goldenrod': [218, 165, 32, 1],\n    'gray': [128, 128, 128, 1], 'green': [0, 128, 0, 1],\n    'greenyellow': [173, 255, 47, 1], 'grey': [128, 128, 128, 1],\n    'honeydew': [240, 255, 240, 1], 'hotpink': [255, 105, 180, 1],\n    'indianred': [205, 92, 92, 1], 'indigo': [75, 0, 130, 1],\n    'ivory': [255, 255, 240, 1], 'khaki': [240, 230, 140, 1],\n    'lavender': [230, 230, 250, 1], 'lavenderblush': [255, 240, 245, 1],\n    'lawngreen': [124, 252, 0, 1], 'lemonchiffon': [255, 250, 205, 1],\n    'lightblue': [173, 216, 230, 1], 'lightcoral': [240, 128, 128, 1],\n    'lightcyan': [224, 255, 255, 1], 'lightgoldenrodyellow': [250, 250, 210, 1],\n    'lightgray': [211, 211, 211, 1], 'lightgreen': [144, 238, 144, 1],\n    'lightgrey': [211, 211, 211, 1], 'lightpink': [255, 182, 193, 1],\n    'lightsalmon': [255, 160, 122, 1], 'lightseagreen': [32, 178, 170, 1],\n    'lightskyblue': [135, 206, 250, 1], 'lightslategray': [119, 136, 153, 1],\n    'lightslategrey': [119, 136, 153, 1], 'lightsteelblue': [176, 196, 222, 1],\n    'lightyellow': [255, 255, 224, 1], 'lime': [0, 255, 0, 1],\n    'limegreen': [50, 205, 50, 1], 'linen': [250, 240, 230, 1],\n    'magenta': [255, 0, 255, 1], 'maroon': [128, 0, 0, 1],\n    'mediumaquamarine': [102, 205, 170, 1], 'mediumblue': [0, 0, 205, 1],\n    'mediumorchid': [186, 85, 211, 1], 'mediumpurple': [147, 112, 219, 1],\n    'mediumseagreen': [60, 179, 113, 1], 'mediumslateblue': [123, 104, 238, 1],\n    'mediumspringgreen': [0, 250, 154, 1], 'mediumturquoise': [72, 209, 204, 1],\n    'mediumvioletred': [199, 21, 133, 1], 'midnightblue': [25, 25, 112, 1],\n    'mintcream': [245, 255, 250, 1], 'mistyrose': [255, 228, 225, 1],\n    'moccasin': [255, 228, 181, 1], 'navajowhite': [255, 222, 173, 1],\n    'navy': [0, 0, 128, 1], 'oldlace': [253, 245, 230, 1],\n    'olive': [128, 128, 0, 1], 'olivedrab': [107, 142, 35, 1],\n    'orange': [255, 165, 0, 1], 'orangered': [255, 69, 0, 1],\n    'orchid': [218, 112, 214, 1], 'palegoldenrod': [238, 232, 170, 1],\n    'palegreen': [152, 251, 152, 1], 'paleturquoise': [175, 238, 238, 1],\n    'palevioletred': [219, 112, 147, 1], 'papayawhip': [255, 239, 213, 1],\n    'peachpuff': [255, 218, 185, 1], 'peru': [205, 133, 63, 1],\n    'pink': [255, 192, 203, 1], 'plum': [221, 160, 221, 1],\n    'powderblue': [176, 224, 230, 1], 'purple': [128, 0, 128, 1],\n    'red': [255, 0, 0, 1], 'rosybrown': [188, 143, 143, 1],\n    'royalblue': [65, 105, 225, 1], 'saddlebrown': [139, 69, 19, 1],\n    'salmon': [250, 128, 114, 1], 'sandybrown': [244, 164, 96, 1],\n    'seagreen': [46, 139, 87, 1], 'seashell': [255, 245, 238, 1],\n    'sienna': [160, 82, 45, 1], 'silver': [192, 192, 192, 1],\n    'skyblue': [135, 206, 235, 1], 'slateblue': [106, 90, 205, 1],\n    'slategray': [112, 128, 144, 1], 'slategrey': [112, 128, 144, 1],\n    'snow': [255, 250, 250, 1], 'springgreen': [0, 255, 127, 1],\n    'steelblue': [70, 130, 180, 1], 'tan': [210, 180, 140, 1],\n    'teal': [0, 128, 128, 1], 'thistle': [216, 191, 216, 1],\n    'tomato': [255, 99, 71, 1], 'turquoise': [64, 224, 208, 1],\n    'violet': [238, 130, 238, 1], 'wheat': [245, 222, 179, 1],\n    'white': [255, 255, 255, 1], 'whitesmoke': [245, 245, 245, 1],\n    'yellow': [255, 255, 0, 1], 'yellowgreen': [154, 205, 50, 1]\n};\nfunction clampCssByte(i) {\n    i = Math.round(i);\n    return i < 0 ? 0 : i > 255 ? 255 : i;\n}\nfunction clampCssAngle(i) {\n    i = Math.round(i);\n    return i < 0 ? 0 : i > 360 ? 360 : i;\n}\nfunction clampCssFloat(f) {\n    return f < 0 ? 0 : f > 1 ? 1 : f;\n}\nfunction parseCssInt(val) {\n    var str = val;\n    if (str.length && str.charAt(str.length - 1) === '%') {\n        return clampCssByte(parseFloat(str) / 100 * 255);\n    }\n    return clampCssByte(parseInt(str, 10));\n}\nfunction parseCssFloat(val) {\n    var str = val;\n    if (str.length && str.charAt(str.length - 1) === '%') {\n        return clampCssFloat(parseFloat(str) / 100);\n    }\n    return clampCssFloat(parseFloat(str));\n}\nfunction cssHueToRgb(m1, m2, h) {\n    if (h < 0) {\n        h += 1;\n    }\n    else if (h > 1) {\n        h -= 1;\n    }\n    if (h * 6 < 1) {\n        return m1 + (m2 - m1) * h * 6;\n    }\n    if (h * 2 < 1) {\n        return m2;\n    }\n    if (h * 3 < 2) {\n        return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n    }\n    return m1;\n}\nfunction lerpNumber(a, b, p) {\n    return a + (b - a) * p;\n}\nfunction setRgba(out, r, g, b, a) {\n    out[0] = r;\n    out[1] = g;\n    out[2] = b;\n    out[3] = a;\n    return out;\n}\nfunction copyRgba(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n}\nvar colorCache = new LRU(20);\nvar lastRemovedArr = null;\nfunction putToCache(colorStr, rgbaArr) {\n    if (lastRemovedArr) {\n        copyRgba(lastRemovedArr, rgbaArr);\n    }\n    lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || (rgbaArr.slice()));\n}\nexport function parse(colorStr, rgbaArr) {\n    if (!colorStr) {\n        return;\n    }\n    rgbaArr = rgbaArr || [];\n    var cached = colorCache.get(colorStr);\n    if (cached) {\n        return copyRgba(rgbaArr, cached);\n    }\n    colorStr = colorStr + '';\n    var str = colorStr.replace(/ /g, '').toLowerCase();\n    if (str in kCSSColorTable) {\n        copyRgba(rgbaArr, kCSSColorTable[str]);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n    }\n    var strLen = str.length;\n    if (str.charAt(0) === '#') {\n        if (strLen === 4 || strLen === 5) {\n            var iv = parseInt(str.slice(1, 4), 16);\n            if (!(iv >= 0 && iv <= 0xfff)) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;\n            }\n            setRgba(rgbaArr, ((iv & 0xf00) >> 4) | ((iv & 0xf00) >> 8), (iv & 0xf0) | ((iv & 0xf0) >> 4), (iv & 0xf) | ((iv & 0xf) << 4), strLen === 5 ? parseInt(str.slice(4), 16) / 0xf : 1);\n            putToCache(colorStr, rgbaArr);\n            return rgbaArr;\n        }\n        else if (strLen === 7 || strLen === 9) {\n            var iv = parseInt(str.slice(1, 7), 16);\n            if (!(iv >= 0 && iv <= 0xffffff)) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;\n            }\n            setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, strLen === 9 ? parseInt(str.slice(7), 16) / 0xff : 1);\n            putToCache(colorStr, rgbaArr);\n            return rgbaArr;\n        }\n        return;\n    }\n    var op = str.indexOf('(');\n    var ep = str.indexOf(')');\n    if (op !== -1 && ep + 1 === strLen) {\n        var fname = str.substr(0, op);\n        var params = str.substr(op + 1, ep - (op + 1)).split(',');\n        var alpha = 1;\n        switch (fname) {\n            case 'rgba':\n                if (params.length !== 4) {\n                    return params.length === 3\n                        ? setRgba(rgbaArr, +params[0], +params[1], +params[2], 1)\n                        : setRgba(rgbaArr, 0, 0, 0, 1);\n                }\n                alpha = parseCssFloat(params.pop());\n            case 'rgb':\n                if (params.length >= 3) {\n                    setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), params.length === 3 ? alpha : parseCssFloat(params[3]));\n                    putToCache(colorStr, rgbaArr);\n                    return rgbaArr;\n                }\n                else {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n            case 'hsla':\n                if (params.length !== 4) {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n                params[3] = parseCssFloat(params[3]);\n                hsla2rgba(params, rgbaArr);\n                putToCache(colorStr, rgbaArr);\n                return rgbaArr;\n            case 'hsl':\n                if (params.length !== 3) {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n                hsla2rgba(params, rgbaArr);\n                putToCache(colorStr, rgbaArr);\n                return rgbaArr;\n            default:\n                return;\n        }\n    }\n    setRgba(rgbaArr, 0, 0, 0, 1);\n    return;\n}\nfunction hsla2rgba(hsla, rgba) {\n    var h = (((parseFloat(hsla[0]) % 360) + 360) % 360) / 360;\n    var s = parseCssFloat(hsla[1]);\n    var l = parseCssFloat(hsla[2]);\n    var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n    var m1 = l * 2 - m2;\n    rgba = rgba || [];\n    setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n    if (hsla.length === 4) {\n        rgba[3] = hsla[3];\n    }\n    return rgba;\n}\nfunction rgba2hsla(rgba) {\n    if (!rgba) {\n        return;\n    }\n    var R = rgba[0] / 255;\n    var G = rgba[1] / 255;\n    var B = rgba[2] / 255;\n    var vMin = Math.min(R, G, B);\n    var vMax = Math.max(R, G, B);\n    var delta = vMax - vMin;\n    var L = (vMax + vMin) / 2;\n    var H;\n    var S;\n    if (delta === 0) {\n        H = 0;\n        S = 0;\n    }\n    else {\n        if (L < 0.5) {\n            S = delta / (vMax + vMin);\n        }\n        else {\n            S = delta / (2 - vMax - vMin);\n        }\n        var deltaR = (((vMax - R) / 6) + (delta / 2)) / delta;\n        var deltaG = (((vMax - G) / 6) + (delta / 2)) / delta;\n        var deltaB = (((vMax - B) / 6) + (delta / 2)) / delta;\n        if (R === vMax) {\n            H = deltaB - deltaG;\n        }\n        else if (G === vMax) {\n            H = (1 / 3) + deltaR - deltaB;\n        }\n        else if (B === vMax) {\n            H = (2 / 3) + deltaG - deltaR;\n        }\n        if (H < 0) {\n            H += 1;\n        }\n        if (H > 1) {\n            H -= 1;\n        }\n    }\n    var hsla = [H * 360, S, L];\n    if (rgba[3] != null) {\n        hsla.push(rgba[3]);\n    }\n    return hsla;\n}\nexport function lift(color, level) {\n    var colorArr = parse(color);\n    if (colorArr) {\n        for (var i = 0; i < 3; i++) {\n            if (level < 0) {\n                colorArr[i] = colorArr[i] * (1 - level) | 0;\n            }\n            else {\n                colorArr[i] = ((255 - colorArr[i]) * level + colorArr[i]) | 0;\n            }\n            if (colorArr[i] > 255) {\n                colorArr[i] = 255;\n            }\n            else if (colorArr[i] < 0) {\n                colorArr[i] = 0;\n            }\n        }\n        return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n    }\n}\nexport function toHex(color) {\n    var colorArr = parse(color);\n    if (colorArr) {\n        return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + (+colorArr[2])).toString(16).slice(1);\n    }\n}\nexport function fastLerp(normalizedValue, colors, out) {\n    if (!(colors && colors.length)\n        || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n        return;\n    }\n    out = out || [];\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = colors[leftIndex];\n    var rightColor = colors[rightIndex];\n    var dv = value - leftIndex;\n    out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n    out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n    out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n    out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n    return out;\n}\nexport var fastMapToColor = fastLerp;\nexport function lerp(normalizedValue, colors, fullOutput) {\n    if (!(colors && colors.length)\n        || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n        return;\n    }\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = parse(colors[leftIndex]);\n    var rightColor = parse(colors[rightIndex]);\n    var dv = value - leftIndex;\n    var color = stringify([\n        clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)),\n        clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)),\n        clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)),\n        clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))\n    ], 'rgba');\n    return fullOutput\n        ? {\n            color: color,\n            leftIndex: leftIndex,\n            rightIndex: rightIndex,\n            value: value\n        }\n        : color;\n}\nexport var mapToColor = lerp;\nexport function modifyHSL(color, h, s, l) {\n    var colorArr = parse(color);\n    if (color) {\n        colorArr = rgba2hsla(colorArr);\n        h != null && (colorArr[0] = clampCssAngle(h));\n        s != null && (colorArr[1] = parseCssFloat(s));\n        l != null && (colorArr[2] = parseCssFloat(l));\n        return stringify(hsla2rgba(colorArr), 'rgba');\n    }\n}\nexport function modifyAlpha(color, alpha) {\n    var colorArr = parse(color);\n    if (colorArr && alpha != null) {\n        colorArr[3] = clampCssFloat(alpha);\n        return stringify(colorArr, 'rgba');\n    }\n}\nexport function stringify(arrColor, type) {\n    if (!arrColor || !arrColor.length) {\n        return;\n    }\n    var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n    if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n        colorStr += ',' + arrColor[3];\n    }\n    return type + '(' + colorStr + ')';\n}\nexport function lum(color, backgroundLum) {\n    var arr = parse(color);\n    return arr\n        ? (0.299 * arr[0] + 0.587 * arr[1] + 0.114 * arr[2]) * arr[3] / 255\n            + (1 - arr[3]) * backgroundLum\n        : 0;\n}\nexport function random() {\n    return stringify([\n        Math.round(Math.random() * 255),\n        Math.round(Math.random() * 255),\n        Math.round(Math.random() * 255)\n    ], 'rgb');\n}\nvar liftedColorCache = new LRU(100);\nexport function liftColor(color) {\n    if (isString(color)) {\n        var liftedColor = liftedColorCache.get(color);\n        if (!liftedColor) {\n            liftedColor = lift(color, -0.1);\n            liftedColorCache.put(color, liftedColor);\n        }\n        return liftedColor;\n    }\n    else if (isGradientObject(color)) {\n        var ret = extend({}, color);\n        ret.colorStops = map(color.colorStops, function (stop) { return ({\n            offset: stop.offset,\n            color: lift(stop.color, -0.1)\n        }); });\n        return ret;\n    }\n    return color;\n}\n","import { RADIAN_TO_DEGREE, retrieve2, logError, isFunction } from '../core/util.js';\nimport { parse } from '../tool/color.js';\nimport env from '../core/env.js';\nvar mathRound = Math.round;\nexport function normalizeColor(color) {\n    var opacity;\n    if (!color || color === 'transparent') {\n        color = 'none';\n    }\n    else if (typeof color === 'string' && color.indexOf('rgba') > -1) {\n        var arr = parse(color);\n        if (arr) {\n            color = 'rgb(' + arr[0] + ',' + arr[1] + ',' + arr[2] + ')';\n            opacity = arr[3];\n        }\n    }\n    return {\n        color: color,\n        opacity: opacity == null ? 1 : opacity\n    };\n}\nvar EPSILON = 1e-4;\nexport function isAroundZero(transform) {\n    return transform < EPSILON && transform > -EPSILON;\n}\nexport function round3(transform) {\n    return mathRound(transform * 1e3) / 1e3;\n}\nexport function round4(transform) {\n    return mathRound(transform * 1e4) / 1e4;\n}\nexport function round1(transform) {\n    return mathRound(transform * 10) / 10;\n}\nexport function getMatrixStr(m) {\n    return 'matrix('\n        + round3(m[0]) + ','\n        + round3(m[1]) + ','\n        + round3(m[2]) + ','\n        + round3(m[3]) + ','\n        + round4(m[4]) + ','\n        + round4(m[5])\n        + ')';\n}\nexport var TEXT_ALIGN_TO_ANCHOR = {\n    left: 'start',\n    right: 'end',\n    center: 'middle',\n    middle: 'middle'\n};\nexport function adjustTextY(y, lineHeight, textBaseline) {\n    if (textBaseline === 'top') {\n        y += lineHeight / 2;\n    }\n    else if (textBaseline === 'bottom') {\n        y -= lineHeight / 2;\n    }\n    return y;\n}\nexport function hasShadow(style) {\n    return style\n        && (style.shadowBlur || style.shadowOffsetX || style.shadowOffsetY);\n}\nexport function getShadowKey(displayable) {\n    var style = displayable.style;\n    var globalScale = displayable.getGlobalScale();\n    return [\n        style.shadowColor,\n        (style.shadowBlur || 0).toFixed(2),\n        (style.shadowOffsetX || 0).toFixed(2),\n        (style.shadowOffsetY || 0).toFixed(2),\n        globalScale[0],\n        globalScale[1]\n    ].join(',');\n}\nexport function getClipPathsKey(clipPaths) {\n    var key = [];\n    if (clipPaths) {\n        for (var i = 0; i < clipPaths.length; i++) {\n            var clipPath = clipPaths[i];\n            key.push(clipPath.id);\n        }\n    }\n    return key.join(',');\n}\nexport function isImagePattern(val) {\n    return val && (!!val.image);\n}\nexport function isSVGPattern(val) {\n    return val && (!!val.svgElement);\n}\nexport function isPattern(val) {\n    return isImagePattern(val) || isSVGPattern(val);\n}\nexport function isLinearGradient(val) {\n    return val.type === 'linear';\n}\nexport function isRadialGradient(val) {\n    return val.type === 'radial';\n}\nexport function isGradient(val) {\n    return val && (val.type === 'linear'\n        || val.type === 'radial');\n}\nexport function getIdURL(id) {\n    return \"url(#\" + id + \")\";\n}\nexport function getPathPrecision(el) {\n    var scale = el.getGlobalScale();\n    var size = Math.max(scale[0], scale[1]);\n    return Math.max(Math.ceil(Math.log(size) / Math.log(10)), 1);\n}\nexport function getSRTTransformString(transform) {\n    var x = transform.x || 0;\n    var y = transform.y || 0;\n    var rotation = (transform.rotation || 0) * RADIAN_TO_DEGREE;\n    var scaleX = retrieve2(transform.scaleX, 1);\n    var scaleY = retrieve2(transform.scaleY, 1);\n    var skewX = transform.skewX || 0;\n    var skewY = transform.skewY || 0;\n    var res = [];\n    if (x || y) {\n        res.push(\"translate(\" + x + \"px,\" + y + \"px)\");\n    }\n    if (rotation) {\n        res.push(\"rotate(\" + rotation + \")\");\n    }\n    if (scaleX !== 1 || scaleY !== 1) {\n        res.push(\"scale(\" + scaleX + \",\" + scaleY + \")\");\n    }\n    if (skewX || skewY) {\n        res.push(\"skew(\" + mathRound(skewX * RADIAN_TO_DEGREE) + \"deg, \" + mathRound(skewY * RADIAN_TO_DEGREE) + \"deg)\");\n    }\n    return res.join(' ');\n}\nexport var encodeBase64 = (function () {\n    if (env.hasGlobalWindow && isFunction(window.btoa)) {\n        return function (str) {\n            return window.btoa(unescape(encodeURIComponent(str)));\n        };\n    }\n    if (typeof Buffer !== 'undefined') {\n        return function (str) {\n            return Buffer.from(str).toString('base64');\n        };\n    }\n    return function (str) {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('Base64 isn\\'t natively supported in the current environment.');\n        }\n        return null;\n    };\n})();\n","import Clip from './Clip.js';\nimport * as color from '../tool/color.js';\nimport { eqNaN, extend, isArrayLike, isFunction, isGradientObject, isNumber, isString, keys, logError, map } from '../core/util.js';\nimport easingFuncs from './easing.js';\nimport { createCubicEasingFunc } from './cubicEasing.js';\nimport { isLinearGradient, isRadialGradient } from '../svg/helper.js';\n;\nvar arraySlice = Array.prototype.slice;\nfunction interpolateNumber(p0, p1, percent) {\n    return (p1 - p0) * percent + p0;\n}\nfunction interpolate1DArray(out, p0, p1, percent) {\n    var len = p0.length;\n    for (var i = 0; i < len; i++) {\n        out[i] = interpolateNumber(p0[i], p1[i], percent);\n    }\n    return out;\n}\nfunction interpolate2DArray(out, p0, p1, percent) {\n    var len = p0.length;\n    var len2 = len && p0[0].length;\n    for (var i = 0; i < len; i++) {\n        if (!out[i]) {\n            out[i] = [];\n        }\n        for (var j = 0; j < len2; j++) {\n            out[i][j] = interpolateNumber(p0[i][j], p1[i][j], percent);\n        }\n    }\n    return out;\n}\nfunction add1DArray(out, p0, p1, sign) {\n    var len = p0.length;\n    for (var i = 0; i < len; i++) {\n        out[i] = p0[i] + p1[i] * sign;\n    }\n    return out;\n}\nfunction add2DArray(out, p0, p1, sign) {\n    var len = p0.length;\n    var len2 = len && p0[0].length;\n    for (var i = 0; i < len; i++) {\n        if (!out[i]) {\n            out[i] = [];\n        }\n        for (var j = 0; j < len2; j++) {\n            out[i][j] = p0[i][j] + p1[i][j] * sign;\n        }\n    }\n    return out;\n}\nfunction fillColorStops(val0, val1) {\n    var len0 = val0.length;\n    var len1 = val1.length;\n    var shorterArr = len0 > len1 ? val1 : val0;\n    var shorterLen = Math.min(len0, len1);\n    var last = shorterArr[shorterLen - 1] || { color: [0, 0, 0, 0], offset: 0 };\n    for (var i = shorterLen; i < Math.max(len0, len1); i++) {\n        shorterArr.push({\n            offset: last.offset,\n            color: last.color.slice()\n        });\n    }\n}\nfunction fillArray(val0, val1, arrDim) {\n    var arr0 = val0;\n    var arr1 = val1;\n    if (!arr0.push || !arr1.push) {\n        return;\n    }\n    var arr0Len = arr0.length;\n    var arr1Len = arr1.length;\n    if (arr0Len !== arr1Len) {\n        var isPreviousLarger = arr0Len > arr1Len;\n        if (isPreviousLarger) {\n            arr0.length = arr1Len;\n        }\n        else {\n            for (var i = arr0Len; i < arr1Len; i++) {\n                arr0.push(arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i]));\n            }\n        }\n    }\n    var len2 = arr0[0] && arr0[0].length;\n    for (var i = 0; i < arr0.length; i++) {\n        if (arrDim === 1) {\n            if (isNaN(arr0[i])) {\n                arr0[i] = arr1[i];\n            }\n        }\n        else {\n            for (var j = 0; j < len2; j++) {\n                if (isNaN(arr0[i][j])) {\n                    arr0[i][j] = arr1[i][j];\n                }\n            }\n        }\n    }\n}\nexport function cloneValue(value) {\n    if (isArrayLike(value)) {\n        var len = value.length;\n        if (isArrayLike(value[0])) {\n            var ret = [];\n            for (var i = 0; i < len; i++) {\n                ret.push(arraySlice.call(value[i]));\n            }\n            return ret;\n        }\n        return arraySlice.call(value);\n    }\n    return value;\n}\nfunction rgba2String(rgba) {\n    rgba[0] = Math.floor(rgba[0]) || 0;\n    rgba[1] = Math.floor(rgba[1]) || 0;\n    rgba[2] = Math.floor(rgba[2]) || 0;\n    rgba[3] = rgba[3] == null ? 1 : rgba[3];\n    return 'rgba(' + rgba.join(',') + ')';\n}\nfunction guessArrayDim(value) {\n    return isArrayLike(value && value[0]) ? 2 : 1;\n}\nvar VALUE_TYPE_NUMBER = 0;\nvar VALUE_TYPE_1D_ARRAY = 1;\nvar VALUE_TYPE_2D_ARRAY = 2;\nvar VALUE_TYPE_COLOR = 3;\nvar VALUE_TYPE_LINEAR_GRADIENT = 4;\nvar VALUE_TYPE_RADIAL_GRADIENT = 5;\nvar VALUE_TYPE_UNKOWN = 6;\nfunction isGradientValueType(valType) {\n    return valType === VALUE_TYPE_LINEAR_GRADIENT || valType === VALUE_TYPE_RADIAL_GRADIENT;\n}\nfunction isArrayValueType(valType) {\n    return valType === VALUE_TYPE_1D_ARRAY || valType === VALUE_TYPE_2D_ARRAY;\n}\nvar tmpRgba = [0, 0, 0, 0];\nvar Track = (function () {\n    function Track(propName) {\n        this.keyframes = [];\n        this.discrete = false;\n        this._invalid = false;\n        this._needsSort = false;\n        this._lastFr = 0;\n        this._lastFrP = 0;\n        this.propName = propName;\n    }\n    Track.prototype.isFinished = function () {\n        return this._finished;\n    };\n    Track.prototype.setFinished = function () {\n        this._finished = true;\n        if (this._additiveTrack) {\n            this._additiveTrack.setFinished();\n        }\n    };\n    Track.prototype.needsAnimate = function () {\n        return this.keyframes.length >= 1;\n    };\n    Track.prototype.getAdditiveTrack = function () {\n        return this._additiveTrack;\n    };\n    Track.prototype.addKeyframe = function (time, rawValue, easing) {\n        this._needsSort = true;\n        var keyframes = this.keyframes;\n        var len = keyframes.length;\n        var discrete = false;\n        var valType = VALUE_TYPE_UNKOWN;\n        var value = rawValue;\n        if (isArrayLike(rawValue)) {\n            var arrayDim = guessArrayDim(rawValue);\n            valType = arrayDim;\n            if (arrayDim === 1 && !isNumber(rawValue[0])\n                || arrayDim === 2 && !isNumber(rawValue[0][0])) {\n                discrete = true;\n            }\n        }\n        else {\n            if (isNumber(rawValue) && !eqNaN(rawValue)) {\n                valType = VALUE_TYPE_NUMBER;\n            }\n            else if (isString(rawValue)) {\n                if (!isNaN(+rawValue)) {\n                    valType = VALUE_TYPE_NUMBER;\n                }\n                else {\n                    var colorArray = color.parse(rawValue);\n                    if (colorArray) {\n                        value = colorArray;\n                        valType = VALUE_TYPE_COLOR;\n                    }\n                }\n            }\n            else if (isGradientObject(rawValue)) {\n                var parsedGradient = extend({}, value);\n                parsedGradient.colorStops = map(rawValue.colorStops, function (colorStop) { return ({\n                    offset: colorStop.offset,\n                    color: color.parse(colorStop.color)\n                }); });\n                if (isLinearGradient(rawValue)) {\n                    valType = VALUE_TYPE_LINEAR_GRADIENT;\n                }\n                else if (isRadialGradient(rawValue)) {\n                    valType = VALUE_TYPE_RADIAL_GRADIENT;\n                }\n                value = parsedGradient;\n            }\n        }\n        if (len === 0) {\n            this.valType = valType;\n        }\n        else if (valType !== this.valType || valType === VALUE_TYPE_UNKOWN) {\n            discrete = true;\n        }\n        this.discrete = this.discrete || discrete;\n        var kf = {\n            time: time,\n            value: value,\n            rawValue: rawValue,\n            percent: 0\n        };\n        if (easing) {\n            kf.easing = easing;\n            kf.easingFunc = isFunction(easing)\n                ? easing\n                : easingFuncs[easing] || createCubicEasingFunc(easing);\n        }\n        keyframes.push(kf);\n        return kf;\n    };\n    Track.prototype.prepare = function (maxTime, additiveTrack) {\n        var kfs = this.keyframes;\n        if (this._needsSort) {\n            kfs.sort(function (a, b) {\n                return a.time - b.time;\n            });\n        }\n        var valType = this.valType;\n        var kfsLen = kfs.length;\n        var lastKf = kfs[kfsLen - 1];\n        var isDiscrete = this.discrete;\n        var isArr = isArrayValueType(valType);\n        var isGradient = isGradientValueType(valType);\n        for (var i = 0; i < kfsLen; i++) {\n            var kf = kfs[i];\n            var value = kf.value;\n            var lastValue = lastKf.value;\n            kf.percent = kf.time / maxTime;\n            if (!isDiscrete) {\n                if (isArr && i !== kfsLen - 1) {\n                    fillArray(value, lastValue, valType);\n                }\n                else if (isGradient) {\n                    fillColorStops(value.colorStops, lastValue.colorStops);\n                }\n            }\n        }\n        if (!isDiscrete\n            && valType !== VALUE_TYPE_RADIAL_GRADIENT\n            && additiveTrack\n            && this.needsAnimate()\n            && additiveTrack.needsAnimate()\n            && valType === additiveTrack.valType\n            && !additiveTrack._finished) {\n            this._additiveTrack = additiveTrack;\n            var startValue = kfs[0].value;\n            for (var i = 0; i < kfsLen; i++) {\n                if (valType === VALUE_TYPE_NUMBER) {\n                    kfs[i].additiveValue = kfs[i].value - startValue;\n                }\n                else if (valType === VALUE_TYPE_COLOR) {\n                    kfs[i].additiveValue =\n                        add1DArray([], kfs[i].value, startValue, -1);\n                }\n                else if (isArrayValueType(valType)) {\n                    kfs[i].additiveValue = valType === VALUE_TYPE_1D_ARRAY\n                        ? add1DArray([], kfs[i].value, startValue, -1)\n                        : add2DArray([], kfs[i].value, startValue, -1);\n                }\n            }\n        }\n    };\n    Track.prototype.step = function (target, percent) {\n        if (this._finished) {\n            return;\n        }\n        if (this._additiveTrack && this._additiveTrack._finished) {\n            this._additiveTrack = null;\n        }\n        var isAdditive = this._additiveTrack != null;\n        var valueKey = isAdditive ? 'additiveValue' : 'value';\n        var valType = this.valType;\n        var keyframes = this.keyframes;\n        var kfsNum = keyframes.length;\n        var propName = this.propName;\n        var isValueColor = valType === VALUE_TYPE_COLOR;\n        var frameIdx;\n        var lastFrame = this._lastFr;\n        var mathMin = Math.min;\n        var frame;\n        var nextFrame;\n        if (kfsNum === 1) {\n            frame = nextFrame = keyframes[0];\n        }\n        else {\n            if (percent < 0) {\n                frameIdx = 0;\n            }\n            else if (percent < this._lastFrP) {\n                var start = mathMin(lastFrame + 1, kfsNum - 1);\n                for (frameIdx = start; frameIdx >= 0; frameIdx--) {\n                    if (keyframes[frameIdx].percent <= percent) {\n                        break;\n                    }\n                }\n                frameIdx = mathMin(frameIdx, kfsNum - 2);\n            }\n            else {\n                for (frameIdx = lastFrame; frameIdx < kfsNum; frameIdx++) {\n                    if (keyframes[frameIdx].percent > percent) {\n                        break;\n                    }\n                }\n                frameIdx = mathMin(frameIdx - 1, kfsNum - 2);\n            }\n            nextFrame = keyframes[frameIdx + 1];\n            frame = keyframes[frameIdx];\n        }\n        if (!(frame && nextFrame)) {\n            return;\n        }\n        this._lastFr = frameIdx;\n        this._lastFrP = percent;\n        var interval = (nextFrame.percent - frame.percent);\n        var w = interval === 0 ? 1 : mathMin((percent - frame.percent) / interval, 1);\n        if (nextFrame.easingFunc) {\n            w = nextFrame.easingFunc(w);\n        }\n        var targetArr = isAdditive ? this._additiveValue\n            : (isValueColor ? tmpRgba : target[propName]);\n        if ((isArrayValueType(valType) || isValueColor) && !targetArr) {\n            targetArr = this._additiveValue = [];\n        }\n        if (this.discrete) {\n            target[propName] = w < 1 ? frame.rawValue : nextFrame.rawValue;\n        }\n        else if (isArrayValueType(valType)) {\n            valType === VALUE_TYPE_1D_ARRAY\n                ? interpolate1DArray(targetArr, frame[valueKey], nextFrame[valueKey], w)\n                : interpolate2DArray(targetArr, frame[valueKey], nextFrame[valueKey], w);\n        }\n        else if (isGradientValueType(valType)) {\n            var val = frame[valueKey];\n            var nextVal_1 = nextFrame[valueKey];\n            var isLinearGradient_1 = valType === VALUE_TYPE_LINEAR_GRADIENT;\n            target[propName] = {\n                type: isLinearGradient_1 ? 'linear' : 'radial',\n                x: interpolateNumber(val.x, nextVal_1.x, w),\n                y: interpolateNumber(val.y, nextVal_1.y, w),\n                colorStops: map(val.colorStops, function (colorStop, idx) {\n                    var nextColorStop = nextVal_1.colorStops[idx];\n                    return {\n                        offset: interpolateNumber(colorStop.offset, nextColorStop.offset, w),\n                        color: rgba2String(interpolate1DArray([], colorStop.color, nextColorStop.color, w))\n                    };\n                }),\n                global: nextVal_1.global\n            };\n            if (isLinearGradient_1) {\n                target[propName].x2 = interpolateNumber(val.x2, nextVal_1.x2, w);\n                target[propName].y2 = interpolateNumber(val.y2, nextVal_1.y2, w);\n            }\n            else {\n                target[propName].r = interpolateNumber(val.r, nextVal_1.r, w);\n            }\n        }\n        else if (isValueColor) {\n            interpolate1DArray(targetArr, frame[valueKey], nextFrame[valueKey], w);\n            if (!isAdditive) {\n                target[propName] = rgba2String(targetArr);\n            }\n        }\n        else {\n            var value = interpolateNumber(frame[valueKey], nextFrame[valueKey], w);\n            if (isAdditive) {\n                this._additiveValue = value;\n            }\n            else {\n                target[propName] = value;\n            }\n        }\n        if (isAdditive) {\n            this._addToTarget(target);\n        }\n    };\n    Track.prototype._addToTarget = function (target) {\n        var valType = this.valType;\n        var propName = this.propName;\n        var additiveValue = this._additiveValue;\n        if (valType === VALUE_TYPE_NUMBER) {\n            target[propName] = target[propName] + additiveValue;\n        }\n        else if (valType === VALUE_TYPE_COLOR) {\n            color.parse(target[propName], tmpRgba);\n            add1DArray(tmpRgba, tmpRgba, additiveValue, 1);\n            target[propName] = rgba2String(tmpRgba);\n        }\n        else if (valType === VALUE_TYPE_1D_ARRAY) {\n            add1DArray(target[propName], target[propName], additiveValue, 1);\n        }\n        else if (valType === VALUE_TYPE_2D_ARRAY) {\n            add2DArray(target[propName], target[propName], additiveValue, 1);\n        }\n    };\n    return Track;\n}());\nvar Animator = (function () {\n    function Animator(target, loop, allowDiscreteAnimation, additiveTo) {\n        this._tracks = {};\n        this._trackKeys = [];\n        this._maxTime = 0;\n        this._started = 0;\n        this._clip = null;\n        this._target = target;\n        this._loop = loop;\n        if (loop && additiveTo) {\n            logError('Can\\' use additive animation on looped animation.');\n            return;\n        }\n        this._additiveAnimators = additiveTo;\n        this._allowDiscrete = allowDiscreteAnimation;\n    }\n    Animator.prototype.getMaxTime = function () {\n        return this._maxTime;\n    };\n    Animator.prototype.getDelay = function () {\n        return this._delay;\n    };\n    Animator.prototype.getLoop = function () {\n        return this._loop;\n    };\n    Animator.prototype.getTarget = function () {\n        return this._target;\n    };\n    Animator.prototype.changeTarget = function (target) {\n        this._target = target;\n    };\n    Animator.prototype.when = function (time, props, easing) {\n        return this.whenWithKeys(time, props, keys(props), easing);\n    };\n    Animator.prototype.whenWithKeys = function (time, props, propNames, easing) {\n        var tracks = this._tracks;\n        for (var i = 0; i < propNames.length; i++) {\n            var propName = propNames[i];\n            var track = tracks[propName];\n            if (!track) {\n                track = tracks[propName] = new Track(propName);\n                var initialValue = void 0;\n                var additiveTrack = this._getAdditiveTrack(propName);\n                if (additiveTrack) {\n                    var addtiveTrackKfs = additiveTrack.keyframes;\n                    var lastFinalKf = addtiveTrackKfs[addtiveTrackKfs.length - 1];\n                    initialValue = lastFinalKf && lastFinalKf.value;\n                    if (additiveTrack.valType === VALUE_TYPE_COLOR && initialValue) {\n                        initialValue = rgba2String(initialValue);\n                    }\n                }\n                else {\n                    initialValue = this._target[propName];\n                }\n                if (initialValue == null) {\n                    continue;\n                }\n                if (time > 0) {\n                    track.addKeyframe(0, cloneValue(initialValue), easing);\n                }\n                this._trackKeys.push(propName);\n            }\n            track.addKeyframe(time, cloneValue(props[propName]), easing);\n        }\n        this._maxTime = Math.max(this._maxTime, time);\n        return this;\n    };\n    Animator.prototype.pause = function () {\n        this._clip.pause();\n        this._paused = true;\n    };\n    Animator.prototype.resume = function () {\n        this._clip.resume();\n        this._paused = false;\n    };\n    Animator.prototype.isPaused = function () {\n        return !!this._paused;\n    };\n    Animator.prototype.duration = function (duration) {\n        this._maxTime = duration;\n        this._force = true;\n        return this;\n    };\n    Animator.prototype._doneCallback = function () {\n        this._setTracksFinished();\n        this._clip = null;\n        var doneList = this._doneCbs;\n        if (doneList) {\n            var len = doneList.length;\n            for (var i = 0; i < len; i++) {\n                doneList[i].call(this);\n            }\n        }\n    };\n    Animator.prototype._abortedCallback = function () {\n        this._setTracksFinished();\n        var animation = this.animation;\n        var abortedList = this._abortedCbs;\n        if (animation) {\n            animation.removeClip(this._clip);\n        }\n        this._clip = null;\n        if (abortedList) {\n            for (var i = 0; i < abortedList.length; i++) {\n                abortedList[i].call(this);\n            }\n        }\n    };\n    Animator.prototype._setTracksFinished = function () {\n        var tracks = this._tracks;\n        var tracksKeys = this._trackKeys;\n        for (var i = 0; i < tracksKeys.length; i++) {\n            tracks[tracksKeys[i]].setFinished();\n        }\n    };\n    Animator.prototype._getAdditiveTrack = function (trackName) {\n        var additiveTrack;\n        var additiveAnimators = this._additiveAnimators;\n        if (additiveAnimators) {\n            for (var i = 0; i < additiveAnimators.length; i++) {\n                var track = additiveAnimators[i].getTrack(trackName);\n                if (track) {\n                    additiveTrack = track;\n                }\n            }\n        }\n        return additiveTrack;\n    };\n    Animator.prototype.start = function (easing) {\n        if (this._started > 0) {\n            return;\n        }\n        this._started = 1;\n        var self = this;\n        var tracks = [];\n        var maxTime = this._maxTime || 0;\n        for (var i = 0; i < this._trackKeys.length; i++) {\n            var propName = this._trackKeys[i];\n            var track = this._tracks[propName];\n            var additiveTrack = this._getAdditiveTrack(propName);\n            var kfs = track.keyframes;\n            var kfsNum = kfs.length;\n            track.prepare(maxTime, additiveTrack);\n            if (track.needsAnimate()) {\n                if (!this._allowDiscrete && track.discrete) {\n                    var lastKf = kfs[kfsNum - 1];\n                    if (lastKf) {\n                        self._target[track.propName] = lastKf.rawValue;\n                    }\n                    track.setFinished();\n                }\n                else {\n                    tracks.push(track);\n                }\n            }\n        }\n        if (tracks.length || this._force) {\n            var clip = new Clip({\n                life: maxTime,\n                loop: this._loop,\n                delay: this._delay || 0,\n                onframe: function (percent) {\n                    self._started = 2;\n                    var additiveAnimators = self._additiveAnimators;\n                    if (additiveAnimators) {\n                        var stillHasAdditiveAnimator = false;\n                        for (var i = 0; i < additiveAnimators.length; i++) {\n                            if (additiveAnimators[i]._clip) {\n                                stillHasAdditiveAnimator = true;\n                                break;\n                            }\n                        }\n                        if (!stillHasAdditiveAnimator) {\n                            self._additiveAnimators = null;\n                        }\n                    }\n                    for (var i = 0; i < tracks.length; i++) {\n                        tracks[i].step(self._target, percent);\n                    }\n                    var onframeList = self._onframeCbs;\n                    if (onframeList) {\n                        for (var i = 0; i < onframeList.length; i++) {\n                            onframeList[i](self._target, percent);\n                        }\n                    }\n                },\n                ondestroy: function () {\n                    self._doneCallback();\n                }\n            });\n            this._clip = clip;\n            if (this.animation) {\n                this.animation.addClip(clip);\n            }\n            if (easing) {\n                clip.setEasing(easing);\n            }\n        }\n        else {\n            this._doneCallback();\n        }\n        return this;\n    };\n    Animator.prototype.stop = function (forwardToLast) {\n        if (!this._clip) {\n            return;\n        }\n        var clip = this._clip;\n        if (forwardToLast) {\n            clip.onframe(1);\n        }\n        this._abortedCallback();\n    };\n    Animator.prototype.delay = function (time) {\n        this._delay = time;\n        return this;\n    };\n    Animator.prototype.during = function (cb) {\n        if (cb) {\n            if (!this._onframeCbs) {\n                this._onframeCbs = [];\n            }\n            this._onframeCbs.push(cb);\n        }\n        return this;\n    };\n    Animator.prototype.done = function (cb) {\n        if (cb) {\n            if (!this._doneCbs) {\n                this._doneCbs = [];\n            }\n            this._doneCbs.push(cb);\n        }\n        return this;\n    };\n    Animator.prototype.aborted = function (cb) {\n        if (cb) {\n            if (!this._abortedCbs) {\n                this._abortedCbs = [];\n            }\n            this._abortedCbs.push(cb);\n        }\n        return this;\n    };\n    Animator.prototype.getClip = function () {\n        return this._clip;\n    };\n    Animator.prototype.getTrack = function (propName) {\n        return this._tracks[propName];\n    };\n    Animator.prototype.getTracks = function () {\n        var _this = this;\n        return map(this._trackKeys, function (key) { return _this._tracks[key]; });\n    };\n    Animator.prototype.stopTracks = function (propNames, forwardToLast) {\n        if (!propNames.length || !this._clip) {\n            return true;\n        }\n        var tracks = this._tracks;\n        var tracksKeys = this._trackKeys;\n        for (var i = 0; i < propNames.length; i++) {\n            var track = tracks[propNames[i]];\n            if (track && !track.isFinished()) {\n                if (forwardToLast) {\n                    track.step(this._target, 1);\n                }\n                else if (this._started === 1) {\n                    track.step(this._target, 0);\n                }\n                track.setFinished();\n            }\n        }\n        var allAborted = true;\n        for (var i = 0; i < tracksKeys.length; i++) {\n            if (!tracks[tracksKeys[i]].isFinished()) {\n                allAborted = false;\n                break;\n            }\n        }\n        if (allAborted) {\n            this._abortedCallback();\n        }\n        return allAborted;\n    };\n    Animator.prototype.saveTo = function (target, trackKeys, firstOrLast) {\n        if (!target) {\n            return;\n        }\n        trackKeys = trackKeys || this._trackKeys;\n        for (var i = 0; i < trackKeys.length; i++) {\n            var propName = trackKeys[i];\n            var track = this._tracks[propName];\n            if (!track || track.isFinished()) {\n                continue;\n            }\n            var kfs = track.keyframes;\n            var kf = kfs[firstOrLast ? 0 : kfs.length - 1];\n            if (kf) {\n                target[propName] = cloneValue(kf.rawValue);\n            }\n        }\n    };\n    Animator.prototype.__changeFinalValue = function (finalProps, trackKeys) {\n        trackKeys = trackKeys || keys(finalProps);\n        for (var i = 0; i < trackKeys.length; i++) {\n            var propName = trackKeys[i];\n            var track = this._tracks[propName];\n            if (!track) {\n                continue;\n            }\n            var kfs = track.keyframes;\n            if (kfs.length > 1) {\n                var lastKf = kfs.pop();\n                track.addKeyframe(lastKf.time, finalProps[propName]);\n                track.prepare(this._maxTime, track.getAdditiveTrack());\n            }\n        }\n    };\n    return Animator;\n}());\nexport default Animator;\n","import { __extends } from \"tslib\";\nimport Eventful from '../core/Eventful.js';\nimport requestAnimationFrame from './requestAnimationFrame.js';\nimport Animator from './Animator.js';\nexport function getTime() {\n    return new Date().getTime();\n}\nvar Animation = (function (_super) {\n    __extends(Animation, _super);\n    function Animation(opts) {\n        var _this = _super.call(this) || this;\n        _this._running = false;\n        _this._time = 0;\n        _this._pausedTime = 0;\n        _this._pauseStart = 0;\n        _this._paused = false;\n        opts = opts || {};\n        _this.stage = opts.stage || {};\n        return _this;\n    }\n    Animation.prototype.addClip = function (clip) {\n        if (clip.animation) {\n            this.removeClip(clip);\n        }\n        if (!this._head) {\n            this._head = this._tail = clip;\n        }\n        else {\n            this._tail.next = clip;\n            clip.prev = this._tail;\n            clip.next = null;\n            this._tail = clip;\n        }\n        clip.animation = this;\n    };\n    Animation.prototype.addAnimator = function (animator) {\n        animator.animation = this;\n        var clip = animator.getClip();\n        if (clip) {\n            this.addClip(clip);\n        }\n    };\n    Animation.prototype.removeClip = function (clip) {\n        if (!clip.animation) {\n            return;\n        }\n        var prev = clip.prev;\n        var next = clip.next;\n        if (prev) {\n            prev.next = next;\n        }\n        else {\n            this._head = next;\n        }\n        if (next) {\n            next.prev = prev;\n        }\n        else {\n            this._tail = prev;\n        }\n        clip.next = clip.prev = clip.animation = null;\n    };\n    Animation.prototype.removeAnimator = function (animator) {\n        var clip = animator.getClip();\n        if (clip) {\n            this.removeClip(clip);\n        }\n        animator.animation = null;\n    };\n    Animation.prototype.update = function (notTriggerFrameAndStageUpdate) {\n        var time = getTime() - this._pausedTime;\n        var delta = time - this._time;\n        var clip = this._head;\n        while (clip) {\n            var nextClip = clip.next;\n            var finished = clip.step(time, delta);\n            if (finished) {\n                clip.ondestroy();\n                this.removeClip(clip);\n                clip = nextClip;\n            }\n            else {\n                clip = nextClip;\n            }\n        }\n        this._time = time;\n        if (!notTriggerFrameAndStageUpdate) {\n            this.trigger('frame', delta);\n            this.stage.update && this.stage.update();\n        }\n    };\n    Animation.prototype._startLoop = function () {\n        var self = this;\n        this._running = true;\n        function step() {\n            if (self._running) {\n                requestAnimationFrame(step);\n                !self._paused && self.update();\n            }\n        }\n        requestAnimationFrame(step);\n    };\n    Animation.prototype.start = function () {\n        if (this._running) {\n            return;\n        }\n        this._time = getTime();\n        this._pausedTime = 0;\n        this._startLoop();\n    };\n    Animation.prototype.stop = function () {\n        this._running = false;\n    };\n    Animation.prototype.pause = function () {\n        if (!this._paused) {\n            this._pauseStart = getTime();\n            this._paused = true;\n        }\n    };\n    Animation.prototype.resume = function () {\n        if (this._paused) {\n            this._pausedTime += getTime() - this._pauseStart;\n            this._paused = false;\n        }\n    };\n    Animation.prototype.clear = function () {\n        var clip = this._head;\n        while (clip) {\n            var nextClip = clip.next;\n            clip.prev = clip.next = clip.animation = null;\n            clip = nextClip;\n        }\n        this._head = this._tail = null;\n    };\n    Animation.prototype.isFinished = function () {\n        return this._head == null;\n    };\n    Animation.prototype.animate = function (target, options) {\n        options = options || {};\n        this.start();\n        var animator = new Animator(target, options.loop);\n        this.addAnimator(animator);\n        return animator;\n    };\n    return Animation;\n}(Eventful));\nexport default Animation;\n","import { __extends } from \"tslib\";\nimport { addEventListener, removeEventListener, normalizeEvent, getNativeEvent } from '../core/event.js';\nimport * as zrUtil from '../core/util.js';\nimport Eventful from '../core/Eventful.js';\nimport env from '../core/env.js';\nvar TOUCH_CLICK_DELAY = 300;\nvar globalEventSupported = env.domSupported;\nvar localNativeListenerNames = (function () {\n    var mouseHandlerNames = [\n        'click', 'dblclick', 'mousewheel', 'wheel', 'mouseout',\n        'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n    ];\n    var touchHandlerNames = [\n        'touchstart', 'touchend', 'touchmove'\n    ];\n    var pointerEventNameMap = {\n        pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1\n    };\n    var pointerHandlerNames = zrUtil.map(mouseHandlerNames, function (name) {\n        var nm = name.replace('mouse', 'pointer');\n        return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\n    });\n    return {\n        mouse: mouseHandlerNames,\n        touch: touchHandlerNames,\n        pointer: pointerHandlerNames\n    };\n})();\nvar globalNativeListenerNames = {\n    mouse: ['mousemove', 'mouseup'],\n    pointer: ['pointermove', 'pointerup']\n};\nvar wheelEventSupported = false;\nfunction isPointerFromTouch(event) {\n    var pointerType = event.pointerType;\n    return pointerType === 'pen' || pointerType === 'touch';\n}\nfunction setTouchTimer(scope) {\n    scope.touching = true;\n    if (scope.touchTimer != null) {\n        clearTimeout(scope.touchTimer);\n        scope.touchTimer = null;\n    }\n    scope.touchTimer = setTimeout(function () {\n        scope.touching = false;\n        scope.touchTimer = null;\n    }, 700);\n}\nfunction markTouch(event) {\n    event && (event.zrByTouch = true);\n}\nfunction normalizeGlobalEvent(instance, event) {\n    return normalizeEvent(instance.dom, new FakeGlobalEvent(instance, event), true);\n}\nfunction isLocalEl(instance, el) {\n    var elTmp = el;\n    var isLocal = false;\n    while (elTmp && elTmp.nodeType !== 9\n        && !(isLocal = elTmp.domBelongToZr\n            || (elTmp !== el && elTmp === instance.painterRoot))) {\n        elTmp = elTmp.parentNode;\n    }\n    return isLocal;\n}\nvar FakeGlobalEvent = (function () {\n    function FakeGlobalEvent(instance, event) {\n        this.stopPropagation = zrUtil.noop;\n        this.stopImmediatePropagation = zrUtil.noop;\n        this.preventDefault = zrUtil.noop;\n        this.type = event.type;\n        this.target = this.currentTarget = instance.dom;\n        this.pointerType = event.pointerType;\n        this.clientX = event.clientX;\n        this.clientY = event.clientY;\n    }\n    return FakeGlobalEvent;\n}());\nvar localDOMHandlers = {\n    mousedown: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__mayPointerCapture = [event.zrX, event.zrY];\n        this.trigger('mousedown', event);\n    },\n    mousemove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var downPoint = this.__mayPointerCapture;\n        if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\n            this.__togglePointerCapture(true);\n        }\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n    },\n    mouseout: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var element = event.toElement || event.relatedTarget;\n        if (!isLocalEl(this, element)) {\n            if (this.__pointerCapturing) {\n                event.zrEventControl = 'no_globalout';\n            }\n            this.trigger('mouseout', event);\n        }\n    },\n    wheel: function (event) {\n        wheelEventSupported = true;\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    mousewheel: function (event) {\n        if (wheelEventSupported) {\n            return;\n        }\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    touchstart: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.__lastTouchMoment = new Date();\n        this.handler.processGesture(event, 'start');\n        localDOMHandlers.mousemove.call(this, event);\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    touchmove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'change');\n        localDOMHandlers.mousemove.call(this, event);\n    },\n    touchend: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'end');\n        localDOMHandlers.mouseup.call(this, event);\n        if (+new Date() - (+this.__lastTouchMoment) < TOUCH_CLICK_DELAY) {\n            localDOMHandlers.click.call(this, event);\n        }\n    },\n    pointerdown: function (event) {\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        localDOMHandlers.mouseup.call(this, event);\n    },\n    pointerout: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mouseout.call(this, event);\n        }\n    }\n};\nzrUtil.each(['click', 'dblclick', 'contextmenu'], function (name) {\n    localDOMHandlers[name] = function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.trigger(name, event);\n    };\n});\nvar globalDOMHandlers = {\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            globalDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        globalDOMHandlers.mouseup.call(this, event);\n    },\n    mousemove: function (event) {\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        var pointerCaptureReleasing = this.__pointerCapturing;\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n        if (pointerCaptureReleasing) {\n            event.zrEventControl = 'only_globalout';\n            this.trigger('mouseout', event);\n        }\n    }\n};\nfunction mountLocalDOMEventListeners(instance, scope) {\n    var domHandlers = scope.domHandlers;\n    if (env.pointerEventsSupported) {\n        zrUtil.each(localNativeListenerNames.pointer, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                domHandlers[nativeEventName].call(instance, event);\n            });\n        });\n    }\n    else {\n        if (env.touchEventsSupported) {\n            zrUtil.each(localNativeListenerNames.touch, function (nativeEventName) {\n                mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                    domHandlers[nativeEventName].call(instance, event);\n                    setTouchTimer(scope);\n                });\n            });\n        }\n        zrUtil.each(localNativeListenerNames.mouse, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                event = getNativeEvent(event);\n                if (!scope.touching) {\n                    domHandlers[nativeEventName].call(instance, event);\n                }\n            });\n        });\n    }\n}\nfunction mountGlobalDOMEventListeners(instance, scope) {\n    if (env.pointerEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.pointer, mount);\n    }\n    else if (!env.touchEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.mouse, mount);\n    }\n    function mount(nativeEventName) {\n        function nativeEventListener(event) {\n            event = getNativeEvent(event);\n            if (!isLocalEl(instance, event.target)) {\n                event = normalizeGlobalEvent(instance, event);\n                scope.domHandlers[nativeEventName].call(instance, event);\n            }\n        }\n        mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, { capture: true });\n    }\n}\nfunction mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\n    scope.mounted[nativeEventName] = listener;\n    scope.listenerOpts[nativeEventName] = opt;\n    addEventListener(scope.domTarget, nativeEventName, listener, opt);\n}\nfunction unmountDOMEventListeners(scope) {\n    var mounted = scope.mounted;\n    for (var nativeEventName in mounted) {\n        if (mounted.hasOwnProperty(nativeEventName)) {\n            removeEventListener(scope.domTarget, nativeEventName, mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\n        }\n    }\n    scope.mounted = {};\n}\nvar DOMHandlerScope = (function () {\n    function DOMHandlerScope(domTarget, domHandlers) {\n        this.mounted = {};\n        this.listenerOpts = {};\n        this.touching = false;\n        this.domTarget = domTarget;\n        this.domHandlers = domHandlers;\n    }\n    return DOMHandlerScope;\n}());\nvar HandlerDomProxy = (function (_super) {\n    __extends(HandlerDomProxy, _super);\n    function HandlerDomProxy(dom, painterRoot) {\n        var _this = _super.call(this) || this;\n        _this.__pointerCapturing = false;\n        _this.dom = dom;\n        _this.painterRoot = painterRoot;\n        _this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\n        if (globalEventSupported) {\n            _this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\n        }\n        mountLocalDOMEventListeners(_this, _this._localHandlerScope);\n        return _this;\n    }\n    HandlerDomProxy.prototype.dispose = function () {\n        unmountDOMEventListeners(this._localHandlerScope);\n        if (globalEventSupported) {\n            unmountDOMEventListeners(this._globalHandlerScope);\n        }\n    };\n    HandlerDomProxy.prototype.setCursor = function (cursorStyle) {\n        this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n    };\n    HandlerDomProxy.prototype.__togglePointerCapture = function (isPointerCapturing) {\n        this.__mayPointerCapture = null;\n        if (globalEventSupported\n            && ((+this.__pointerCapturing) ^ (+isPointerCapturing))) {\n            this.__pointerCapturing = isPointerCapturing;\n            var globalHandlerScope = this._globalHandlerScope;\n            isPointerCapturing\n                ? mountGlobalDOMEventListeners(this, globalHandlerScope)\n                : unmountDOMEventListeners(globalHandlerScope);\n        }\n    };\n    return HandlerDomProxy;\n}(Eventful));\nexport default HandlerDomProxy;\n","import env from './core/env.js';\nvar dpr = 1;\nif (env.hasGlobalWindow) {\n    dpr = Math.max(window.devicePixelRatio\n        || (window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI)\n        || 1, 1);\n}\nexport var debugMode = 0;\nexport var devicePixelRatio = dpr;\nexport var DARK_MODE_THRESHOLD = 0.4;\nexport var DARK_LABEL_COLOR = '#333';\nexport var LIGHT_LABEL_COLOR = '#ccc';\nexport var LIGHTER_LABEL_COLOR = '#eee';\n","import * as matrix from './matrix.js';\nimport * as vector from './vector.js';\nvar mIdentity = matrix.identity;\nvar EPSILON = 5e-5;\nfunction isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n}\nvar scaleTmp = [];\nvar tmpTransform = [];\nvar originTransform = matrix.create();\nvar abs = Math.abs;\nvar Transformable = (function () {\n    function Transformable() {\n    }\n    Transformable.prototype.getLocalTransform = function (m) {\n        return Transformable.getLocalTransform(this, m);\n    };\n    Transformable.prototype.setPosition = function (arr) {\n        this.x = arr[0];\n        this.y = arr[1];\n    };\n    Transformable.prototype.setScale = function (arr) {\n        this.scaleX = arr[0];\n        this.scaleY = arr[1];\n    };\n    Transformable.prototype.setSkew = function (arr) {\n        this.skewX = arr[0];\n        this.skewY = arr[1];\n    };\n    Transformable.prototype.setOrigin = function (arr) {\n        this.originX = arr[0];\n        this.originY = arr[1];\n    };\n    Transformable.prototype.needLocalTransform = function () {\n        return isNotAroundZero(this.rotation)\n            || isNotAroundZero(this.x)\n            || isNotAroundZero(this.y)\n            || isNotAroundZero(this.scaleX - 1)\n            || isNotAroundZero(this.scaleY - 1)\n            || isNotAroundZero(this.skewX)\n            || isNotAroundZero(this.skewY);\n    };\n    Transformable.prototype.updateTransform = function () {\n        var parentTransform = this.parent && this.parent.transform;\n        var needLocalTransform = this.needLocalTransform();\n        var m = this.transform;\n        if (!(needLocalTransform || parentTransform)) {\n            if (m) {\n                mIdentity(m);\n                this.invTransform = null;\n            }\n            return;\n        }\n        m = m || matrix.create();\n        if (needLocalTransform) {\n            this.getLocalTransform(m);\n        }\n        else {\n            mIdentity(m);\n        }\n        if (parentTransform) {\n            if (needLocalTransform) {\n                matrix.mul(m, parentTransform, m);\n            }\n            else {\n                matrix.copy(m, parentTransform);\n            }\n        }\n        this.transform = m;\n        this._resolveGlobalScaleRatio(m);\n    };\n    Transformable.prototype._resolveGlobalScaleRatio = function (m) {\n        var globalScaleRatio = this.globalScaleRatio;\n        if (globalScaleRatio != null && globalScaleRatio !== 1) {\n            this.getGlobalScale(scaleTmp);\n            var relX = scaleTmp[0] < 0 ? -1 : 1;\n            var relY = scaleTmp[1] < 0 ? -1 : 1;\n            var sx = ((scaleTmp[0] - relX) * globalScaleRatio + relX) / scaleTmp[0] || 0;\n            var sy = ((scaleTmp[1] - relY) * globalScaleRatio + relY) / scaleTmp[1] || 0;\n            m[0] *= sx;\n            m[1] *= sx;\n            m[2] *= sy;\n            m[3] *= sy;\n        }\n        this.invTransform = this.invTransform || matrix.create();\n        matrix.invert(this.invTransform, m);\n    };\n    Transformable.prototype.getComputedTransform = function () {\n        var transformNode = this;\n        var ancestors = [];\n        while (transformNode) {\n            ancestors.push(transformNode);\n            transformNode = transformNode.parent;\n        }\n        while (transformNode = ancestors.pop()) {\n            transformNode.updateTransform();\n        }\n        return this.transform;\n    };\n    Transformable.prototype.setLocalTransform = function (m) {\n        if (!m) {\n            return;\n        }\n        var sx = m[0] * m[0] + m[1] * m[1];\n        var sy = m[2] * m[2] + m[3] * m[3];\n        var rotation = Math.atan2(m[1], m[0]);\n        var shearX = Math.PI / 2 + rotation - Math.atan2(m[3], m[2]);\n        sy = Math.sqrt(sy) * Math.cos(shearX);\n        sx = Math.sqrt(sx);\n        this.skewX = shearX;\n        this.skewY = 0;\n        this.rotation = -rotation;\n        this.x = +m[4];\n        this.y = +m[5];\n        this.scaleX = sx;\n        this.scaleY = sy;\n        this.originX = 0;\n        this.originY = 0;\n    };\n    Transformable.prototype.decomposeTransform = function () {\n        if (!this.transform) {\n            return;\n        }\n        var parent = this.parent;\n        var m = this.transform;\n        if (parent && parent.transform) {\n            parent.invTransform = parent.invTransform || matrix.create();\n            matrix.mul(tmpTransform, parent.invTransform, m);\n            m = tmpTransform;\n        }\n        var ox = this.originX;\n        var oy = this.originY;\n        if (ox || oy) {\n            originTransform[4] = ox;\n            originTransform[5] = oy;\n            matrix.mul(tmpTransform, m, originTransform);\n            tmpTransform[4] -= ox;\n            tmpTransform[5] -= oy;\n            m = tmpTransform;\n        }\n        this.setLocalTransform(m);\n    };\n    Transformable.prototype.getGlobalScale = function (out) {\n        var m = this.transform;\n        out = out || [];\n        if (!m) {\n            out[0] = 1;\n            out[1] = 1;\n            return out;\n        }\n        out[0] = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n        out[1] = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n        if (m[0] < 0) {\n            out[0] = -out[0];\n        }\n        if (m[3] < 0) {\n            out[1] = -out[1];\n        }\n        return out;\n    };\n    Transformable.prototype.transformCoordToLocal = function (x, y) {\n        var v2 = [x, y];\n        var invTransform = this.invTransform;\n        if (invTransform) {\n            vector.applyTransform(v2, v2, invTransform);\n        }\n        return v2;\n    };\n    Transformable.prototype.transformCoordToGlobal = function (x, y) {\n        var v2 = [x, y];\n        var transform = this.transform;\n        if (transform) {\n            vector.applyTransform(v2, v2, transform);\n        }\n        return v2;\n    };\n    Transformable.prototype.getLineScale = function () {\n        var m = this.transform;\n        return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10\n            ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1]))\n            : 1;\n    };\n    Transformable.prototype.copyTransform = function (source) {\n        copyTransform(this, source);\n    };\n    Transformable.getLocalTransform = function (target, m) {\n        m = m || [];\n        var ox = target.originX || 0;\n        var oy = target.originY || 0;\n        var sx = target.scaleX;\n        var sy = target.scaleY;\n        var ax = target.anchorX;\n        var ay = target.anchorY;\n        var rotation = target.rotation || 0;\n        var x = target.x;\n        var y = target.y;\n        var skewX = target.skewX ? Math.tan(target.skewX) : 0;\n        var skewY = target.skewY ? Math.tan(-target.skewY) : 0;\n        if (ox || oy || ax || ay) {\n            var dx = ox + ax;\n            var dy = oy + ay;\n            m[4] = -dx * sx - skewX * dy * sy;\n            m[5] = -dy * sy - skewY * dx * sx;\n        }\n        else {\n            m[4] = m[5] = 0;\n        }\n        m[0] = sx;\n        m[3] = sy;\n        m[1] = skewY * sx;\n        m[2] = skewX * sy;\n        rotation && matrix.rotate(m, m, rotation);\n        m[4] += ox + x;\n        m[5] += oy + y;\n        return m;\n    };\n    Transformable.initDefaultProps = (function () {\n        var proto = Transformable.prototype;\n        proto.scaleX =\n            proto.scaleY =\n                proto.globalScaleRatio = 1;\n        proto.x =\n            proto.y =\n                proto.originX =\n                    proto.originY =\n                        proto.skewX =\n                            proto.skewY =\n                                proto.rotation =\n                                    proto.anchorX =\n                                        proto.anchorY = 0;\n    })();\n    return Transformable;\n}());\n;\nexport var TRANSFORMABLE_PROPS = [\n    'x', 'y', 'originX', 'originY', 'anchorX', 'anchorY', 'rotation', 'scaleX', 'scaleY', 'skewX', 'skewY'\n];\nexport function copyTransform(target, source) {\n    for (var i = 0; i < TRANSFORMABLE_PROPS.length; i++) {\n        var propName = TRANSFORMABLE_PROPS[i];\n        target[propName] = source[propName];\n    }\n}\nexport default Transformable;\n","import BoundingRect from '../core/BoundingRect.js';\nimport LRU from '../core/LRU.js';\nimport { DEFAULT_FONT, platformApi } from '../core/platform.js';\nvar textWidthCache = {};\nexport function getWidth(text, font) {\n    font = font || DEFAULT_FONT;\n    var cacheOfFont = textWidthCache[font];\n    if (!cacheOfFont) {\n        cacheOfFont = textWidthCache[font] = new LRU(500);\n    }\n    var width = cacheOfFont.get(text);\n    if (width == null) {\n        width = platformApi.measureText(text, font).width;\n        cacheOfFont.put(text, width);\n    }\n    return width;\n}\nexport function innerGetBoundingRect(text, font, textAlign, textBaseline) {\n    var width = getWidth(text, font);\n    var height = getLineHeight(font);\n    var x = adjustTextX(0, width, textAlign);\n    var y = adjustTextY(0, height, textBaseline);\n    var rect = new BoundingRect(x, y, width, height);\n    return rect;\n}\nexport function getBoundingRect(text, font, textAlign, textBaseline) {\n    var textLines = ((text || '') + '').split('\\n');\n    var len = textLines.length;\n    if (len === 1) {\n        return innerGetBoundingRect(textLines[0], font, textAlign, textBaseline);\n    }\n    else {\n        var uniondRect = new BoundingRect(0, 0, 0, 0);\n        for (var i = 0; i < textLines.length; i++) {\n            var rect = innerGetBoundingRect(textLines[i], font, textAlign, textBaseline);\n            i === 0 ? uniondRect.copy(rect) : uniondRect.union(rect);\n        }\n        return uniondRect;\n    }\n}\nexport function adjustTextX(x, width, textAlign) {\n    if (textAlign === 'right') {\n        x -= width;\n    }\n    else if (textAlign === 'center') {\n        x -= width / 2;\n    }\n    return x;\n}\nexport function adjustTextY(y, height, verticalAlign) {\n    if (verticalAlign === 'middle') {\n        y -= height / 2;\n    }\n    else if (verticalAlign === 'bottom') {\n        y -= height;\n    }\n    return y;\n}\nexport function getLineHeight(font) {\n    return getWidth('', font);\n}\nexport function measureText(text, font) {\n    return platformApi.measureText(text, font);\n}\nexport function parsePercent(value, maxValue) {\n    if (typeof value === 'string') {\n        if (value.lastIndexOf('%') >= 0) {\n            return parseFloat(value) / 100 * maxValue;\n        }\n        return parseFloat(value);\n    }\n    return value;\n}\nexport function calculateTextPosition(out, opts, rect) {\n    var textPosition = opts.position || 'inside';\n    var distance = opts.distance != null ? opts.distance : 5;\n    var height = rect.height;\n    var width = rect.width;\n    var halfHeight = height / 2;\n    var x = rect.x;\n    var y = rect.y;\n    var textAlign = 'left';\n    var textVerticalAlign = 'top';\n    if (textPosition instanceof Array) {\n        x += parsePercent(textPosition[0], rect.width);\n        y += parsePercent(textPosition[1], rect.height);\n        textAlign = null;\n        textVerticalAlign = null;\n    }\n    else {\n        switch (textPosition) {\n            case 'left':\n                x -= distance;\n                y += halfHeight;\n                textAlign = 'right';\n                textVerticalAlign = 'middle';\n                break;\n            case 'right':\n                x += distance + width;\n                y += halfHeight;\n                textVerticalAlign = 'middle';\n                break;\n            case 'top':\n                x += width / 2;\n                y -= distance;\n                textAlign = 'center';\n                textVerticalAlign = 'bottom';\n                break;\n            case 'bottom':\n                x += width / 2;\n                y += height + distance;\n                textAlign = 'center';\n                break;\n            case 'inside':\n                x += width / 2;\n                y += halfHeight;\n                textAlign = 'center';\n                textVerticalAlign = 'middle';\n                break;\n            case 'insideLeft':\n                x += distance;\n                y += halfHeight;\n                textVerticalAlign = 'middle';\n                break;\n            case 'insideRight':\n                x += width - distance;\n                y += halfHeight;\n                textAlign = 'right';\n                textVerticalAlign = 'middle';\n                break;\n            case 'insideTop':\n                x += width / 2;\n                y += distance;\n                textAlign = 'center';\n                break;\n            case 'insideBottom':\n                x += width / 2;\n                y += height - distance;\n                textAlign = 'center';\n                textVerticalAlign = 'bottom';\n                break;\n            case 'insideTopLeft':\n                x += distance;\n                y += distance;\n                break;\n            case 'insideTopRight':\n                x += width - distance;\n                y += distance;\n                textAlign = 'right';\n                break;\n            case 'insideBottomLeft':\n                x += distance;\n                y += height - distance;\n                textVerticalAlign = 'bottom';\n                break;\n            case 'insideBottomRight':\n                x += width - distance;\n                y += height - distance;\n                textAlign = 'right';\n                textVerticalAlign = 'bottom';\n                break;\n        }\n    }\n    out = out || {};\n    out.x = x;\n    out.y = y;\n    out.align = textAlign;\n    out.verticalAlign = textVerticalAlign;\n    return out;\n}\n","import Transformable, { TRANSFORMABLE_PROPS } from './core/Transformable.js';\nimport Animator, { cloneValue } from './animation/Animator.js';\nimport BoundingRect from './core/BoundingRect.js';\nimport Eventful from './core/Eventful.js';\nimport { calculateTextPosition, parsePercent } from './contain/text.js';\nimport { guid, isObject, keys, extend, indexOf, logError, mixin, isArrayLike, isTypedArray, isGradientObject, filter, reduce } from './core/util.js';\nimport { LIGHT_LABEL_COLOR, DARK_LABEL_COLOR } from './config.js';\nimport { parse, stringify } from './tool/color.js';\nimport { REDRAW_BIT } from './graphic/constants.js';\nexport var PRESERVED_NORMAL_STATE = '__zr_normal__';\nvar PRIMARY_STATES_KEYS = TRANSFORMABLE_PROPS.concat(['ignore']);\nvar DEFAULT_ANIMATABLE_MAP = reduce(TRANSFORMABLE_PROPS, function (obj, key) {\n    obj[key] = true;\n    return obj;\n}, { ignore: false });\nvar tmpTextPosCalcRes = {};\nvar tmpBoundingRect = new BoundingRect(0, 0, 0, 0);\nvar Element = (function () {\n    function Element(props) {\n        this.id = guid();\n        this.animators = [];\n        this.currentStates = [];\n        this.states = {};\n        this._init(props);\n    }\n    Element.prototype._init = function (props) {\n        this.attr(props);\n    };\n    Element.prototype.drift = function (dx, dy, e) {\n        switch (this.draggable) {\n            case 'horizontal':\n                dy = 0;\n                break;\n            case 'vertical':\n                dx = 0;\n                break;\n        }\n        var m = this.transform;\n        if (!m) {\n            m = this.transform = [1, 0, 0, 1, 0, 0];\n        }\n        m[4] += dx;\n        m[5] += dy;\n        this.decomposeTransform();\n        this.markRedraw();\n    };\n    Element.prototype.beforeUpdate = function () { };\n    Element.prototype.afterUpdate = function () { };\n    Element.prototype.update = function () {\n        this.updateTransform();\n        if (this.__dirty) {\n            this.updateInnerText();\n        }\n    };\n    Element.prototype.updateInnerText = function (forceUpdate) {\n        var textEl = this._textContent;\n        if (textEl && (!textEl.ignore || forceUpdate)) {\n            if (!this.textConfig) {\n                this.textConfig = {};\n            }\n            var textConfig = this.textConfig;\n            var isLocal = textConfig.local;\n            var innerTransformable = textEl.innerTransformable;\n            var textAlign = void 0;\n            var textVerticalAlign = void 0;\n            var textStyleChanged = false;\n            innerTransformable.parent = isLocal ? this : null;\n            var innerOrigin = false;\n            innerTransformable.copyTransform(textEl);\n            if (textConfig.position != null) {\n                var layoutRect = tmpBoundingRect;\n                if (textConfig.layoutRect) {\n                    layoutRect.copy(textConfig.layoutRect);\n                }\n                else {\n                    layoutRect.copy(this.getBoundingRect());\n                }\n                if (!isLocal) {\n                    layoutRect.applyTransform(this.transform);\n                }\n                if (this.calculateTextPosition) {\n                    this.calculateTextPosition(tmpTextPosCalcRes, textConfig, layoutRect);\n                }\n                else {\n                    calculateTextPosition(tmpTextPosCalcRes, textConfig, layoutRect);\n                }\n                innerTransformable.x = tmpTextPosCalcRes.x;\n                innerTransformable.y = tmpTextPosCalcRes.y;\n                textAlign = tmpTextPosCalcRes.align;\n                textVerticalAlign = tmpTextPosCalcRes.verticalAlign;\n                var textOrigin = textConfig.origin;\n                if (textOrigin && textConfig.rotation != null) {\n                    var relOriginX = void 0;\n                    var relOriginY = void 0;\n                    if (textOrigin === 'center') {\n                        relOriginX = layoutRect.width * 0.5;\n                        relOriginY = layoutRect.height * 0.5;\n                    }\n                    else {\n                        relOriginX = parsePercent(textOrigin[0], layoutRect.width);\n                        relOriginY = parsePercent(textOrigin[1], layoutRect.height);\n                    }\n                    innerOrigin = true;\n                    innerTransformable.originX = -innerTransformable.x + relOriginX + (isLocal ? 0 : layoutRect.x);\n                    innerTransformable.originY = -innerTransformable.y + relOriginY + (isLocal ? 0 : layoutRect.y);\n                }\n            }\n            if (textConfig.rotation != null) {\n                innerTransformable.rotation = textConfig.rotation;\n            }\n            var textOffset = textConfig.offset;\n            if (textOffset) {\n                innerTransformable.x += textOffset[0];\n                innerTransformable.y += textOffset[1];\n                if (!innerOrigin) {\n                    innerTransformable.originX = -textOffset[0];\n                    innerTransformable.originY = -textOffset[1];\n                }\n            }\n            var isInside = textConfig.inside == null\n                ? (typeof textConfig.position === 'string' && textConfig.position.indexOf('inside') >= 0)\n                : textConfig.inside;\n            var innerTextDefaultStyle = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {});\n            var textFill = void 0;\n            var textStroke = void 0;\n            var autoStroke = void 0;\n            if (isInside && this.canBeInsideText()) {\n                textFill = textConfig.insideFill;\n                textStroke = textConfig.insideStroke;\n                if (textFill == null || textFill === 'auto') {\n                    textFill = this.getInsideTextFill();\n                }\n                if (textStroke == null || textStroke === 'auto') {\n                    textStroke = this.getInsideTextStroke(textFill);\n                    autoStroke = true;\n                }\n            }\n            else {\n                textFill = textConfig.outsideFill;\n                textStroke = textConfig.outsideStroke;\n                if (textFill == null || textFill === 'auto') {\n                    textFill = this.getOutsideFill();\n                }\n                if (textStroke == null || textStroke === 'auto') {\n                    textStroke = this.getOutsideStroke(textFill);\n                    autoStroke = true;\n                }\n            }\n            textFill = textFill || '#000';\n            if (textFill !== innerTextDefaultStyle.fill\n                || textStroke !== innerTextDefaultStyle.stroke\n                || autoStroke !== innerTextDefaultStyle.autoStroke\n                || textAlign !== innerTextDefaultStyle.align\n                || textVerticalAlign !== innerTextDefaultStyle.verticalAlign) {\n                textStyleChanged = true;\n                innerTextDefaultStyle.fill = textFill;\n                innerTextDefaultStyle.stroke = textStroke;\n                innerTextDefaultStyle.autoStroke = autoStroke;\n                innerTextDefaultStyle.align = textAlign;\n                innerTextDefaultStyle.verticalAlign = textVerticalAlign;\n                textEl.setDefaultTextStyle(innerTextDefaultStyle);\n            }\n            textEl.__dirty |= REDRAW_BIT;\n            if (textStyleChanged) {\n                textEl.dirtyStyle(true);\n            }\n        }\n    };\n    Element.prototype.canBeInsideText = function () {\n        return true;\n    };\n    Element.prototype.getInsideTextFill = function () {\n        return '#fff';\n    };\n    Element.prototype.getInsideTextStroke = function (textFill) {\n        return '#000';\n    };\n    Element.prototype.getOutsideFill = function () {\n        return this.__zr && this.__zr.isDarkMode() ? LIGHT_LABEL_COLOR : DARK_LABEL_COLOR;\n    };\n    Element.prototype.getOutsideStroke = function (textFill) {\n        var backgroundColor = this.__zr && this.__zr.getBackgroundColor();\n        var colorArr = typeof backgroundColor === 'string' && parse(backgroundColor);\n        if (!colorArr) {\n            colorArr = [255, 255, 255, 1];\n        }\n        var alpha = colorArr[3];\n        var isDark = this.__zr.isDarkMode();\n        for (var i = 0; i < 3; i++) {\n            colorArr[i] = colorArr[i] * alpha + (isDark ? 0 : 255) * (1 - alpha);\n        }\n        colorArr[3] = 1;\n        return stringify(colorArr, 'rgba');\n    };\n    Element.prototype.traverse = function (cb, context) { };\n    Element.prototype.attrKV = function (key, value) {\n        if (key === 'textConfig') {\n            this.setTextConfig(value);\n        }\n        else if (key === 'textContent') {\n            this.setTextContent(value);\n        }\n        else if (key === 'clipPath') {\n            this.setClipPath(value);\n        }\n        else if (key === 'extra') {\n            this.extra = this.extra || {};\n            extend(this.extra, value);\n        }\n        else {\n            this[key] = value;\n        }\n    };\n    Element.prototype.hide = function () {\n        this.ignore = true;\n        this.markRedraw();\n    };\n    Element.prototype.show = function () {\n        this.ignore = false;\n        this.markRedraw();\n    };\n    Element.prototype.attr = function (keyOrObj, value) {\n        if (typeof keyOrObj === 'string') {\n            this.attrKV(keyOrObj, value);\n        }\n        else if (isObject(keyOrObj)) {\n            var obj = keyOrObj;\n            var keysArr = keys(obj);\n            for (var i = 0; i < keysArr.length; i++) {\n                var key = keysArr[i];\n                this.attrKV(key, keyOrObj[key]);\n            }\n        }\n        this.markRedraw();\n        return this;\n    };\n    Element.prototype.saveCurrentToNormalState = function (toState) {\n        this._innerSaveToNormal(toState);\n        var normalState = this._normalState;\n        for (var i = 0; i < this.animators.length; i++) {\n            var animator = this.animators[i];\n            var fromStateTransition = animator.__fromStateTransition;\n            if (animator.getLoop() || fromStateTransition && fromStateTransition !== PRESERVED_NORMAL_STATE) {\n                continue;\n            }\n            var targetName = animator.targetName;\n            var target = targetName\n                ? normalState[targetName] : normalState;\n            animator.saveTo(target);\n        }\n    };\n    Element.prototype._innerSaveToNormal = function (toState) {\n        var normalState = this._normalState;\n        if (!normalState) {\n            normalState = this._normalState = {};\n        }\n        if (toState.textConfig && !normalState.textConfig) {\n            normalState.textConfig = this.textConfig;\n        }\n        this._savePrimaryToNormal(toState, normalState, PRIMARY_STATES_KEYS);\n    };\n    Element.prototype._savePrimaryToNormal = function (toState, normalState, primaryKeys) {\n        for (var i = 0; i < primaryKeys.length; i++) {\n            var key = primaryKeys[i];\n            if (toState[key] != null && !(key in normalState)) {\n                normalState[key] = this[key];\n            }\n        }\n    };\n    Element.prototype.hasState = function () {\n        return this.currentStates.length > 0;\n    };\n    Element.prototype.getState = function (name) {\n        return this.states[name];\n    };\n    Element.prototype.ensureState = function (name) {\n        var states = this.states;\n        if (!states[name]) {\n            states[name] = {};\n        }\n        return states[name];\n    };\n    Element.prototype.clearStates = function (noAnimation) {\n        this.useState(PRESERVED_NORMAL_STATE, false, noAnimation);\n    };\n    Element.prototype.useState = function (stateName, keepCurrentStates, noAnimation, forceUseHoverLayer) {\n        var toNormalState = stateName === PRESERVED_NORMAL_STATE;\n        var hasStates = this.hasState();\n        if (!hasStates && toNormalState) {\n            return;\n        }\n        var currentStates = this.currentStates;\n        var animationCfg = this.stateTransition;\n        if (indexOf(currentStates, stateName) >= 0 && (keepCurrentStates || currentStates.length === 1)) {\n            return;\n        }\n        var state;\n        if (this.stateProxy && !toNormalState) {\n            state = this.stateProxy(stateName);\n        }\n        if (!state) {\n            state = (this.states && this.states[stateName]);\n        }\n        if (!state && !toNormalState) {\n            logError(\"State \" + stateName + \" not exists.\");\n            return;\n        }\n        if (!toNormalState) {\n            this.saveCurrentToNormalState(state);\n        }\n        var useHoverLayer = !!((state && state.hoverLayer) || forceUseHoverLayer);\n        if (useHoverLayer) {\n            this._toggleHoverLayerFlag(true);\n        }\n        this._applyStateObj(stateName, state, this._normalState, keepCurrentStates, !noAnimation && !this.__inHover && animationCfg && animationCfg.duration > 0, animationCfg);\n        var textContent = this._textContent;\n        var textGuide = this._textGuide;\n        if (textContent) {\n            textContent.useState(stateName, keepCurrentStates, noAnimation, useHoverLayer);\n        }\n        if (textGuide) {\n            textGuide.useState(stateName, keepCurrentStates, noAnimation, useHoverLayer);\n        }\n        if (toNormalState) {\n            this.currentStates = [];\n            this._normalState = {};\n        }\n        else {\n            if (!keepCurrentStates) {\n                this.currentStates = [stateName];\n            }\n            else {\n                this.currentStates.push(stateName);\n            }\n        }\n        this._updateAnimationTargets();\n        this.markRedraw();\n        if (!useHoverLayer && this.__inHover) {\n            this._toggleHoverLayerFlag(false);\n            this.__dirty &= ~REDRAW_BIT;\n        }\n        return state;\n    };\n    Element.prototype.useStates = function (states, noAnimation, forceUseHoverLayer) {\n        if (!states.length) {\n            this.clearStates();\n        }\n        else {\n            var stateObjects = [];\n            var currentStates = this.currentStates;\n            var len = states.length;\n            var notChange = len === currentStates.length;\n            if (notChange) {\n                for (var i = 0; i < len; i++) {\n                    if (states[i] !== currentStates[i]) {\n                        notChange = false;\n                        break;\n                    }\n                }\n            }\n            if (notChange) {\n                return;\n            }\n            for (var i = 0; i < len; i++) {\n                var stateName = states[i];\n                var stateObj = void 0;\n                if (this.stateProxy) {\n                    stateObj = this.stateProxy(stateName, states);\n                }\n                if (!stateObj) {\n                    stateObj = this.states[stateName];\n                }\n                if (stateObj) {\n                    stateObjects.push(stateObj);\n                }\n            }\n            var lastStateObj = stateObjects[len - 1];\n            var useHoverLayer = !!((lastStateObj && lastStateObj.hoverLayer) || forceUseHoverLayer);\n            if (useHoverLayer) {\n                this._toggleHoverLayerFlag(true);\n            }\n            var mergedState = this._mergeStates(stateObjects);\n            var animationCfg = this.stateTransition;\n            this.saveCurrentToNormalState(mergedState);\n            this._applyStateObj(states.join(','), mergedState, this._normalState, false, !noAnimation && !this.__inHover && animationCfg && animationCfg.duration > 0, animationCfg);\n            var textContent = this._textContent;\n            var textGuide = this._textGuide;\n            if (textContent) {\n                textContent.useStates(states, noAnimation, useHoverLayer);\n            }\n            if (textGuide) {\n                textGuide.useStates(states, noAnimation, useHoverLayer);\n            }\n            this._updateAnimationTargets();\n            this.currentStates = states.slice();\n            this.markRedraw();\n            if (!useHoverLayer && this.__inHover) {\n                this._toggleHoverLayerFlag(false);\n                this.__dirty &= ~REDRAW_BIT;\n            }\n        }\n    };\n    Element.prototype.isSilent = function () {\n        var isSilent = this.silent;\n        var ancestor = this.parent;\n        while (!isSilent && ancestor) {\n            if (ancestor.silent) {\n                isSilent = true;\n                break;\n            }\n            ancestor = ancestor.parent;\n        }\n        return isSilent;\n    };\n    Element.prototype._updateAnimationTargets = function () {\n        for (var i = 0; i < this.animators.length; i++) {\n            var animator = this.animators[i];\n            if (animator.targetName) {\n                animator.changeTarget(this[animator.targetName]);\n            }\n        }\n    };\n    Element.prototype.removeState = function (state) {\n        var idx = indexOf(this.currentStates, state);\n        if (idx >= 0) {\n            var currentStates = this.currentStates.slice();\n            currentStates.splice(idx, 1);\n            this.useStates(currentStates);\n        }\n    };\n    Element.prototype.replaceState = function (oldState, newState, forceAdd) {\n        var currentStates = this.currentStates.slice();\n        var idx = indexOf(currentStates, oldState);\n        var newStateExists = indexOf(currentStates, newState) >= 0;\n        if (idx >= 0) {\n            if (!newStateExists) {\n                currentStates[idx] = newState;\n            }\n            else {\n                currentStates.splice(idx, 1);\n            }\n        }\n        else if (forceAdd && !newStateExists) {\n            currentStates.push(newState);\n        }\n        this.useStates(currentStates);\n    };\n    Element.prototype.toggleState = function (state, enable) {\n        if (enable) {\n            this.useState(state, true);\n        }\n        else {\n            this.removeState(state);\n        }\n    };\n    Element.prototype._mergeStates = function (states) {\n        var mergedState = {};\n        var mergedTextConfig;\n        for (var i = 0; i < states.length; i++) {\n            var state = states[i];\n            extend(mergedState, state);\n            if (state.textConfig) {\n                mergedTextConfig = mergedTextConfig || {};\n                extend(mergedTextConfig, state.textConfig);\n            }\n        }\n        if (mergedTextConfig) {\n            mergedState.textConfig = mergedTextConfig;\n        }\n        return mergedState;\n    };\n    Element.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n        var needsRestoreToNormal = !(state && keepCurrentStates);\n        if (state && state.textConfig) {\n            this.textConfig = extend({}, keepCurrentStates ? this.textConfig : normalState.textConfig);\n            extend(this.textConfig, state.textConfig);\n        }\n        else if (needsRestoreToNormal) {\n            if (normalState.textConfig) {\n                this.textConfig = normalState.textConfig;\n            }\n        }\n        var transitionTarget = {};\n        var hasTransition = false;\n        for (var i = 0; i < PRIMARY_STATES_KEYS.length; i++) {\n            var key = PRIMARY_STATES_KEYS[i];\n            var propNeedsTransition = transition && DEFAULT_ANIMATABLE_MAP[key];\n            if (state && state[key] != null) {\n                if (propNeedsTransition) {\n                    hasTransition = true;\n                    transitionTarget[key] = state[key];\n                }\n                else {\n                    this[key] = state[key];\n                }\n            }\n            else if (needsRestoreToNormal) {\n                if (normalState[key] != null) {\n                    if (propNeedsTransition) {\n                        hasTransition = true;\n                        transitionTarget[key] = normalState[key];\n                    }\n                    else {\n                        this[key] = normalState[key];\n                    }\n                }\n            }\n        }\n        if (!transition) {\n            for (var i = 0; i < this.animators.length; i++) {\n                var animator = this.animators[i];\n                var targetName = animator.targetName;\n                if (!animator.getLoop()) {\n                    animator.__changeFinalValue(targetName\n                        ? (state || normalState)[targetName]\n                        : (state || normalState));\n                }\n            }\n        }\n        if (hasTransition) {\n            this._transitionState(stateName, transitionTarget, animationCfg);\n        }\n    };\n    Element.prototype._attachComponent = function (componentEl) {\n        if (componentEl.__zr && !componentEl.__hostTarget) {\n            if (process.env.NODE_ENV !== 'production') {\n                throw new Error('Text element has been added to zrender.');\n            }\n            return;\n        }\n        if (componentEl === this) {\n            if (process.env.NODE_ENV !== 'production') {\n                throw new Error('Recursive component attachment.');\n            }\n            return;\n        }\n        var zr = this.__zr;\n        if (zr) {\n            componentEl.addSelfToZr(zr);\n        }\n        componentEl.__zr = zr;\n        componentEl.__hostTarget = this;\n    };\n    Element.prototype._detachComponent = function (componentEl) {\n        if (componentEl.__zr) {\n            componentEl.removeSelfFromZr(componentEl.__zr);\n        }\n        componentEl.__zr = null;\n        componentEl.__hostTarget = null;\n    };\n    Element.prototype.getClipPath = function () {\n        return this._clipPath;\n    };\n    Element.prototype.setClipPath = function (clipPath) {\n        if (this._clipPath && this._clipPath !== clipPath) {\n            this.removeClipPath();\n        }\n        this._attachComponent(clipPath);\n        this._clipPath = clipPath;\n        this.markRedraw();\n    };\n    Element.prototype.removeClipPath = function () {\n        var clipPath = this._clipPath;\n        if (clipPath) {\n            this._detachComponent(clipPath);\n            this._clipPath = null;\n            this.markRedraw();\n        }\n    };\n    Element.prototype.getTextContent = function () {\n        return this._textContent;\n    };\n    Element.prototype.setTextContent = function (textEl) {\n        var previousTextContent = this._textContent;\n        if (previousTextContent === textEl) {\n            return;\n        }\n        if (previousTextContent && previousTextContent !== textEl) {\n            this.removeTextContent();\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (textEl.__zr && !textEl.__hostTarget) {\n                throw new Error('Text element has been added to zrender.');\n            }\n        }\n        textEl.innerTransformable = new Transformable();\n        this._attachComponent(textEl);\n        this._textContent = textEl;\n        this.markRedraw();\n    };\n    Element.prototype.setTextConfig = function (cfg) {\n        if (!this.textConfig) {\n            this.textConfig = {};\n        }\n        extend(this.textConfig, cfg);\n        this.markRedraw();\n    };\n    Element.prototype.removeTextConfig = function () {\n        this.textConfig = null;\n        this.markRedraw();\n    };\n    Element.prototype.removeTextContent = function () {\n        var textEl = this._textContent;\n        if (textEl) {\n            textEl.innerTransformable = null;\n            this._detachComponent(textEl);\n            this._textContent = null;\n            this._innerTextDefaultStyle = null;\n            this.markRedraw();\n        }\n    };\n    Element.prototype.getTextGuideLine = function () {\n        return this._textGuide;\n    };\n    Element.prototype.setTextGuideLine = function (guideLine) {\n        if (this._textGuide && this._textGuide !== guideLine) {\n            this.removeTextGuideLine();\n        }\n        this._attachComponent(guideLine);\n        this._textGuide = guideLine;\n        this.markRedraw();\n    };\n    Element.prototype.removeTextGuideLine = function () {\n        var textGuide = this._textGuide;\n        if (textGuide) {\n            this._detachComponent(textGuide);\n            this._textGuide = null;\n            this.markRedraw();\n        }\n    };\n    Element.prototype.markRedraw = function () {\n        this.__dirty |= REDRAW_BIT;\n        var zr = this.__zr;\n        if (zr) {\n            if (this.__inHover) {\n                zr.refreshHover();\n            }\n            else {\n                zr.refresh();\n            }\n        }\n        if (this.__hostTarget) {\n            this.__hostTarget.markRedraw();\n        }\n    };\n    Element.prototype.dirty = function () {\n        this.markRedraw();\n    };\n    Element.prototype._toggleHoverLayerFlag = function (inHover) {\n        this.__inHover = inHover;\n        var textContent = this._textContent;\n        var textGuide = this._textGuide;\n        if (textContent) {\n            textContent.__inHover = inHover;\n        }\n        if (textGuide) {\n            textGuide.__inHover = inHover;\n        }\n    };\n    Element.prototype.addSelfToZr = function (zr) {\n        if (this.__zr === zr) {\n            return;\n        }\n        this.__zr = zr;\n        var animators = this.animators;\n        if (animators) {\n            for (var i = 0; i < animators.length; i++) {\n                zr.animation.addAnimator(animators[i]);\n            }\n        }\n        if (this._clipPath) {\n            this._clipPath.addSelfToZr(zr);\n        }\n        if (this._textContent) {\n            this._textContent.addSelfToZr(zr);\n        }\n        if (this._textGuide) {\n            this._textGuide.addSelfToZr(zr);\n        }\n    };\n    Element.prototype.removeSelfFromZr = function (zr) {\n        if (!this.__zr) {\n            return;\n        }\n        this.__zr = null;\n        var animators = this.animators;\n        if (animators) {\n            for (var i = 0; i < animators.length; i++) {\n                zr.animation.removeAnimator(animators[i]);\n            }\n        }\n        if (this._clipPath) {\n            this._clipPath.removeSelfFromZr(zr);\n        }\n        if (this._textContent) {\n            this._textContent.removeSelfFromZr(zr);\n        }\n        if (this._textGuide) {\n            this._textGuide.removeSelfFromZr(zr);\n        }\n    };\n    Element.prototype.animate = function (key, loop, allowDiscreteAnimation) {\n        var target = key ? this[key] : this;\n        if (process.env.NODE_ENV !== 'production') {\n            if (!target) {\n                logError('Property \"'\n                    + key\n                    + '\" is not existed in element '\n                    + this.id);\n                return;\n            }\n        }\n        var animator = new Animator(target, loop, allowDiscreteAnimation);\n        key && (animator.targetName = key);\n        this.addAnimator(animator, key);\n        return animator;\n    };\n    Element.prototype.addAnimator = function (animator, key) {\n        var zr = this.__zr;\n        var el = this;\n        animator.during(function () {\n            el.updateDuringAnimation(key);\n        }).done(function () {\n            var animators = el.animators;\n            var idx = indexOf(animators, animator);\n            if (idx >= 0) {\n                animators.splice(idx, 1);\n            }\n        });\n        this.animators.push(animator);\n        if (zr) {\n            zr.animation.addAnimator(animator);\n        }\n        zr && zr.wakeUp();\n    };\n    Element.prototype.updateDuringAnimation = function (key) {\n        this.markRedraw();\n    };\n    Element.prototype.stopAnimation = function (scope, forwardToLast) {\n        var animators = this.animators;\n        var len = animators.length;\n        var leftAnimators = [];\n        for (var i = 0; i < len; i++) {\n            var animator = animators[i];\n            if (!scope || scope === animator.scope) {\n                animator.stop(forwardToLast);\n            }\n            else {\n                leftAnimators.push(animator);\n            }\n        }\n        this.animators = leftAnimators;\n        return this;\n    };\n    Element.prototype.animateTo = function (target, cfg, animationProps) {\n        animateTo(this, target, cfg, animationProps);\n    };\n    Element.prototype.animateFrom = function (target, cfg, animationProps) {\n        animateTo(this, target, cfg, animationProps, true);\n    };\n    Element.prototype._transitionState = function (stateName, target, cfg, animationProps) {\n        var animators = animateTo(this, target, cfg, animationProps);\n        for (var i = 0; i < animators.length; i++) {\n            animators[i].__fromStateTransition = stateName;\n        }\n    };\n    Element.prototype.getBoundingRect = function () {\n        return null;\n    };\n    Element.prototype.getPaintRect = function () {\n        return null;\n    };\n    Element.initDefaultProps = (function () {\n        var elProto = Element.prototype;\n        elProto.type = 'element';\n        elProto.name = '';\n        elProto.ignore =\n            elProto.silent =\n                elProto.isGroup =\n                    elProto.draggable =\n                        elProto.dragging =\n                            elProto.ignoreClip =\n                                elProto.__inHover = false;\n        elProto.__dirty = REDRAW_BIT;\n        var logs = {};\n        function logDeprecatedError(key, xKey, yKey) {\n            if (!logs[key + xKey + yKey]) {\n                console.warn(\"DEPRECATED: '\" + key + \"' has been deprecated. use '\" + xKey + \"', '\" + yKey + \"' instead\");\n                logs[key + xKey + yKey] = true;\n            }\n        }\n        function createLegacyProperty(key, privateKey, xKey, yKey) {\n            Object.defineProperty(elProto, key, {\n                get: function () {\n                    if (process.env.NODE_ENV !== 'production') {\n                        logDeprecatedError(key, xKey, yKey);\n                    }\n                    if (!this[privateKey]) {\n                        var pos = this[privateKey] = [];\n                        enhanceArray(this, pos);\n                    }\n                    return this[privateKey];\n                },\n                set: function (pos) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        logDeprecatedError(key, xKey, yKey);\n                    }\n                    this[xKey] = pos[0];\n                    this[yKey] = pos[1];\n                    this[privateKey] = pos;\n                    enhanceArray(this, pos);\n                }\n            });\n            function enhanceArray(self, pos) {\n                Object.defineProperty(pos, 0, {\n                    get: function () {\n                        return self[xKey];\n                    },\n                    set: function (val) {\n                        self[xKey] = val;\n                    }\n                });\n                Object.defineProperty(pos, 1, {\n                    get: function () {\n                        return self[yKey];\n                    },\n                    set: function (val) {\n                        self[yKey] = val;\n                    }\n                });\n            }\n        }\n        if (Object.defineProperty) {\n            createLegacyProperty('position', '_legacyPos', 'x', 'y');\n            createLegacyProperty('scale', '_legacyScale', 'scaleX', 'scaleY');\n            createLegacyProperty('origin', '_legacyOrigin', 'originX', 'originY');\n        }\n    })();\n    return Element;\n}());\nmixin(Element, Eventful);\nmixin(Element, Transformable);\nfunction animateTo(animatable, target, cfg, animationProps, reverse) {\n    cfg = cfg || {};\n    var animators = [];\n    animateToShallow(animatable, '', animatable, target, cfg, animationProps, animators, reverse);\n    var finishCount = animators.length;\n    var doneHappened = false;\n    var cfgDone = cfg.done;\n    var cfgAborted = cfg.aborted;\n    var doneCb = function () {\n        doneHappened = true;\n        finishCount--;\n        if (finishCount <= 0) {\n            doneHappened\n                ? (cfgDone && cfgDone())\n                : (cfgAborted && cfgAborted());\n        }\n    };\n    var abortedCb = function () {\n        finishCount--;\n        if (finishCount <= 0) {\n            doneHappened\n                ? (cfgDone && cfgDone())\n                : (cfgAborted && cfgAborted());\n        }\n    };\n    if (!finishCount) {\n        cfgDone && cfgDone();\n    }\n    if (animators.length > 0 && cfg.during) {\n        animators[0].during(function (target, percent) {\n            cfg.during(percent);\n        });\n    }\n    for (var i = 0; i < animators.length; i++) {\n        var animator = animators[i];\n        if (doneCb) {\n            animator.done(doneCb);\n        }\n        if (abortedCb) {\n            animator.aborted(abortedCb);\n        }\n        if (cfg.force) {\n            animator.duration(cfg.duration);\n        }\n        animator.start(cfg.easing);\n    }\n    return animators;\n}\nfunction copyArrShallow(source, target, len) {\n    for (var i = 0; i < len; i++) {\n        source[i] = target[i];\n    }\n}\nfunction is2DArray(value) {\n    return isArrayLike(value[0]);\n}\nfunction copyValue(target, source, key) {\n    if (isArrayLike(source[key])) {\n        if (!isArrayLike(target[key])) {\n            target[key] = [];\n        }\n        if (isTypedArray(source[key])) {\n            var len = source[key].length;\n            if (target[key].length !== len) {\n                target[key] = new (source[key].constructor)(len);\n                copyArrShallow(target[key], source[key], len);\n            }\n        }\n        else {\n            var sourceArr = source[key];\n            var targetArr = target[key];\n            var len0 = sourceArr.length;\n            if (is2DArray(sourceArr)) {\n                var len1 = sourceArr[0].length;\n                for (var i = 0; i < len0; i++) {\n                    if (!targetArr[i]) {\n                        targetArr[i] = Array.prototype.slice.call(sourceArr[i]);\n                    }\n                    else {\n                        copyArrShallow(targetArr[i], sourceArr[i], len1);\n                    }\n                }\n            }\n            else {\n                copyArrShallow(targetArr, sourceArr, len0);\n            }\n            targetArr.length = sourceArr.length;\n        }\n    }\n    else {\n        target[key] = source[key];\n    }\n}\nfunction isValueSame(val1, val2) {\n    return val1 === val2\n        || isArrayLike(val1) && isArrayLike(val2) && is1DArraySame(val1, val2);\n}\nfunction is1DArraySame(arr0, arr1) {\n    var len = arr0.length;\n    if (len !== arr1.length) {\n        return false;\n    }\n    for (var i = 0; i < len; i++) {\n        if (arr0[i] !== arr1[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction animateToShallow(animatable, topKey, animateObj, target, cfg, animationProps, animators, reverse) {\n    var targetKeys = keys(target);\n    var duration = cfg.duration;\n    var delay = cfg.delay;\n    var additive = cfg.additive;\n    var setToFinal = cfg.setToFinal;\n    var animateAll = !isObject(animationProps);\n    var existsAnimators = animatable.animators;\n    var animationKeys = [];\n    for (var k = 0; k < targetKeys.length; k++) {\n        var innerKey = targetKeys[k];\n        var targetVal = target[innerKey];\n        if (targetVal != null && animateObj[innerKey] != null\n            && (animateAll || animationProps[innerKey])) {\n            if (isObject(targetVal)\n                && !isArrayLike(targetVal)\n                && !isGradientObject(targetVal)) {\n                if (topKey) {\n                    if (!reverse) {\n                        animateObj[innerKey] = targetVal;\n                        animatable.updateDuringAnimation(topKey);\n                    }\n                    continue;\n                }\n                animateToShallow(animatable, innerKey, animateObj[innerKey], targetVal, cfg, animationProps && animationProps[innerKey], animators, reverse);\n            }\n            else {\n                animationKeys.push(innerKey);\n            }\n        }\n        else if (!reverse) {\n            animateObj[innerKey] = targetVal;\n            animatable.updateDuringAnimation(topKey);\n            animationKeys.push(innerKey);\n        }\n    }\n    var keyLen = animationKeys.length;\n    if (!additive && keyLen) {\n        for (var i = 0; i < existsAnimators.length; i++) {\n            var animator = existsAnimators[i];\n            if (animator.targetName === topKey) {\n                var allAborted = animator.stopTracks(animationKeys);\n                if (allAborted) {\n                    var idx = indexOf(existsAnimators, animator);\n                    existsAnimators.splice(idx, 1);\n                }\n            }\n        }\n    }\n    if (!cfg.force) {\n        animationKeys = filter(animationKeys, function (key) { return !isValueSame(target[key], animateObj[key]); });\n        keyLen = animationKeys.length;\n    }\n    if (keyLen > 0\n        || (cfg.force && !animators.length)) {\n        var revertedSource = void 0;\n        var reversedTarget = void 0;\n        var sourceClone = void 0;\n        if (reverse) {\n            reversedTarget = {};\n            if (setToFinal) {\n                revertedSource = {};\n            }\n            for (var i = 0; i < keyLen; i++) {\n                var innerKey = animationKeys[i];\n                reversedTarget[innerKey] = animateObj[innerKey];\n                if (setToFinal) {\n                    revertedSource[innerKey] = target[innerKey];\n                }\n                else {\n                    animateObj[innerKey] = target[innerKey];\n                }\n            }\n        }\n        else if (setToFinal) {\n            sourceClone = {};\n            for (var i = 0; i < keyLen; i++) {\n                var innerKey = animationKeys[i];\n                sourceClone[innerKey] = cloneValue(animateObj[innerKey]);\n                copyValue(animateObj, target, innerKey);\n            }\n        }\n        var animator = new Animator(animateObj, false, false, additive ? filter(existsAnimators, function (animator) { return animator.targetName === topKey; }) : null);\n        animator.targetName = topKey;\n        if (cfg.scope) {\n            animator.scope = cfg.scope;\n        }\n        if (setToFinal && revertedSource) {\n            animator.whenWithKeys(0, revertedSource, animationKeys);\n        }\n        if (sourceClone) {\n            animator.whenWithKeys(0, sourceClone, animationKeys);\n        }\n        animator.whenWithKeys(duration == null ? 500 : duration, reverse ? reversedTarget : target, animationKeys).delay(delay || 0);\n        animatable.addAnimator(animator, topKey);\n        animators.push(animator);\n    }\n}\nexport default Element;\n","import { __extends } from \"tslib\";\nimport * as zrUtil from '../core/util.js';\nimport Element from '../Element.js';\nimport BoundingRect from '../core/BoundingRect.js';\nvar Group = (function (_super) {\n    __extends(Group, _super);\n    function Group(opts) {\n        var _this = _super.call(this) || this;\n        _this.isGroup = true;\n        _this._children = [];\n        _this.attr(opts);\n        return _this;\n    }\n    Group.prototype.childrenRef = function () {\n        return this._children;\n    };\n    Group.prototype.children = function () {\n        return this._children.slice();\n    };\n    Group.prototype.childAt = function (idx) {\n        return this._children[idx];\n    };\n    Group.prototype.childOfName = function (name) {\n        var children = this._children;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].name === name) {\n                return children[i];\n            }\n        }\n    };\n    Group.prototype.childCount = function () {\n        return this._children.length;\n    };\n    Group.prototype.add = function (child) {\n        if (child) {\n            if (child !== this && child.parent !== this) {\n                this._children.push(child);\n                this._doAdd(child);\n            }\n            if (process.env.NODE_ENV !== 'production') {\n                if (child.__hostTarget) {\n                    throw 'This elemenet has been used as an attachment';\n                }\n            }\n        }\n        return this;\n    };\n    Group.prototype.addBefore = function (child, nextSibling) {\n        if (child && child !== this && child.parent !== this\n            && nextSibling && nextSibling.parent === this) {\n            var children = this._children;\n            var idx = children.indexOf(nextSibling);\n            if (idx >= 0) {\n                children.splice(idx, 0, child);\n                this._doAdd(child);\n            }\n        }\n        return this;\n    };\n    Group.prototype.replace = function (oldChild, newChild) {\n        var idx = zrUtil.indexOf(this._children, oldChild);\n        if (idx >= 0) {\n            this.replaceAt(newChild, idx);\n        }\n        return this;\n    };\n    Group.prototype.replaceAt = function (child, index) {\n        var children = this._children;\n        var old = children[index];\n        if (child && child !== this && child.parent !== this && child !== old) {\n            children[index] = child;\n            old.parent = null;\n            var zr = this.__zr;\n            if (zr) {\n                old.removeSelfFromZr(zr);\n            }\n            this._doAdd(child);\n        }\n        return this;\n    };\n    Group.prototype._doAdd = function (child) {\n        if (child.parent) {\n            child.parent.remove(child);\n        }\n        child.parent = this;\n        var zr = this.__zr;\n        if (zr && zr !== child.__zr) {\n            child.addSelfToZr(zr);\n        }\n        zr && zr.refresh();\n    };\n    Group.prototype.remove = function (child) {\n        var zr = this.__zr;\n        var children = this._children;\n        var idx = zrUtil.indexOf(children, child);\n        if (idx < 0) {\n            return this;\n        }\n        children.splice(idx, 1);\n        child.parent = null;\n        if (zr) {\n            child.removeSelfFromZr(zr);\n        }\n        zr && zr.refresh();\n        return this;\n    };\n    Group.prototype.removeAll = function () {\n        var children = this._children;\n        var zr = this.__zr;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            if (zr) {\n                child.removeSelfFromZr(zr);\n            }\n            child.parent = null;\n        }\n        children.length = 0;\n        return this;\n    };\n    Group.prototype.eachChild = function (cb, context) {\n        var children = this._children;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            cb.call(context, child, i);\n        }\n        return this;\n    };\n    Group.prototype.traverse = function (cb, context) {\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            var stopped = cb.call(context, child);\n            if (child.isGroup && !stopped) {\n                child.traverse(cb, context);\n            }\n        }\n        return this;\n    };\n    Group.prototype.addSelfToZr = function (zr) {\n        _super.prototype.addSelfToZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.addSelfToZr(zr);\n        }\n    };\n    Group.prototype.removeSelfFromZr = function (zr) {\n        _super.prototype.removeSelfFromZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.removeSelfFromZr(zr);\n        }\n    };\n    Group.prototype.getBoundingRect = function (includeChildren) {\n        var tmpRect = new BoundingRect(0, 0, 0, 0);\n        var children = includeChildren || this._children;\n        var tmpMat = [];\n        var rect = null;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            if (child.ignore || child.invisible) {\n                continue;\n            }\n            var childRect = child.getBoundingRect();\n            var transform = child.getLocalTransform(tmpMat);\n            if (transform) {\n                BoundingRect.applyTransform(tmpRect, childRect, transform);\n                rect = rect || tmpRect.clone();\n                rect.union(tmpRect);\n            }\n            else {\n                rect = rect || childRect.clone();\n                rect.union(childRect);\n            }\n        }\n        return rect || tmpRect;\n    };\n    return Group;\n}(Element));\nGroup.prototype.type = 'group';\nexport default Group;\n","/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\nimport env from './core/env.js';\nimport * as zrUtil from './core/util.js';\nimport Handler from './Handler.js';\nimport Storage from './Storage.js';\nimport Animation, { getTime } from './animation/Animation.js';\nimport HandlerProxy from './dom/HandlerProxy.js';\nimport { lum } from './tool/color.js';\nimport { DARK_MODE_THRESHOLD } from './config.js';\nimport Group from './graphic/Group.js';\nvar painterCtors = {};\nvar instances = {};\nfunction delInstance(id) {\n    delete instances[id];\n}\nfunction isDarkMode(backgroundColor) {\n    if (!backgroundColor) {\n        return false;\n    }\n    if (typeof backgroundColor === 'string') {\n        return lum(backgroundColor, 1) < DARK_MODE_THRESHOLD;\n    }\n    else if (backgroundColor.colorStops) {\n        var colorStops = backgroundColor.colorStops;\n        var totalLum = 0;\n        var len = colorStops.length;\n        for (var i = 0; i < len; i++) {\n            totalLum += lum(colorStops[i].color, 1);\n        }\n        totalLum /= len;\n        return totalLum < DARK_MODE_THRESHOLD;\n    }\n    return false;\n}\nvar ZRender = (function () {\n    function ZRender(id, dom, opts) {\n        var _this = this;\n        this._sleepAfterStill = 10;\n        this._stillFrameAccum = 0;\n        this._needsRefresh = true;\n        this._needsRefreshHover = true;\n        this._darkMode = false;\n        opts = opts || {};\n        this.dom = dom;\n        this.id = id;\n        var storage = new Storage();\n        var rendererType = opts.renderer || 'canvas';\n        if (!painterCtors[rendererType]) {\n            rendererType = zrUtil.keys(painterCtors)[0];\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (!painterCtors[rendererType]) {\n                throw new Error(\"Renderer '\" + rendererType + \"' is not imported. Please import it first.\");\n            }\n        }\n        opts.useDirtyRect = opts.useDirtyRect == null\n            ? false\n            : opts.useDirtyRect;\n        var painter = new painterCtors[rendererType](dom, storage, opts, id);\n        var ssrMode = opts.ssr || painter.ssrOnly;\n        this.storage = storage;\n        this.painter = painter;\n        var handlerProxy = (!env.node && !env.worker && !ssrMode)\n            ? new HandlerProxy(painter.getViewportRoot(), painter.root)\n            : null;\n        var useCoarsePointer = opts.useCoarsePointer;\n        var usePointerSize = (useCoarsePointer == null || useCoarsePointer === 'auto')\n            ? env.touchEventsSupported\n            : !!useCoarsePointer;\n        var defaultPointerSize = 44;\n        var pointerSize;\n        if (usePointerSize) {\n            pointerSize = zrUtil.retrieve2(opts.pointerSize, defaultPointerSize);\n        }\n        this.handler = new Handler(storage, painter, handlerProxy, painter.root, pointerSize);\n        this.animation = new Animation({\n            stage: {\n                update: ssrMode ? null : function () { return _this._flush(true); }\n            }\n        });\n        if (!ssrMode) {\n            this.animation.start();\n        }\n    }\n    ZRender.prototype.add = function (el) {\n        if (this._disposed || !el) {\n            return;\n        }\n        this.storage.addRoot(el);\n        el.addSelfToZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.remove = function (el) {\n        if (this._disposed || !el) {\n            return;\n        }\n        this.storage.delRoot(el);\n        el.removeSelfFromZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.configLayer = function (zLevel, config) {\n        if (this._disposed) {\n            return;\n        }\n        if (this.painter.configLayer) {\n            this.painter.configLayer(zLevel, config);\n        }\n        this.refresh();\n    };\n    ZRender.prototype.setBackgroundColor = function (backgroundColor) {\n        if (this._disposed) {\n            return;\n        }\n        if (this.painter.setBackgroundColor) {\n            this.painter.setBackgroundColor(backgroundColor);\n        }\n        this.refresh();\n        this._backgroundColor = backgroundColor;\n        this._darkMode = isDarkMode(backgroundColor);\n    };\n    ZRender.prototype.getBackgroundColor = function () {\n        return this._backgroundColor;\n    };\n    ZRender.prototype.setDarkMode = function (darkMode) {\n        this._darkMode = darkMode;\n    };\n    ZRender.prototype.isDarkMode = function () {\n        return this._darkMode;\n    };\n    ZRender.prototype.refreshImmediately = function (fromInside) {\n        if (this._disposed) {\n            return;\n        }\n        if (!fromInside) {\n            this.animation.update(true);\n        }\n        this._needsRefresh = false;\n        this.painter.refresh();\n        this._needsRefresh = false;\n    };\n    ZRender.prototype.refresh = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._needsRefresh = true;\n        this.animation.start();\n    };\n    ZRender.prototype.flush = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._flush(false);\n    };\n    ZRender.prototype._flush = function (fromInside) {\n        var triggerRendered;\n        var start = getTime();\n        if (this._needsRefresh) {\n            triggerRendered = true;\n            this.refreshImmediately(fromInside);\n        }\n        if (this._needsRefreshHover) {\n            triggerRendered = true;\n            this.refreshHoverImmediately();\n        }\n        var end = getTime();\n        if (triggerRendered) {\n            this._stillFrameAccum = 0;\n            this.trigger('rendered', {\n                elapsedTime: end - start\n            });\n        }\n        else if (this._sleepAfterStill > 0) {\n            this._stillFrameAccum++;\n            if (this._stillFrameAccum > this._sleepAfterStill) {\n                this.animation.stop();\n            }\n        }\n    };\n    ZRender.prototype.setSleepAfterStill = function (stillFramesCount) {\n        this._sleepAfterStill = stillFramesCount;\n    };\n    ZRender.prototype.wakeUp = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.start();\n        this._stillFrameAccum = 0;\n    };\n    ZRender.prototype.refreshHover = function () {\n        this._needsRefreshHover = true;\n    };\n    ZRender.prototype.refreshHoverImmediately = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._needsRefreshHover = false;\n        if (this.painter.refreshHover && this.painter.getType() === 'canvas') {\n            this.painter.refreshHover();\n        }\n    };\n    ZRender.prototype.resize = function (opts) {\n        if (this._disposed) {\n            return;\n        }\n        opts = opts || {};\n        this.painter.resize(opts.width, opts.height);\n        this.handler.resize();\n    };\n    ZRender.prototype.clearAnimation = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.clear();\n    };\n    ZRender.prototype.getWidth = function () {\n        if (this._disposed) {\n            return;\n        }\n        return this.painter.getWidth();\n    };\n    ZRender.prototype.getHeight = function () {\n        if (this._disposed) {\n            return;\n        }\n        return this.painter.getHeight();\n    };\n    ZRender.prototype.setCursorStyle = function (cursorStyle) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.setCursorStyle(cursorStyle);\n    };\n    ZRender.prototype.findHover = function (x, y) {\n        if (this._disposed) {\n            return;\n        }\n        return this.handler.findHover(x, y);\n    };\n    ZRender.prototype.on = function (eventName, eventHandler, context) {\n        if (!this._disposed) {\n            this.handler.on(eventName, eventHandler, context);\n        }\n        return this;\n    };\n    ZRender.prototype.off = function (eventName, eventHandler) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.off(eventName, eventHandler);\n    };\n    ZRender.prototype.trigger = function (eventName, event) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.trigger(eventName, event);\n    };\n    ZRender.prototype.clear = function () {\n        if (this._disposed) {\n            return;\n        }\n        var roots = this.storage.getRoots();\n        for (var i = 0; i < roots.length; i++) {\n            if (roots[i] instanceof Group) {\n                roots[i].removeSelfFromZr(this);\n            }\n        }\n        this.storage.delAllRoots();\n        this.painter.clear();\n    };\n    ZRender.prototype.dispose = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.stop();\n        this.clear();\n        this.storage.dispose();\n        this.painter.dispose();\n        this.handler.dispose();\n        this.animation =\n            this.storage =\n                this.painter =\n                    this.handler = null;\n        this._disposed = true;\n        delInstance(this.id);\n    };\n    return ZRender;\n}());\nexport function init(dom, opts) {\n    var zr = new ZRender(zrUtil.guid(), dom, opts);\n    instances[zr.id] = zr;\n    return zr;\n}\nexport function dispose(zr) {\n    zr.dispose();\n}\nexport function disposeAll() {\n    for (var key in instances) {\n        if (instances.hasOwnProperty(key)) {\n            instances[key].dispose();\n        }\n    }\n    instances = {};\n}\nexport function getInstance(id) {\n    return instances[id];\n}\nexport function registerPainter(name, Ctor) {\n    painterCtors[name] = Ctor;\n}\nvar ssrDataGetter;\nexport function getElementSSRData(el) {\n    if (typeof ssrDataGetter === 'function') {\n        return ssrDataGetter(el);\n    }\n}\nexport function registerSSRDataGetter(getter) {\n    ssrDataGetter = getter;\n}\nexport var version = '5.5.0';\n;\n","import LRU from '../../core/LRU.js';\nimport { platformApi } from '../../core/platform.js';\nvar globalImageCache = new LRU(50);\nexport function findExistImage(newImageOrSrc) {\n    if (typeof newImageOrSrc === 'string') {\n        var cachedImgObj = globalImageCache.get(newImageOrSrc);\n        return cachedImgObj && cachedImgObj.image;\n    }\n    else {\n        return newImageOrSrc;\n    }\n}\nexport function createOrUpdateImage(newImageOrSrc, image, hostEl, onload, cbPayload) {\n    if (!newImageOrSrc) {\n        return image;\n    }\n    else if (typeof newImageOrSrc === 'string') {\n        if ((image && image.__zrImageSrc === newImageOrSrc) || !hostEl) {\n            return image;\n        }\n        var cachedImgObj = globalImageCache.get(newImageOrSrc);\n        var pendingWrap = { hostEl: hostEl, cb: onload, cbPayload: cbPayload };\n        if (cachedImgObj) {\n            image = cachedImgObj.image;\n            !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n        }\n        else {\n            image = platformApi.loadImage(newImageOrSrc, imageOnLoad, imageOnLoad);\n            image.__zrImageSrc = newImageOrSrc;\n            globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n                image: image,\n                pending: [pendingWrap]\n            });\n        }\n        return image;\n    }\n    else {\n        return newImageOrSrc;\n    }\n}\nfunction imageOnLoad() {\n    var cachedImgObj = this.__cachedImgObj;\n    this.onload = this.onerror = this.__cachedImgObj = null;\n    for (var i = 0; i < cachedImgObj.pending.length; i++) {\n        var pendingWrap = cachedImgObj.pending[i];\n        var cb = pendingWrap.cb;\n        cb && cb(this, pendingWrap.cbPayload);\n        pendingWrap.hostEl.dirty();\n    }\n    cachedImgObj.pending.length = 0;\n}\nexport function isImageReady(image) {\n    return image && image.width && image.height;\n}\n","import * as imageHelper from '../helper/image.js';\nimport { extend, retrieve2, retrieve3, reduce } from '../../core/util.js';\nimport { getLineHeight, getWidth, parsePercent } from '../../contain/text.js';\nvar STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\nexport function truncateText(text, containerWidth, font, ellipsis, options) {\n    if (!containerWidth) {\n        return '';\n    }\n    var textLines = (text + '').split('\\n');\n    options = prepareTruncateOptions(containerWidth, font, ellipsis, options);\n    for (var i = 0, len = textLines.length; i < len; i++) {\n        textLines[i] = truncateSingleLine(textLines[i], options);\n    }\n    return textLines.join('\\n');\n}\nfunction prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n    options = options || {};\n    var preparedOpts = extend({}, options);\n    preparedOpts.font = font;\n    ellipsis = retrieve2(ellipsis, '...');\n    preparedOpts.maxIterations = retrieve2(options.maxIterations, 2);\n    var minChar = preparedOpts.minChar = retrieve2(options.minChar, 0);\n    preparedOpts.cnCharWidth = getWidth('', font);\n    var ascCharWidth = preparedOpts.ascCharWidth = getWidth('a', font);\n    preparedOpts.placeholder = retrieve2(options.placeholder, '');\n    var contentWidth = containerWidth = Math.max(0, containerWidth - 1);\n    for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n        contentWidth -= ascCharWidth;\n    }\n    var ellipsisWidth = getWidth(ellipsis, font);\n    if (ellipsisWidth > contentWidth) {\n        ellipsis = '';\n        ellipsisWidth = 0;\n    }\n    contentWidth = containerWidth - ellipsisWidth;\n    preparedOpts.ellipsis = ellipsis;\n    preparedOpts.ellipsisWidth = ellipsisWidth;\n    preparedOpts.contentWidth = contentWidth;\n    preparedOpts.containerWidth = containerWidth;\n    return preparedOpts;\n}\nfunction truncateSingleLine(textLine, options) {\n    var containerWidth = options.containerWidth;\n    var font = options.font;\n    var contentWidth = options.contentWidth;\n    if (!containerWidth) {\n        return '';\n    }\n    var lineWidth = getWidth(textLine, font);\n    if (lineWidth <= containerWidth) {\n        return textLine;\n    }\n    for (var j = 0;; j++) {\n        if (lineWidth <= contentWidth || j >= options.maxIterations) {\n            textLine += options.ellipsis;\n            break;\n        }\n        var subLength = j === 0\n            ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth)\n            : lineWidth > 0\n                ? Math.floor(textLine.length * contentWidth / lineWidth)\n                : 0;\n        textLine = textLine.substr(0, subLength);\n        lineWidth = getWidth(textLine, font);\n    }\n    if (textLine === '') {\n        textLine = options.placeholder;\n    }\n    return textLine;\n}\nfunction estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n    var width = 0;\n    var i = 0;\n    for (var len = text.length; i < len && width < contentWidth; i++) {\n        var charCode = text.charCodeAt(i);\n        width += (0 <= charCode && charCode <= 127) ? ascCharWidth : cnCharWidth;\n    }\n    return i;\n}\nexport function parsePlainText(text, style) {\n    text != null && (text += '');\n    var overflow = style.overflow;\n    var padding = style.padding;\n    var font = style.font;\n    var truncate = overflow === 'truncate';\n    var calculatedLineHeight = getLineHeight(font);\n    var lineHeight = retrieve2(style.lineHeight, calculatedLineHeight);\n    var bgColorDrawn = !!(style.backgroundColor);\n    var truncateLineOverflow = style.lineOverflow === 'truncate';\n    var width = style.width;\n    var lines;\n    if (width != null && (overflow === 'break' || overflow === 'breakAll')) {\n        lines = text ? wrapText(text, style.font, width, overflow === 'breakAll', 0).lines : [];\n    }\n    else {\n        lines = text ? text.split('\\n') : [];\n    }\n    var contentHeight = lines.length * lineHeight;\n    var height = retrieve2(style.height, contentHeight);\n    if (contentHeight > height && truncateLineOverflow) {\n        var lineCount = Math.floor(height / lineHeight);\n        lines = lines.slice(0, lineCount);\n    }\n    if (text && truncate && width != null) {\n        var options = prepareTruncateOptions(width, font, style.ellipsis, {\n            minChar: style.truncateMinChar,\n            placeholder: style.placeholder\n        });\n        for (var i = 0; i < lines.length; i++) {\n            lines[i] = truncateSingleLine(lines[i], options);\n        }\n    }\n    var outerHeight = height;\n    var contentWidth = 0;\n    for (var i = 0; i < lines.length; i++) {\n        contentWidth = Math.max(getWidth(lines[i], font), contentWidth);\n    }\n    if (width == null) {\n        width = contentWidth;\n    }\n    var outerWidth = contentWidth;\n    if (padding) {\n        outerHeight += padding[0] + padding[2];\n        outerWidth += padding[1] + padding[3];\n        width += padding[1] + padding[3];\n    }\n    if (bgColorDrawn) {\n        outerWidth = width;\n    }\n    return {\n        lines: lines,\n        height: height,\n        outerWidth: outerWidth,\n        outerHeight: outerHeight,\n        lineHeight: lineHeight,\n        calculatedLineHeight: calculatedLineHeight,\n        contentWidth: contentWidth,\n        contentHeight: contentHeight,\n        width: width\n    };\n}\nvar RichTextToken = (function () {\n    function RichTextToken() {\n    }\n    return RichTextToken;\n}());\nvar RichTextLine = (function () {\n    function RichTextLine(tokens) {\n        this.tokens = [];\n        if (tokens) {\n            this.tokens = tokens;\n        }\n    }\n    return RichTextLine;\n}());\nvar RichTextContentBlock = (function () {\n    function RichTextContentBlock() {\n        this.width = 0;\n        this.height = 0;\n        this.contentWidth = 0;\n        this.contentHeight = 0;\n        this.outerWidth = 0;\n        this.outerHeight = 0;\n        this.lines = [];\n    }\n    return RichTextContentBlock;\n}());\nexport { RichTextContentBlock };\nexport function parseRichText(text, style) {\n    var contentBlock = new RichTextContentBlock();\n    text != null && (text += '');\n    if (!text) {\n        return contentBlock;\n    }\n    var topWidth = style.width;\n    var topHeight = style.height;\n    var overflow = style.overflow;\n    var wrapInfo = (overflow === 'break' || overflow === 'breakAll') && topWidth != null\n        ? { width: topWidth, accumWidth: 0, breakAll: overflow === 'breakAll' }\n        : null;\n    var lastIndex = STYLE_REG.lastIndex = 0;\n    var result;\n    while ((result = STYLE_REG.exec(text)) != null) {\n        var matchedIndex = result.index;\n        if (matchedIndex > lastIndex) {\n            pushTokens(contentBlock, text.substring(lastIndex, matchedIndex), style, wrapInfo);\n        }\n        pushTokens(contentBlock, result[2], style, wrapInfo, result[1]);\n        lastIndex = STYLE_REG.lastIndex;\n    }\n    if (lastIndex < text.length) {\n        pushTokens(contentBlock, text.substring(lastIndex, text.length), style, wrapInfo);\n    }\n    var pendingList = [];\n    var calculatedHeight = 0;\n    var calculatedWidth = 0;\n    var stlPadding = style.padding;\n    var truncate = overflow === 'truncate';\n    var truncateLine = style.lineOverflow === 'truncate';\n    function finishLine(line, lineWidth, lineHeight) {\n        line.width = lineWidth;\n        line.lineHeight = lineHeight;\n        calculatedHeight += lineHeight;\n        calculatedWidth = Math.max(calculatedWidth, lineWidth);\n    }\n    outer: for (var i = 0; i < contentBlock.lines.length; i++) {\n        var line = contentBlock.lines[i];\n        var lineHeight = 0;\n        var lineWidth = 0;\n        for (var j = 0; j < line.tokens.length; j++) {\n            var token = line.tokens[j];\n            var tokenStyle = token.styleName && style.rich[token.styleName] || {};\n            var textPadding = token.textPadding = tokenStyle.padding;\n            var paddingH = textPadding ? textPadding[1] + textPadding[3] : 0;\n            var font = token.font = tokenStyle.font || style.font;\n            token.contentHeight = getLineHeight(font);\n            var tokenHeight = retrieve2(tokenStyle.height, token.contentHeight);\n            token.innerHeight = tokenHeight;\n            textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n            token.height = tokenHeight;\n            token.lineHeight = retrieve3(tokenStyle.lineHeight, style.lineHeight, tokenHeight);\n            token.align = tokenStyle && tokenStyle.align || style.align;\n            token.verticalAlign = tokenStyle && tokenStyle.verticalAlign || 'middle';\n            if (truncateLine && topHeight != null && calculatedHeight + token.lineHeight > topHeight) {\n                if (j > 0) {\n                    line.tokens = line.tokens.slice(0, j);\n                    finishLine(line, lineWidth, lineHeight);\n                    contentBlock.lines = contentBlock.lines.slice(0, i + 1);\n                }\n                else {\n                    contentBlock.lines = contentBlock.lines.slice(0, i);\n                }\n                break outer;\n            }\n            var styleTokenWidth = tokenStyle.width;\n            var tokenWidthNotSpecified = styleTokenWidth == null || styleTokenWidth === 'auto';\n            if (typeof styleTokenWidth === 'string' && styleTokenWidth.charAt(styleTokenWidth.length - 1) === '%') {\n                token.percentWidth = styleTokenWidth;\n                pendingList.push(token);\n                token.contentWidth = getWidth(token.text, font);\n            }\n            else {\n                if (tokenWidthNotSpecified) {\n                    var textBackgroundColor = tokenStyle.backgroundColor;\n                    var bgImg = textBackgroundColor && textBackgroundColor.image;\n                    if (bgImg) {\n                        bgImg = imageHelper.findExistImage(bgImg);\n                        if (imageHelper.isImageReady(bgImg)) {\n                            token.width = Math.max(token.width, bgImg.width * tokenHeight / bgImg.height);\n                        }\n                    }\n                }\n                var remainTruncWidth = truncate && topWidth != null\n                    ? topWidth - lineWidth : null;\n                if (remainTruncWidth != null && remainTruncWidth < token.width) {\n                    if (!tokenWidthNotSpecified || remainTruncWidth < paddingH) {\n                        token.text = '';\n                        token.width = token.contentWidth = 0;\n                    }\n                    else {\n                        token.text = truncateText(token.text, remainTruncWidth - paddingH, font, style.ellipsis, { minChar: style.truncateMinChar });\n                        token.width = token.contentWidth = getWidth(token.text, font);\n                    }\n                }\n                else {\n                    token.contentWidth = getWidth(token.text, font);\n                }\n            }\n            token.width += paddingH;\n            lineWidth += token.width;\n            tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n        }\n        finishLine(line, lineWidth, lineHeight);\n    }\n    contentBlock.outerWidth = contentBlock.width = retrieve2(topWidth, calculatedWidth);\n    contentBlock.outerHeight = contentBlock.height = retrieve2(topHeight, calculatedHeight);\n    contentBlock.contentHeight = calculatedHeight;\n    contentBlock.contentWidth = calculatedWidth;\n    if (stlPadding) {\n        contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n        contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n    }\n    for (var i = 0; i < pendingList.length; i++) {\n        var token = pendingList[i];\n        var percentWidth = token.percentWidth;\n        token.width = parseInt(percentWidth, 10) / 100 * contentBlock.width;\n    }\n    return contentBlock;\n}\nfunction pushTokens(block, str, style, wrapInfo, styleName) {\n    var isEmptyStr = str === '';\n    var tokenStyle = styleName && style.rich[styleName] || {};\n    var lines = block.lines;\n    var font = tokenStyle.font || style.font;\n    var newLine = false;\n    var strLines;\n    var linesWidths;\n    if (wrapInfo) {\n        var tokenPadding = tokenStyle.padding;\n        var tokenPaddingH = tokenPadding ? tokenPadding[1] + tokenPadding[3] : 0;\n        if (tokenStyle.width != null && tokenStyle.width !== 'auto') {\n            var outerWidth_1 = parsePercent(tokenStyle.width, wrapInfo.width) + tokenPaddingH;\n            if (lines.length > 0) {\n                if (outerWidth_1 + wrapInfo.accumWidth > wrapInfo.width) {\n                    strLines = str.split('\\n');\n                    newLine = true;\n                }\n            }\n            wrapInfo.accumWidth = outerWidth_1;\n        }\n        else {\n            var res = wrapText(str, font, wrapInfo.width, wrapInfo.breakAll, wrapInfo.accumWidth);\n            wrapInfo.accumWidth = res.accumWidth + tokenPaddingH;\n            linesWidths = res.linesWidths;\n            strLines = res.lines;\n        }\n    }\n    else {\n        strLines = str.split('\\n');\n    }\n    for (var i = 0; i < strLines.length; i++) {\n        var text = strLines[i];\n        var token = new RichTextToken();\n        token.styleName = styleName;\n        token.text = text;\n        token.isLineHolder = !text && !isEmptyStr;\n        if (typeof tokenStyle.width === 'number') {\n            token.width = tokenStyle.width;\n        }\n        else {\n            token.width = linesWidths\n                ? linesWidths[i]\n                : getWidth(text, font);\n        }\n        if (!i && !newLine) {\n            var tokens = (lines[lines.length - 1] || (lines[0] = new RichTextLine())).tokens;\n            var tokensLen = tokens.length;\n            (tokensLen === 1 && tokens[0].isLineHolder)\n                ? (tokens[0] = token)\n                : ((text || !tokensLen || isEmptyStr) && tokens.push(token));\n        }\n        else {\n            lines.push(new RichTextLine([token]));\n        }\n    }\n}\nfunction isAlphabeticLetter(ch) {\n    var code = ch.charCodeAt(0);\n    return code >= 0x20 && code <= 0x24F\n        || code >= 0x370 && code <= 0x10FF\n        || code >= 0x1200 && code <= 0x13FF\n        || code >= 0x1E00 && code <= 0x206F;\n}\nvar breakCharMap = reduce(',&?/;] '.split(''), function (obj, ch) {\n    obj[ch] = true;\n    return obj;\n}, {});\nfunction isWordBreakChar(ch) {\n    if (isAlphabeticLetter(ch)) {\n        if (breakCharMap[ch]) {\n            return true;\n        }\n        return false;\n    }\n    return true;\n}\nfunction wrapText(text, font, lineWidth, isBreakAll, lastAccumWidth) {\n    var lines = [];\n    var linesWidths = [];\n    var line = '';\n    var currentWord = '';\n    var currentWordWidth = 0;\n    var accumWidth = 0;\n    for (var i = 0; i < text.length; i++) {\n        var ch = text.charAt(i);\n        if (ch === '\\n') {\n            if (currentWord) {\n                line += currentWord;\n                accumWidth += currentWordWidth;\n            }\n            lines.push(line);\n            linesWidths.push(accumWidth);\n            line = '';\n            currentWord = '';\n            currentWordWidth = 0;\n            accumWidth = 0;\n            continue;\n        }\n        var chWidth = getWidth(ch, font);\n        var inWord = isBreakAll ? false : !isWordBreakChar(ch);\n        if (!lines.length\n            ? lastAccumWidth + accumWidth + chWidth > lineWidth\n            : accumWidth + chWidth > lineWidth) {\n            if (!accumWidth) {\n                if (inWord) {\n                    lines.push(currentWord);\n                    linesWidths.push(currentWordWidth);\n                    currentWord = ch;\n                    currentWordWidth = chWidth;\n                }\n                else {\n                    lines.push(ch);\n                    linesWidths.push(chWidth);\n                }\n            }\n            else if (line || currentWord) {\n                if (inWord) {\n                    if (!line) {\n                        line = currentWord;\n                        currentWord = '';\n                        currentWordWidth = 0;\n                        accumWidth = currentWordWidth;\n                    }\n                    lines.push(line);\n                    linesWidths.push(accumWidth - currentWordWidth);\n                    currentWord += ch;\n                    currentWordWidth += chWidth;\n                    line = '';\n                    accumWidth = currentWordWidth;\n                }\n                else {\n                    if (currentWord) {\n                        line += currentWord;\n                        currentWord = '';\n                        currentWordWidth = 0;\n                    }\n                    lines.push(line);\n                    linesWidths.push(accumWidth);\n                    line = ch;\n                    accumWidth = chWidth;\n                }\n            }\n            continue;\n        }\n        accumWidth += chWidth;\n        if (inWord) {\n            currentWord += ch;\n            currentWordWidth += chWidth;\n        }\n        else {\n            if (currentWord) {\n                line += currentWord;\n                currentWord = '';\n                currentWordWidth = 0;\n            }\n            line += ch;\n        }\n    }\n    if (!lines.length && !line) {\n        line = text;\n        currentWord = '';\n        currentWordWidth = 0;\n    }\n    if (currentWord) {\n        line += currentWord;\n    }\n    if (line) {\n        lines.push(line);\n        linesWidths.push(accumWidth);\n    }\n    if (lines.length === 1) {\n        accumWidth += lastAccumWidth;\n    }\n    return {\n        accumWidth: accumWidth,\n        lines: lines,\n        linesWidths: linesWidths\n    };\n}\n","import { __extends } from \"tslib\";\nimport Element from '../Element.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { keys, extend, createObject } from '../core/util.js';\nimport { REDRAW_BIT, STYLE_CHANGED_BIT } from './constants.js';\nvar STYLE_MAGIC_KEY = '__zr_style_' + Math.round((Math.random() * 10));\nexport var DEFAULT_COMMON_STYLE = {\n    shadowBlur: 0,\n    shadowOffsetX: 0,\n    shadowOffsetY: 0,\n    shadowColor: '#000',\n    opacity: 1,\n    blend: 'source-over'\n};\nexport var DEFAULT_COMMON_ANIMATION_PROPS = {\n    style: {\n        shadowBlur: true,\n        shadowOffsetX: true,\n        shadowOffsetY: true,\n        shadowColor: true,\n        opacity: true\n    }\n};\nDEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY] = true;\nvar PRIMARY_STATES_KEYS = ['z', 'z2', 'invisible'];\nvar PRIMARY_STATES_KEYS_IN_HOVER_LAYER = ['invisible'];\nvar Displayable = (function (_super) {\n    __extends(Displayable, _super);\n    function Displayable(props) {\n        return _super.call(this, props) || this;\n    }\n    Displayable.prototype._init = function (props) {\n        var keysArr = keys(props);\n        for (var i = 0; i < keysArr.length; i++) {\n            var key = keysArr[i];\n            if (key === 'style') {\n                this.useStyle(props[key]);\n            }\n            else {\n                _super.prototype.attrKV.call(this, key, props[key]);\n            }\n        }\n        if (!this.style) {\n            this.useStyle({});\n        }\n    };\n    Displayable.prototype.beforeBrush = function () { };\n    Displayable.prototype.afterBrush = function () { };\n    Displayable.prototype.innerBeforeBrush = function () { };\n    Displayable.prototype.innerAfterBrush = function () { };\n    Displayable.prototype.shouldBePainted = function (viewWidth, viewHeight, considerClipPath, considerAncestors) {\n        var m = this.transform;\n        if (this.ignore\n            || this.invisible\n            || this.style.opacity === 0\n            || (this.culling\n                && isDisplayableCulled(this, viewWidth, viewHeight))\n            || (m && !m[0] && !m[3])) {\n            return false;\n        }\n        if (considerClipPath && this.__clipPaths) {\n            for (var i = 0; i < this.__clipPaths.length; ++i) {\n                if (this.__clipPaths[i].isZeroArea()) {\n                    return false;\n                }\n            }\n        }\n        if (considerAncestors && this.parent) {\n            var parent_1 = this.parent;\n            while (parent_1) {\n                if (parent_1.ignore) {\n                    return false;\n                }\n                parent_1 = parent_1.parent;\n            }\n        }\n        return true;\n    };\n    Displayable.prototype.contain = function (x, y) {\n        return this.rectContain(x, y);\n    };\n    Displayable.prototype.traverse = function (cb, context) {\n        cb.call(context, this);\n    };\n    Displayable.prototype.rectContain = function (x, y) {\n        var coord = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        return rect.contain(coord[0], coord[1]);\n    };\n    Displayable.prototype.getPaintRect = function () {\n        var rect = this._paintRect;\n        if (!this._paintRect || this.__dirty) {\n            var transform = this.transform;\n            var elRect = this.getBoundingRect();\n            var style = this.style;\n            var shadowSize = style.shadowBlur || 0;\n            var shadowOffsetX = style.shadowOffsetX || 0;\n            var shadowOffsetY = style.shadowOffsetY || 0;\n            rect = this._paintRect || (this._paintRect = new BoundingRect(0, 0, 0, 0));\n            if (transform) {\n                BoundingRect.applyTransform(rect, elRect, transform);\n            }\n            else {\n                rect.copy(elRect);\n            }\n            if (shadowSize || shadowOffsetX || shadowOffsetY) {\n                rect.width += shadowSize * 2 + Math.abs(shadowOffsetX);\n                rect.height += shadowSize * 2 + Math.abs(shadowOffsetY);\n                rect.x = Math.min(rect.x, rect.x + shadowOffsetX - shadowSize);\n                rect.y = Math.min(rect.y, rect.y + shadowOffsetY - shadowSize);\n            }\n            var tolerance = this.dirtyRectTolerance;\n            if (!rect.isZero()) {\n                rect.x = Math.floor(rect.x - tolerance);\n                rect.y = Math.floor(rect.y - tolerance);\n                rect.width = Math.ceil(rect.width + 1 + tolerance * 2);\n                rect.height = Math.ceil(rect.height + 1 + tolerance * 2);\n            }\n        }\n        return rect;\n    };\n    Displayable.prototype.setPrevPaintRect = function (paintRect) {\n        if (paintRect) {\n            this._prevPaintRect = this._prevPaintRect || new BoundingRect(0, 0, 0, 0);\n            this._prevPaintRect.copy(paintRect);\n        }\n        else {\n            this._prevPaintRect = null;\n        }\n    };\n    Displayable.prototype.getPrevPaintRect = function () {\n        return this._prevPaintRect;\n    };\n    Displayable.prototype.animateStyle = function (loop) {\n        return this.animate('style', loop);\n    };\n    Displayable.prototype.updateDuringAnimation = function (targetKey) {\n        if (targetKey === 'style') {\n            this.dirtyStyle();\n        }\n        else {\n            this.markRedraw();\n        }\n    };\n    Displayable.prototype.attrKV = function (key, value) {\n        if (key !== 'style') {\n            _super.prototype.attrKV.call(this, key, value);\n        }\n        else {\n            if (!this.style) {\n                this.useStyle(value);\n            }\n            else {\n                this.setStyle(value);\n            }\n        }\n    };\n    Displayable.prototype.setStyle = function (keyOrObj, value) {\n        if (typeof keyOrObj === 'string') {\n            this.style[keyOrObj] = value;\n        }\n        else {\n            extend(this.style, keyOrObj);\n        }\n        this.dirtyStyle();\n        return this;\n    };\n    Displayable.prototype.dirtyStyle = function (notRedraw) {\n        if (!notRedraw) {\n            this.markRedraw();\n        }\n        this.__dirty |= STYLE_CHANGED_BIT;\n        if (this._rect) {\n            this._rect = null;\n        }\n    };\n    Displayable.prototype.dirty = function () {\n        this.dirtyStyle();\n    };\n    Displayable.prototype.styleChanged = function () {\n        return !!(this.__dirty & STYLE_CHANGED_BIT);\n    };\n    Displayable.prototype.styleUpdated = function () {\n        this.__dirty &= ~STYLE_CHANGED_BIT;\n    };\n    Displayable.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_COMMON_STYLE, obj);\n    };\n    Displayable.prototype.useStyle = function (obj) {\n        if (!obj[STYLE_MAGIC_KEY]) {\n            obj = this.createStyle(obj);\n        }\n        if (this.__inHover) {\n            this.__hoverStyle = obj;\n        }\n        else {\n            this.style = obj;\n        }\n        this.dirtyStyle();\n    };\n    Displayable.prototype.isStyleObject = function (obj) {\n        return obj[STYLE_MAGIC_KEY];\n    };\n    Displayable.prototype._innerSaveToNormal = function (toState) {\n        _super.prototype._innerSaveToNormal.call(this, toState);\n        var normalState = this._normalState;\n        if (toState.style && !normalState.style) {\n            normalState.style = this._mergeStyle(this.createStyle(), this.style);\n        }\n        this._savePrimaryToNormal(toState, normalState, PRIMARY_STATES_KEYS);\n    };\n    Displayable.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n        _super.prototype._applyStateObj.call(this, stateName, state, normalState, keepCurrentStates, transition, animationCfg);\n        var needsRestoreToNormal = !(state && keepCurrentStates);\n        var targetStyle;\n        if (state && state.style) {\n            if (transition) {\n                if (keepCurrentStates) {\n                    targetStyle = state.style;\n                }\n                else {\n                    targetStyle = this._mergeStyle(this.createStyle(), normalState.style);\n                    this._mergeStyle(targetStyle, state.style);\n                }\n            }\n            else {\n                targetStyle = this._mergeStyle(this.createStyle(), keepCurrentStates ? this.style : normalState.style);\n                this._mergeStyle(targetStyle, state.style);\n            }\n        }\n        else if (needsRestoreToNormal) {\n            targetStyle = normalState.style;\n        }\n        if (targetStyle) {\n            if (transition) {\n                var sourceStyle = this.style;\n                this.style = this.createStyle(needsRestoreToNormal ? {} : sourceStyle);\n                if (needsRestoreToNormal) {\n                    var changedKeys = keys(sourceStyle);\n                    for (var i = 0; i < changedKeys.length; i++) {\n                        var key = changedKeys[i];\n                        if (key in targetStyle) {\n                            targetStyle[key] = targetStyle[key];\n                            this.style[key] = sourceStyle[key];\n                        }\n                    }\n                }\n                var targetKeys = keys(targetStyle);\n                for (var i = 0; i < targetKeys.length; i++) {\n                    var key = targetKeys[i];\n                    this.style[key] = this.style[key];\n                }\n                this._transitionState(stateName, {\n                    style: targetStyle\n                }, animationCfg, this.getAnimationStyleProps());\n            }\n            else {\n                this.useStyle(targetStyle);\n            }\n        }\n        var statesKeys = this.__inHover ? PRIMARY_STATES_KEYS_IN_HOVER_LAYER : PRIMARY_STATES_KEYS;\n        for (var i = 0; i < statesKeys.length; i++) {\n            var key = statesKeys[i];\n            if (state && state[key] != null) {\n                this[key] = state[key];\n            }\n            else if (needsRestoreToNormal) {\n                if (normalState[key] != null) {\n                    this[key] = normalState[key];\n                }\n            }\n        }\n    };\n    Displayable.prototype._mergeStates = function (states) {\n        var mergedState = _super.prototype._mergeStates.call(this, states);\n        var mergedStyle;\n        for (var i = 0; i < states.length; i++) {\n            var state = states[i];\n            if (state.style) {\n                mergedStyle = mergedStyle || {};\n                this._mergeStyle(mergedStyle, state.style);\n            }\n        }\n        if (mergedStyle) {\n            mergedState.style = mergedStyle;\n        }\n        return mergedState;\n    };\n    Displayable.prototype._mergeStyle = function (targetStyle, sourceStyle) {\n        extend(targetStyle, sourceStyle);\n        return targetStyle;\n    };\n    Displayable.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_COMMON_ANIMATION_PROPS;\n    };\n    Displayable.initDefaultProps = (function () {\n        var dispProto = Displayable.prototype;\n        dispProto.type = 'displayable';\n        dispProto.invisible = false;\n        dispProto.z = 0;\n        dispProto.z2 = 0;\n        dispProto.zlevel = 0;\n        dispProto.culling = false;\n        dispProto.cursor = 'pointer';\n        dispProto.rectHover = false;\n        dispProto.incremental = false;\n        dispProto._rect = null;\n        dispProto.dirtyRectTolerance = 0;\n        dispProto.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT;\n    })();\n    return Displayable;\n}(Element));\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\nvar viewRect = new BoundingRect(0, 0, 0, 0);\nfunction isDisplayableCulled(el, width, height) {\n    tmpRect.copy(el.getBoundingRect());\n    if (el.transform) {\n        tmpRect.applyTransform(el.transform);\n    }\n    viewRect.width = width;\n    viewRect.height = height;\n    return !tmpRect.intersect(viewRect);\n}\nexport default Displayable;\n","import * as vec2 from './vector.js';\nimport * as curve from './curve.js';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI2 = Math.PI * 2;\nvar start = vec2.create();\nvar end = vec2.create();\nvar extremity = vec2.create();\nexport function fromPoints(points, min, max) {\n    if (points.length === 0) {\n        return;\n    }\n    var p = points[0];\n    var left = p[0];\n    var right = p[0];\n    var top = p[1];\n    var bottom = p[1];\n    for (var i = 1; i < points.length; i++) {\n        p = points[i];\n        left = mathMin(left, p[0]);\n        right = mathMax(right, p[0]);\n        top = mathMin(top, p[1]);\n        bottom = mathMax(bottom, p[1]);\n    }\n    min[0] = left;\n    min[1] = top;\n    max[0] = right;\n    max[1] = bottom;\n}\nexport function fromLine(x0, y0, x1, y1, min, max) {\n    min[0] = mathMin(x0, x1);\n    min[1] = mathMin(y0, y1);\n    max[0] = mathMax(x0, x1);\n    max[1] = mathMax(y0, y1);\n}\nvar xDim = [];\nvar yDim = [];\nexport function fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n    var cubicExtrema = curve.cubicExtrema;\n    var cubicAt = curve.cubicAt;\n    var n = cubicExtrema(x0, x1, x2, x3, xDim);\n    min[0] = Infinity;\n    min[1] = Infinity;\n    max[0] = -Infinity;\n    max[1] = -Infinity;\n    for (var i = 0; i < n; i++) {\n        var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n        min[0] = mathMin(x, min[0]);\n        max[0] = mathMax(x, max[0]);\n    }\n    n = cubicExtrema(y0, y1, y2, y3, yDim);\n    for (var i = 0; i < n; i++) {\n        var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n        min[1] = mathMin(y, min[1]);\n        max[1] = mathMax(y, max[1]);\n    }\n    min[0] = mathMin(x0, min[0]);\n    max[0] = mathMax(x0, max[0]);\n    min[0] = mathMin(x3, min[0]);\n    max[0] = mathMax(x3, max[0]);\n    min[1] = mathMin(y0, min[1]);\n    max[1] = mathMax(y0, max[1]);\n    min[1] = mathMin(y3, min[1]);\n    max[1] = mathMax(y3, max[1]);\n}\nexport function fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n    var quadraticExtremum = curve.quadraticExtremum;\n    var quadraticAt = curve.quadraticAt;\n    var tx = mathMax(mathMin(quadraticExtremum(x0, x1, x2), 1), 0);\n    var ty = mathMax(mathMin(quadraticExtremum(y0, y1, y2), 1), 0);\n    var x = quadraticAt(x0, x1, x2, tx);\n    var y = quadraticAt(y0, y1, y2, ty);\n    min[0] = mathMin(x0, x2, x);\n    min[1] = mathMin(y0, y2, y);\n    max[0] = mathMax(x0, x2, x);\n    max[1] = mathMax(y0, y2, y);\n}\nexport function fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n    var vec2Min = vec2.min;\n    var vec2Max = vec2.max;\n    var diff = Math.abs(startAngle - endAngle);\n    if (diff % PI2 < 1e-4 && diff > 1e-4) {\n        min[0] = x - rx;\n        min[1] = y - ry;\n        max[0] = x + rx;\n        max[1] = y + ry;\n        return;\n    }\n    start[0] = mathCos(startAngle) * rx + x;\n    start[1] = mathSin(startAngle) * ry + y;\n    end[0] = mathCos(endAngle) * rx + x;\n    end[1] = mathSin(endAngle) * ry + y;\n    vec2Min(min, start, end);\n    vec2Max(max, start, end);\n    startAngle = startAngle % (PI2);\n    if (startAngle < 0) {\n        startAngle = startAngle + PI2;\n    }\n    endAngle = endAngle % (PI2);\n    if (endAngle < 0) {\n        endAngle = endAngle + PI2;\n    }\n    if (startAngle > endAngle && !anticlockwise) {\n        endAngle += PI2;\n    }\n    else if (startAngle < endAngle && anticlockwise) {\n        startAngle += PI2;\n    }\n    if (anticlockwise) {\n        var tmp = endAngle;\n        endAngle = startAngle;\n        startAngle = tmp;\n    }\n    for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n        if (angle > startAngle) {\n            extremity[0] = mathCos(angle) * rx + x;\n            extremity[1] = mathSin(angle) * ry + y;\n            vec2Min(min, extremity, min);\n            vec2Max(max, extremity, max);\n        }\n    }\n}\n","import * as vec2 from './vector.js';\nimport BoundingRect from './BoundingRect.js';\nimport { devicePixelRatio as dpr } from '../config.js';\nimport { fromLine, fromCubic, fromQuadratic, fromArc } from './bbox.js';\nimport { cubicLength, cubicSubdivide, quadraticLength, quadraticSubdivide } from './curve.js';\nvar CMD = {\n    M: 1,\n    L: 2,\n    C: 3,\n    Q: 4,\n    A: 5,\n    Z: 6,\n    R: 7\n};\nvar tmpOutX = [];\nvar tmpOutY = [];\nvar min = [];\nvar max = [];\nvar min2 = [];\nvar max2 = [];\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathCos = Math.cos;\nvar mathSin = Math.sin;\nvar mathAbs = Math.abs;\nvar PI = Math.PI;\nvar PI2 = PI * 2;\nvar hasTypedArray = typeof Float32Array !== 'undefined';\nvar tmpAngles = [];\nfunction modPI2(radian) {\n    var n = Math.round(radian / PI * 1e8) / 1e8;\n    return (n % 2) * PI;\n}\nexport function normalizeArcAngles(angles, anticlockwise) {\n    var newStartAngle = modPI2(angles[0]);\n    if (newStartAngle < 0) {\n        newStartAngle += PI2;\n    }\n    var delta = newStartAngle - angles[0];\n    var newEndAngle = angles[1];\n    newEndAngle += delta;\n    if (!anticlockwise && newEndAngle - newStartAngle >= PI2) {\n        newEndAngle = newStartAngle + PI2;\n    }\n    else if (anticlockwise && newStartAngle - newEndAngle >= PI2) {\n        newEndAngle = newStartAngle - PI2;\n    }\n    else if (!anticlockwise && newStartAngle > newEndAngle) {\n        newEndAngle = newStartAngle + (PI2 - modPI2(newStartAngle - newEndAngle));\n    }\n    else if (anticlockwise && newStartAngle < newEndAngle) {\n        newEndAngle = newStartAngle - (PI2 - modPI2(newEndAngle - newStartAngle));\n    }\n    angles[0] = newStartAngle;\n    angles[1] = newEndAngle;\n}\nvar PathProxy = (function () {\n    function PathProxy(notSaveData) {\n        this.dpr = 1;\n        this._xi = 0;\n        this._yi = 0;\n        this._x0 = 0;\n        this._y0 = 0;\n        this._len = 0;\n        if (notSaveData) {\n            this._saveData = false;\n        }\n        if (this._saveData) {\n            this.data = [];\n        }\n    }\n    PathProxy.prototype.increaseVersion = function () {\n        this._version++;\n    };\n    PathProxy.prototype.getVersion = function () {\n        return this._version;\n    };\n    PathProxy.prototype.setScale = function (sx, sy, segmentIgnoreThreshold) {\n        segmentIgnoreThreshold = segmentIgnoreThreshold || 0;\n        if (segmentIgnoreThreshold > 0) {\n            this._ux = mathAbs(segmentIgnoreThreshold / dpr / sx) || 0;\n            this._uy = mathAbs(segmentIgnoreThreshold / dpr / sy) || 0;\n        }\n    };\n    PathProxy.prototype.setDPR = function (dpr) {\n        this.dpr = dpr;\n    };\n    PathProxy.prototype.setContext = function (ctx) {\n        this._ctx = ctx;\n    };\n    PathProxy.prototype.getContext = function () {\n        return this._ctx;\n    };\n    PathProxy.prototype.beginPath = function () {\n        this._ctx && this._ctx.beginPath();\n        this.reset();\n        return this;\n    };\n    PathProxy.prototype.reset = function () {\n        if (this._saveData) {\n            this._len = 0;\n        }\n        if (this._pathSegLen) {\n            this._pathSegLen = null;\n            this._pathLen = 0;\n        }\n        this._version++;\n    };\n    PathProxy.prototype.moveTo = function (x, y) {\n        this._drawPendingPt();\n        this.addData(CMD.M, x, y);\n        this._ctx && this._ctx.moveTo(x, y);\n        this._x0 = x;\n        this._y0 = y;\n        this._xi = x;\n        this._yi = y;\n        return this;\n    };\n    PathProxy.prototype.lineTo = function (x, y) {\n        var dx = mathAbs(x - this._xi);\n        var dy = mathAbs(y - this._yi);\n        var exceedUnit = dx > this._ux || dy > this._uy;\n        this.addData(CMD.L, x, y);\n        if (this._ctx && exceedUnit) {\n            this._ctx.lineTo(x, y);\n        }\n        if (exceedUnit) {\n            this._xi = x;\n            this._yi = y;\n            this._pendingPtDist = 0;\n        }\n        else {\n            var d2 = dx * dx + dy * dy;\n            if (d2 > this._pendingPtDist) {\n                this._pendingPtX = x;\n                this._pendingPtY = y;\n                this._pendingPtDist = d2;\n            }\n        }\n        return this;\n    };\n    PathProxy.prototype.bezierCurveTo = function (x1, y1, x2, y2, x3, y3) {\n        this._drawPendingPt();\n        this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n        if (this._ctx) {\n            this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n        }\n        this._xi = x3;\n        this._yi = y3;\n        return this;\n    };\n    PathProxy.prototype.quadraticCurveTo = function (x1, y1, x2, y2) {\n        this._drawPendingPt();\n        this.addData(CMD.Q, x1, y1, x2, y2);\n        if (this._ctx) {\n            this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n        }\n        this._xi = x2;\n        this._yi = y2;\n        return this;\n    };\n    PathProxy.prototype.arc = function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n        this._drawPendingPt();\n        tmpAngles[0] = startAngle;\n        tmpAngles[1] = endAngle;\n        normalizeArcAngles(tmpAngles, anticlockwise);\n        startAngle = tmpAngles[0];\n        endAngle = tmpAngles[1];\n        var delta = endAngle - startAngle;\n        this.addData(CMD.A, cx, cy, r, r, startAngle, delta, 0, anticlockwise ? 0 : 1);\n        this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n        this._xi = mathCos(endAngle) * r + cx;\n        this._yi = mathSin(endAngle) * r + cy;\n        return this;\n    };\n    PathProxy.prototype.arcTo = function (x1, y1, x2, y2, radius) {\n        this._drawPendingPt();\n        if (this._ctx) {\n            this._ctx.arcTo(x1, y1, x2, y2, radius);\n        }\n        return this;\n    };\n    PathProxy.prototype.rect = function (x, y, w, h) {\n        this._drawPendingPt();\n        this._ctx && this._ctx.rect(x, y, w, h);\n        this.addData(CMD.R, x, y, w, h);\n        return this;\n    };\n    PathProxy.prototype.closePath = function () {\n        this._drawPendingPt();\n        this.addData(CMD.Z);\n        var ctx = this._ctx;\n        var x0 = this._x0;\n        var y0 = this._y0;\n        if (ctx) {\n            ctx.closePath();\n        }\n        this._xi = x0;\n        this._yi = y0;\n        return this;\n    };\n    PathProxy.prototype.fill = function (ctx) {\n        ctx && ctx.fill();\n        this.toStatic();\n    };\n    PathProxy.prototype.stroke = function (ctx) {\n        ctx && ctx.stroke();\n        this.toStatic();\n    };\n    PathProxy.prototype.len = function () {\n        return this._len;\n    };\n    PathProxy.prototype.setData = function (data) {\n        var len = data.length;\n        if (!(this.data && this.data.length === len) && hasTypedArray) {\n            this.data = new Float32Array(len);\n        }\n        for (var i = 0; i < len; i++) {\n            this.data[i] = data[i];\n        }\n        this._len = len;\n    };\n    PathProxy.prototype.appendPath = function (path) {\n        if (!(path instanceof Array)) {\n            path = [path];\n        }\n        var len = path.length;\n        var appendSize = 0;\n        var offset = this._len;\n        for (var i = 0; i < len; i++) {\n            appendSize += path[i].len();\n        }\n        if (hasTypedArray && (this.data instanceof Float32Array)) {\n            this.data = new Float32Array(offset + appendSize);\n        }\n        for (var i = 0; i < len; i++) {\n            var appendPathData = path[i].data;\n            for (var k = 0; k < appendPathData.length; k++) {\n                this.data[offset++] = appendPathData[k];\n            }\n        }\n        this._len = offset;\n    };\n    PathProxy.prototype.addData = function (cmd, a, b, c, d, e, f, g, h) {\n        if (!this._saveData) {\n            return;\n        }\n        var data = this.data;\n        if (this._len + arguments.length > data.length) {\n            this._expandData();\n            data = this.data;\n        }\n        for (var i = 0; i < arguments.length; i++) {\n            data[this._len++] = arguments[i];\n        }\n    };\n    PathProxy.prototype._drawPendingPt = function () {\n        if (this._pendingPtDist > 0) {\n            this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY);\n            this._pendingPtDist = 0;\n        }\n    };\n    PathProxy.prototype._expandData = function () {\n        if (!(this.data instanceof Array)) {\n            var newData = [];\n            for (var i = 0; i < this._len; i++) {\n                newData[i] = this.data[i];\n            }\n            this.data = newData;\n        }\n    };\n    PathProxy.prototype.toStatic = function () {\n        if (!this._saveData) {\n            return;\n        }\n        this._drawPendingPt();\n        var data = this.data;\n        if (data instanceof Array) {\n            data.length = this._len;\n            if (hasTypedArray && this._len > 11) {\n                this.data = new Float32Array(data);\n            }\n        }\n    };\n    PathProxy.prototype.getBoundingRect = function () {\n        min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n        max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n        var data = this.data;\n        var xi = 0;\n        var yi = 0;\n        var x0 = 0;\n        var y0 = 0;\n        var i;\n        for (i = 0; i < this._len;) {\n            var cmd = data[i++];\n            var isFirst = i === 1;\n            if (isFirst) {\n                xi = data[i];\n                yi = data[i + 1];\n                x0 = xi;\n                y0 = yi;\n            }\n            switch (cmd) {\n                case CMD.M:\n                    xi = x0 = data[i++];\n                    yi = y0 = data[i++];\n                    min2[0] = x0;\n                    min2[1] = y0;\n                    max2[0] = x0;\n                    max2[1] = y0;\n                    break;\n                case CMD.L:\n                    fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.C:\n                    fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.Q:\n                    fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.A:\n                    var cx = data[i++];\n                    var cy = data[i++];\n                    var rx = data[i++];\n                    var ry = data[i++];\n                    var startAngle = data[i++];\n                    var endAngle = data[i++] + startAngle;\n                    i += 1;\n                    var anticlockwise = !data[i++];\n                    if (isFirst) {\n                        x0 = mathCos(startAngle) * rx + cx;\n                        y0 = mathSin(startAngle) * ry + cy;\n                    }\n                    fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n                    xi = mathCos(endAngle) * rx + cx;\n                    yi = mathSin(endAngle) * ry + cy;\n                    break;\n                case CMD.R:\n                    x0 = xi = data[i++];\n                    y0 = yi = data[i++];\n                    var width = data[i++];\n                    var height = data[i++];\n                    fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n                    break;\n                case CMD.Z:\n                    xi = x0;\n                    yi = y0;\n                    break;\n            }\n            vec2.min(min, min, min2);\n            vec2.max(max, max, max2);\n        }\n        if (i === 0) {\n            min[0] = min[1] = max[0] = max[1] = 0;\n        }\n        return new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    };\n    PathProxy.prototype._calculateLength = function () {\n        var data = this.data;\n        var len = this._len;\n        var ux = this._ux;\n        var uy = this._uy;\n        var xi = 0;\n        var yi = 0;\n        var x0 = 0;\n        var y0 = 0;\n        if (!this._pathSegLen) {\n            this._pathSegLen = [];\n        }\n        var pathSegLen = this._pathSegLen;\n        var pathTotalLen = 0;\n        var segCount = 0;\n        for (var i = 0; i < len;) {\n            var cmd = data[i++];\n            var isFirst = i === 1;\n            if (isFirst) {\n                xi = data[i];\n                yi = data[i + 1];\n                x0 = xi;\n                y0 = yi;\n            }\n            var l = -1;\n            switch (cmd) {\n                case CMD.M:\n                    xi = x0 = data[i++];\n                    yi = y0 = data[i++];\n                    break;\n                case CMD.L: {\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    var dx = x2 - xi;\n                    var dy = y2 - yi;\n                    if (mathAbs(dx) > ux || mathAbs(dy) > uy || i === len - 1) {\n                        l = Math.sqrt(dx * dx + dy * dy);\n                        xi = x2;\n                        yi = y2;\n                    }\n                    break;\n                }\n                case CMD.C: {\n                    var x1 = data[i++];\n                    var y1 = data[i++];\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    var x3 = data[i++];\n                    var y3 = data[i++];\n                    l = cubicLength(xi, yi, x1, y1, x2, y2, x3, y3, 10);\n                    xi = x3;\n                    yi = y3;\n                    break;\n                }\n                case CMD.Q: {\n                    var x1 = data[i++];\n                    var y1 = data[i++];\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    l = quadraticLength(xi, yi, x1, y1, x2, y2, 10);\n                    xi = x2;\n                    yi = y2;\n                    break;\n                }\n                case CMD.A:\n                    var cx = data[i++];\n                    var cy = data[i++];\n                    var rx = data[i++];\n                    var ry = data[i++];\n                    var startAngle = data[i++];\n                    var delta = data[i++];\n                    var endAngle = delta + startAngle;\n                    i += 1;\n                    if (isFirst) {\n                        x0 = mathCos(startAngle) * rx + cx;\n                        y0 = mathSin(startAngle) * ry + cy;\n                    }\n                    l = mathMax(rx, ry) * mathMin(PI2, Math.abs(delta));\n                    xi = mathCos(endAngle) * rx + cx;\n                    yi = mathSin(endAngle) * ry + cy;\n                    break;\n                case CMD.R: {\n                    x0 = xi = data[i++];\n                    y0 = yi = data[i++];\n                    var width = data[i++];\n                    var height = data[i++];\n                    l = width * 2 + height * 2;\n                    break;\n                }\n                case CMD.Z: {\n                    var dx = x0 - xi;\n                    var dy = y0 - yi;\n                    l = Math.sqrt(dx * dx + dy * dy);\n                    xi = x0;\n                    yi = y0;\n                    break;\n                }\n            }\n            if (l >= 0) {\n                pathSegLen[segCount++] = l;\n                pathTotalLen += l;\n            }\n        }\n        this._pathLen = pathTotalLen;\n        return pathTotalLen;\n    };\n    PathProxy.prototype.rebuildPath = function (ctx, percent) {\n        var d = this.data;\n        var ux = this._ux;\n        var uy = this._uy;\n        var len = this._len;\n        var x0;\n        var y0;\n        var xi;\n        var yi;\n        var x;\n        var y;\n        var drawPart = percent < 1;\n        var pathSegLen;\n        var pathTotalLen;\n        var accumLength = 0;\n        var segCount = 0;\n        var displayedLength;\n        var pendingPtDist = 0;\n        var pendingPtX;\n        var pendingPtY;\n        if (drawPart) {\n            if (!this._pathSegLen) {\n                this._calculateLength();\n            }\n            pathSegLen = this._pathSegLen;\n            pathTotalLen = this._pathLen;\n            displayedLength = percent * pathTotalLen;\n            if (!displayedLength) {\n                return;\n            }\n        }\n        lo: for (var i = 0; i < len;) {\n            var cmd = d[i++];\n            var isFirst = i === 1;\n            if (isFirst) {\n                xi = d[i];\n                yi = d[i + 1];\n                x0 = xi;\n                y0 = yi;\n            }\n            if (cmd !== CMD.L && pendingPtDist > 0) {\n                ctx.lineTo(pendingPtX, pendingPtY);\n                pendingPtDist = 0;\n            }\n            switch (cmd) {\n                case CMD.M:\n                    x0 = xi = d[i++];\n                    y0 = yi = d[i++];\n                    ctx.moveTo(xi, yi);\n                    break;\n                case CMD.L: {\n                    x = d[i++];\n                    y = d[i++];\n                    var dx = mathAbs(x - xi);\n                    var dy = mathAbs(y - yi);\n                    if (dx > ux || dy > uy) {\n                        if (drawPart) {\n                            var l = pathSegLen[segCount++];\n                            if (accumLength + l > displayedLength) {\n                                var t = (displayedLength - accumLength) / l;\n                                ctx.lineTo(xi * (1 - t) + x * t, yi * (1 - t) + y * t);\n                                break lo;\n                            }\n                            accumLength += l;\n                        }\n                        ctx.lineTo(x, y);\n                        xi = x;\n                        yi = y;\n                        pendingPtDist = 0;\n                    }\n                    else {\n                        var d2 = dx * dx + dy * dy;\n                        if (d2 > pendingPtDist) {\n                            pendingPtX = x;\n                            pendingPtY = y;\n                            pendingPtDist = d2;\n                        }\n                    }\n                    break;\n                }\n                case CMD.C: {\n                    var x1 = d[i++];\n                    var y1 = d[i++];\n                    var x2 = d[i++];\n                    var y2 = d[i++];\n                    var x3 = d[i++];\n                    var y3 = d[i++];\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var t = (displayedLength - accumLength) / l;\n                            cubicSubdivide(xi, x1, x2, x3, t, tmpOutX);\n                            cubicSubdivide(yi, y1, y2, y3, t, tmpOutY);\n                            ctx.bezierCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2], tmpOutX[3], tmpOutY[3]);\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n                    xi = x3;\n                    yi = y3;\n                    break;\n                }\n                case CMD.Q: {\n                    var x1 = d[i++];\n                    var y1 = d[i++];\n                    var x2 = d[i++];\n                    var y2 = d[i++];\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var t = (displayedLength - accumLength) / l;\n                            quadraticSubdivide(xi, x1, x2, t, tmpOutX);\n                            quadraticSubdivide(yi, y1, y2, t, tmpOutY);\n                            ctx.quadraticCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2]);\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.quadraticCurveTo(x1, y1, x2, y2);\n                    xi = x2;\n                    yi = y2;\n                    break;\n                }\n                case CMD.A:\n                    var cx = d[i++];\n                    var cy = d[i++];\n                    var rx = d[i++];\n                    var ry = d[i++];\n                    var startAngle = d[i++];\n                    var delta = d[i++];\n                    var psi = d[i++];\n                    var anticlockwise = !d[i++];\n                    var r = (rx > ry) ? rx : ry;\n                    var isEllipse = mathAbs(rx - ry) > 1e-3;\n                    var endAngle = startAngle + delta;\n                    var breakBuild = false;\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            endAngle = startAngle + delta * (displayedLength - accumLength) / l;\n                            breakBuild = true;\n                        }\n                        accumLength += l;\n                    }\n                    if (isEllipse && ctx.ellipse) {\n                        ctx.ellipse(cx, cy, rx, ry, psi, startAngle, endAngle, anticlockwise);\n                    }\n                    else {\n                        ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n                    }\n                    if (breakBuild) {\n                        break lo;\n                    }\n                    if (isFirst) {\n                        x0 = mathCos(startAngle) * rx + cx;\n                        y0 = mathSin(startAngle) * ry + cy;\n                    }\n                    xi = mathCos(endAngle) * rx + cx;\n                    yi = mathSin(endAngle) * ry + cy;\n                    break;\n                case CMD.R:\n                    x0 = xi = d[i];\n                    y0 = yi = d[i + 1];\n                    x = d[i++];\n                    y = d[i++];\n                    var width = d[i++];\n                    var height = d[i++];\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var d_1 = displayedLength - accumLength;\n                            ctx.moveTo(x, y);\n                            ctx.lineTo(x + mathMin(d_1, width), y);\n                            d_1 -= width;\n                            if (d_1 > 0) {\n                                ctx.lineTo(x + width, y + mathMin(d_1, height));\n                            }\n                            d_1 -= height;\n                            if (d_1 > 0) {\n                                ctx.lineTo(x + mathMax(width - d_1, 0), y + height);\n                            }\n                            d_1 -= width;\n                            if (d_1 > 0) {\n                                ctx.lineTo(x, y + mathMax(height - d_1, 0));\n                            }\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.rect(x, y, width, height);\n                    break;\n                case CMD.Z:\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var t = (displayedLength - accumLength) / l;\n                            ctx.lineTo(xi * (1 - t) + x0 * t, yi * (1 - t) + y0 * t);\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.closePath();\n                    xi = x0;\n                    yi = y0;\n            }\n        }\n    };\n    PathProxy.prototype.clone = function () {\n        var newProxy = new PathProxy();\n        var data = this.data;\n        newProxy.data = data.slice ? data.slice()\n            : Array.prototype.slice.call(data);\n        newProxy._len = this._len;\n        return newProxy;\n    };\n    PathProxy.CMD = CMD;\n    PathProxy.initDefaultProps = (function () {\n        var proto = PathProxy.prototype;\n        proto._saveData = true;\n        proto._ux = 0;\n        proto._uy = 0;\n        proto._pendingPtDist = 0;\n        proto._version = 0;\n    })();\n    return PathProxy;\n}());\nexport default PathProxy;\n","export function containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    var _a = 0;\n    var _b = x0;\n    if ((y > y0 + _l && y > y1 + _l)\n        || (y < y0 - _l && y < y1 - _l)\n        || (x > x0 + _l && x > x1 + _l)\n        || (x < x0 - _l && x < x1 - _l)) {\n        return false;\n    }\n    if (x0 !== x1) {\n        _a = (y0 - y1) / (x0 - x1);\n        _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n    }\n    else {\n        return Math.abs(x - x0) <= _l / 2;\n    }\n    var tmp = _a * x - y + _b;\n    var _s = tmp * tmp / (_a * _a + 1);\n    return _s <= _l / 2 * _l / 2;\n}\n","import * as curve from '../core/curve.js';\nexport function containStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    if ((y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l)\n        || (y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l)\n        || (x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l)\n        || (x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l)) {\n        return false;\n    }\n    var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n    return d <= _l / 2;\n}\n","import { quadraticProjectPoint } from '../core/curve.js';\nexport function containStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    if ((y > y0 + _l && y > y1 + _l && y > y2 + _l)\n        || (y < y0 - _l && y < y1 - _l && y < y2 - _l)\n        || (x > x0 + _l && x > x1 + _l && x > x2 + _l)\n        || (x < x0 - _l && x < x1 - _l && x < x2 - _l)) {\n        return false;\n    }\n    var d = quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, null);\n    return d <= _l / 2;\n}\n","var PI2 = Math.PI * 2;\nexport function normalizeRadian(angle) {\n    angle %= PI2;\n    if (angle < 0) {\n        angle += PI2;\n    }\n    return angle;\n}\n","import { normalizeRadian } from './util.js';\nvar PI2 = Math.PI * 2;\nexport function containStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    x -= cx;\n    y -= cy;\n    var d = Math.sqrt(x * x + y * y);\n    if ((d - _l > r) || (d + _l < r)) {\n        return false;\n    }\n    if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n        return true;\n    }\n    if (anticlockwise) {\n        var tmp = startAngle;\n        startAngle = normalizeRadian(endAngle);\n        endAngle = normalizeRadian(tmp);\n    }\n    else {\n        startAngle = normalizeRadian(startAngle);\n        endAngle = normalizeRadian(endAngle);\n    }\n    if (startAngle > endAngle) {\n        endAngle += PI2;\n    }\n    var angle = Math.atan2(y, x);\n    if (angle < 0) {\n        angle += PI2;\n    }\n    return (angle >= startAngle && angle <= endAngle)\n        || (angle + PI2 >= startAngle && angle + PI2 <= endAngle);\n}\n","export default function windingLine(x0, y0, x1, y1, x, y) {\n    if ((y > y0 && y > y1) || (y < y0 && y < y1)) {\n        return 0;\n    }\n    if (y1 === y0) {\n        return 0;\n    }\n    var t = (y - y0) / (y1 - y0);\n    var dir = y1 < y0 ? 1 : -1;\n    if (t === 1 || t === 0) {\n        dir = y1 < y0 ? 0.5 : -0.5;\n    }\n    var x_ = t * (x1 - x0) + x0;\n    return x_ === x ? Infinity : x_ > x ? dir : 0;\n}\n","import PathProxy from '../core/PathProxy.js';\nimport * as line from './line.js';\nimport * as cubic from './cubic.js';\nimport * as quadratic from './quadratic.js';\nimport * as arc from './arc.js';\nimport * as curve from '../core/curve.js';\nimport windingLine from './windingLine.js';\nvar CMD = PathProxy.CMD;\nvar PI2 = Math.PI * 2;\nvar EPSILON = 1e-4;\nfunction isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON;\n}\nvar roots = [-1, -1, -1];\nvar extrema = [-1, -1];\nfunction swapExtrema() {\n    var tmp = extrema[0];\n    extrema[0] = extrema[1];\n    extrema[1] = tmp;\n}\nfunction windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n    if ((y > y0 && y > y1 && y > y2 && y > y3)\n        || (y < y0 && y < y1 && y < y2 && y < y3)) {\n        return 0;\n    }\n    var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n    if (nRoots === 0) {\n        return 0;\n    }\n    else {\n        var w = 0;\n        var nExtrema = -1;\n        var y0_ = void 0;\n        var y1_ = void 0;\n        for (var i = 0; i < nRoots; i++) {\n            var t = roots[i];\n            var unit = (t === 0 || t === 1) ? 0.5 : 1;\n            var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n            if (x_ < x) {\n                continue;\n            }\n            if (nExtrema < 0) {\n                nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n                if (extrema[1] < extrema[0] && nExtrema > 1) {\n                    swapExtrema();\n                }\n                y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n                if (nExtrema > 1) {\n                    y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n                }\n            }\n            if (nExtrema === 2) {\n                if (t < extrema[0]) {\n                    w += y0_ < y0 ? unit : -unit;\n                }\n                else if (t < extrema[1]) {\n                    w += y1_ < y0_ ? unit : -unit;\n                }\n                else {\n                    w += y3 < y1_ ? unit : -unit;\n                }\n            }\n            else {\n                if (t < extrema[0]) {\n                    w += y0_ < y0 ? unit : -unit;\n                }\n                else {\n                    w += y3 < y0_ ? unit : -unit;\n                }\n            }\n        }\n        return w;\n    }\n}\nfunction windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n    if ((y > y0 && y > y1 && y > y2)\n        || (y < y0 && y < y1 && y < y2)) {\n        return 0;\n    }\n    var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n    if (nRoots === 0) {\n        return 0;\n    }\n    else {\n        var t = curve.quadraticExtremum(y0, y1, y2);\n        if (t >= 0 && t <= 1) {\n            var w = 0;\n            var y_ = curve.quadraticAt(y0, y1, y2, t);\n            for (var i = 0; i < nRoots; i++) {\n                var unit = (roots[i] === 0 || roots[i] === 1) ? 0.5 : 1;\n                var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n                if (x_ < x) {\n                    continue;\n                }\n                if (roots[i] < t) {\n                    w += y_ < y0 ? unit : -unit;\n                }\n                else {\n                    w += y2 < y_ ? unit : -unit;\n                }\n            }\n            return w;\n        }\n        else {\n            var unit = (roots[0] === 0 || roots[0] === 1) ? 0.5 : 1;\n            var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n            if (x_ < x) {\n                return 0;\n            }\n            return y2 < y0 ? unit : -unit;\n        }\n    }\n}\nfunction windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n    y -= cy;\n    if (y > r || y < -r) {\n        return 0;\n    }\n    var tmp = Math.sqrt(r * r - y * y);\n    roots[0] = -tmp;\n    roots[1] = tmp;\n    var dTheta = Math.abs(startAngle - endAngle);\n    if (dTheta < 1e-4) {\n        return 0;\n    }\n    if (dTheta >= PI2 - 1e-4) {\n        startAngle = 0;\n        endAngle = PI2;\n        var dir = anticlockwise ? 1 : -1;\n        if (x >= roots[0] + cx && x <= roots[1] + cx) {\n            return dir;\n        }\n        else {\n            return 0;\n        }\n    }\n    if (startAngle > endAngle) {\n        var tmp_1 = startAngle;\n        startAngle = endAngle;\n        endAngle = tmp_1;\n    }\n    if (startAngle < 0) {\n        startAngle += PI2;\n        endAngle += PI2;\n    }\n    var w = 0;\n    for (var i = 0; i < 2; i++) {\n        var x_ = roots[i];\n        if (x_ + cx > x) {\n            var angle = Math.atan2(y, x_);\n            var dir = anticlockwise ? 1 : -1;\n            if (angle < 0) {\n                angle = PI2 + angle;\n            }\n            if ((angle >= startAngle && angle <= endAngle)\n                || (angle + PI2 >= startAngle && angle + PI2 <= endAngle)) {\n                if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n                    dir = -dir;\n                }\n                w += dir;\n            }\n        }\n    }\n    return w;\n}\nfunction containPath(path, lineWidth, isStroke, x, y) {\n    var data = path.data;\n    var len = path.len();\n    var w = 0;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n    var x1;\n    var y1;\n    for (var i = 0; i < len;) {\n        var cmd = data[i++];\n        var isFirst = i === 1;\n        if (cmd === CMD.M && i > 1) {\n            if (!isStroke) {\n                w += windingLine(xi, yi, x0, y0, x, y);\n            }\n        }\n        if (isFirst) {\n            xi = data[i];\n            yi = data[i + 1];\n            x0 = xi;\n            y0 = yi;\n        }\n        switch (cmd) {\n            case CMD.M:\n                x0 = data[i++];\n                y0 = data[i++];\n                xi = x0;\n                yi = y0;\n                break;\n            case CMD.L:\n                if (isStroke) {\n                    if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingLine(xi, yi, data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD.C:\n                if (isStroke) {\n                    if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD.Q:\n                if (isStroke) {\n                    if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD.A:\n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var theta = data[i++];\n                var dTheta = data[i++];\n                i += 1;\n                var anticlockwise = !!(1 - data[i++]);\n                x1 = Math.cos(theta) * rx + cx;\n                y1 = Math.sin(theta) * ry + cy;\n                if (!isFirst) {\n                    w += windingLine(xi, yi, x1, y1, x, y);\n                }\n                else {\n                    x0 = x1;\n                    y0 = y1;\n                }\n                var _x = (x - cx) * ry / rx + cx;\n                if (isStroke) {\n                    if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n                }\n                xi = Math.cos(theta + dTheta) * rx + cx;\n                yi = Math.sin(theta + dTheta) * ry + cy;\n                break;\n            case CMD.R:\n                x0 = xi = data[i++];\n                y0 = yi = data[i++];\n                var width = data[i++];\n                var height = data[i++];\n                x1 = x0 + width;\n                y1 = y0 + height;\n                if (isStroke) {\n                    if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y)\n                        || line.containStroke(x1, y0, x1, y1, lineWidth, x, y)\n                        || line.containStroke(x1, y1, x0, y1, lineWidth, x, y)\n                        || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingLine(x1, y0, x1, y1, x, y);\n                    w += windingLine(x0, y1, x0, y0, x, y);\n                }\n                break;\n            case CMD.Z:\n                if (isStroke) {\n                    if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingLine(xi, yi, x0, y0, x, y);\n                }\n                xi = x0;\n                yi = y0;\n                break;\n        }\n    }\n    if (!isStroke && !isAroundEqual(yi, y0)) {\n        w += windingLine(xi, yi, x0, y0, x, y) || 0;\n    }\n    return w !== 0;\n}\nexport function contain(pathProxy, x, y) {\n    return containPath(pathProxy, 0, false, x, y);\n}\nexport function containStroke(pathProxy, lineWidth, x, y) {\n    return containPath(pathProxy, lineWidth, true, x, y);\n}\n","import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport PathProxy from '../core/PathProxy.js';\nimport * as pathContain from '../contain/path.js';\nimport { defaults, keys, extend, clone, isString, createObject } from '../core/util.js';\nimport { lum } from '../tool/color.js';\nimport { DARK_LABEL_COLOR, LIGHT_LABEL_COLOR, DARK_MODE_THRESHOLD, LIGHTER_LABEL_COLOR } from '../config.js';\nimport { REDRAW_BIT, SHAPE_CHANGED_BIT, STYLE_CHANGED_BIT } from './constants.js';\nimport { TRANSFORMABLE_PROPS } from '../core/Transformable.js';\nexport var DEFAULT_PATH_STYLE = defaults({\n    fill: '#000',\n    stroke: null,\n    strokePercent: 1,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    lineDashOffset: 0,\n    lineWidth: 1,\n    lineCap: 'butt',\n    miterLimit: 10,\n    strokeNoScale: false,\n    strokeFirst: false\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_PATH_ANIMATION_PROPS = {\n    style: defaults({\n        fill: true,\n        stroke: true,\n        strokePercent: true,\n        fillOpacity: true,\n        strokeOpacity: true,\n        lineDashOffset: true,\n        lineWidth: true,\n        miterLimit: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nvar pathCopyParams = TRANSFORMABLE_PROPS.concat(['invisible',\n    'culling', 'z', 'z2', 'zlevel', 'parent'\n]);\nvar Path = (function (_super) {\n    __extends(Path, _super);\n    function Path(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Path.prototype.update = function () {\n        var _this = this;\n        _super.prototype.update.call(this);\n        var style = this.style;\n        if (style.decal) {\n            var decalEl = this._decalEl = this._decalEl || new Path();\n            if (decalEl.buildPath === Path.prototype.buildPath) {\n                decalEl.buildPath = function (ctx) {\n                    _this.buildPath(ctx, _this.shape);\n                };\n            }\n            decalEl.silent = true;\n            var decalElStyle = decalEl.style;\n            for (var key in style) {\n                if (decalElStyle[key] !== style[key]) {\n                    decalElStyle[key] = style[key];\n                }\n            }\n            decalElStyle.fill = style.fill ? style.decal : null;\n            decalElStyle.decal = null;\n            decalElStyle.shadowColor = null;\n            style.strokeFirst && (decalElStyle.stroke = null);\n            for (var i = 0; i < pathCopyParams.length; ++i) {\n                decalEl[pathCopyParams[i]] = this[pathCopyParams[i]];\n            }\n            decalEl.__dirty |= REDRAW_BIT;\n        }\n        else if (this._decalEl) {\n            this._decalEl = null;\n        }\n    };\n    Path.prototype.getDecalElement = function () {\n        return this._decalEl;\n    };\n    Path.prototype._init = function (props) {\n        var keysArr = keys(props);\n        this.shape = this.getDefaultShape();\n        var defaultStyle = this.getDefaultStyle();\n        if (defaultStyle) {\n            this.useStyle(defaultStyle);\n        }\n        for (var i = 0; i < keysArr.length; i++) {\n            var key = keysArr[i];\n            var value = props[key];\n            if (key === 'style') {\n                if (!this.style) {\n                    this.useStyle(value);\n                }\n                else {\n                    extend(this.style, value);\n                }\n            }\n            else if (key === 'shape') {\n                extend(this.shape, value);\n            }\n            else {\n                _super.prototype.attrKV.call(this, key, value);\n            }\n        }\n        if (!this.style) {\n            this.useStyle({});\n        }\n    };\n    Path.prototype.getDefaultStyle = function () {\n        return null;\n    };\n    Path.prototype.getDefaultShape = function () {\n        return {};\n    };\n    Path.prototype.canBeInsideText = function () {\n        return this.hasFill();\n    };\n    Path.prototype.getInsideTextFill = function () {\n        var pathFill = this.style.fill;\n        if (pathFill !== 'none') {\n            if (isString(pathFill)) {\n                var fillLum = lum(pathFill, 0);\n                if (fillLum > 0.5) {\n                    return DARK_LABEL_COLOR;\n                }\n                else if (fillLum > 0.2) {\n                    return LIGHTER_LABEL_COLOR;\n                }\n                return LIGHT_LABEL_COLOR;\n            }\n            else if (pathFill) {\n                return LIGHT_LABEL_COLOR;\n            }\n        }\n        return DARK_LABEL_COLOR;\n    };\n    Path.prototype.getInsideTextStroke = function (textFill) {\n        var pathFill = this.style.fill;\n        if (isString(pathFill)) {\n            var zr = this.__zr;\n            var isDarkMode = !!(zr && zr.isDarkMode());\n            var isDarkLabel = lum(textFill, 0) < DARK_MODE_THRESHOLD;\n            if (isDarkMode === isDarkLabel) {\n                return pathFill;\n            }\n        }\n    };\n    Path.prototype.buildPath = function (ctx, shapeCfg, inBatch) { };\n    Path.prototype.pathUpdated = function () {\n        this.__dirty &= ~SHAPE_CHANGED_BIT;\n    };\n    Path.prototype.getUpdatedPathProxy = function (inBatch) {\n        !this.path && this.createPathProxy();\n        this.path.beginPath();\n        this.buildPath(this.path, this.shape, inBatch);\n        return this.path;\n    };\n    Path.prototype.createPathProxy = function () {\n        this.path = new PathProxy(false);\n    };\n    Path.prototype.hasStroke = function () {\n        var style = this.style;\n        var stroke = style.stroke;\n        return !(stroke == null || stroke === 'none' || !(style.lineWidth > 0));\n    };\n    Path.prototype.hasFill = function () {\n        var style = this.style;\n        var fill = style.fill;\n        return fill != null && fill !== 'none';\n    };\n    Path.prototype.getBoundingRect = function () {\n        var rect = this._rect;\n        var style = this.style;\n        var needsUpdateRect = !rect;\n        if (needsUpdateRect) {\n            var firstInvoke = false;\n            if (!this.path) {\n                firstInvoke = true;\n                this.createPathProxy();\n            }\n            var path = this.path;\n            if (firstInvoke || (this.__dirty & SHAPE_CHANGED_BIT)) {\n                path.beginPath();\n                this.buildPath(path, this.shape, false);\n                this.pathUpdated();\n            }\n            rect = path.getBoundingRect();\n        }\n        this._rect = rect;\n        if (this.hasStroke() && this.path && this.path.len() > 0) {\n            var rectStroke = this._rectStroke || (this._rectStroke = rect.clone());\n            if (this.__dirty || needsUpdateRect) {\n                rectStroke.copy(rect);\n                var lineScale = style.strokeNoScale ? this.getLineScale() : 1;\n                var w = style.lineWidth;\n                if (!this.hasFill()) {\n                    var strokeContainThreshold = this.strokeContainThreshold;\n                    w = Math.max(w, strokeContainThreshold == null ? 4 : strokeContainThreshold);\n                }\n                if (lineScale > 1e-10) {\n                    rectStroke.width += w / lineScale;\n                    rectStroke.height += w / lineScale;\n                    rectStroke.x -= w / lineScale / 2;\n                    rectStroke.y -= w / lineScale / 2;\n                }\n            }\n            return rectStroke;\n        }\n        return rect;\n    };\n    Path.prototype.contain = function (x, y) {\n        var localPos = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        var style = this.style;\n        x = localPos[0];\n        y = localPos[1];\n        if (rect.contain(x, y)) {\n            var pathProxy = this.path;\n            if (this.hasStroke()) {\n                var lineWidth = style.lineWidth;\n                var lineScale = style.strokeNoScale ? this.getLineScale() : 1;\n                if (lineScale > 1e-10) {\n                    if (!this.hasFill()) {\n                        lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n                    }\n                    if (pathContain.containStroke(pathProxy, lineWidth / lineScale, x, y)) {\n                        return true;\n                    }\n                }\n            }\n            if (this.hasFill()) {\n                return pathContain.contain(pathProxy, x, y);\n            }\n        }\n        return false;\n    };\n    Path.prototype.dirtyShape = function () {\n        this.__dirty |= SHAPE_CHANGED_BIT;\n        if (this._rect) {\n            this._rect = null;\n        }\n        if (this._decalEl) {\n            this._decalEl.dirtyShape();\n        }\n        this.markRedraw();\n    };\n    Path.prototype.dirty = function () {\n        this.dirtyStyle();\n        this.dirtyShape();\n    };\n    Path.prototype.animateShape = function (loop) {\n        return this.animate('shape', loop);\n    };\n    Path.prototype.updateDuringAnimation = function (targetKey) {\n        if (targetKey === 'style') {\n            this.dirtyStyle();\n        }\n        else if (targetKey === 'shape') {\n            this.dirtyShape();\n        }\n        else {\n            this.markRedraw();\n        }\n    };\n    Path.prototype.attrKV = function (key, value) {\n        if (key === 'shape') {\n            this.setShape(value);\n        }\n        else {\n            _super.prototype.attrKV.call(this, key, value);\n        }\n    };\n    Path.prototype.setShape = function (keyOrObj, value) {\n        var shape = this.shape;\n        if (!shape) {\n            shape = this.shape = {};\n        }\n        if (typeof keyOrObj === 'string') {\n            shape[keyOrObj] = value;\n        }\n        else {\n            extend(shape, keyOrObj);\n        }\n        this.dirtyShape();\n        return this;\n    };\n    Path.prototype.shapeChanged = function () {\n        return !!(this.__dirty & SHAPE_CHANGED_BIT);\n    };\n    Path.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_PATH_STYLE, obj);\n    };\n    Path.prototype._innerSaveToNormal = function (toState) {\n        _super.prototype._innerSaveToNormal.call(this, toState);\n        var normalState = this._normalState;\n        if (toState.shape && !normalState.shape) {\n            normalState.shape = extend({}, this.shape);\n        }\n    };\n    Path.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n        _super.prototype._applyStateObj.call(this, stateName, state, normalState, keepCurrentStates, transition, animationCfg);\n        var needsRestoreToNormal = !(state && keepCurrentStates);\n        var targetShape;\n        if (state && state.shape) {\n            if (transition) {\n                if (keepCurrentStates) {\n                    targetShape = state.shape;\n                }\n                else {\n                    targetShape = extend({}, normalState.shape);\n                    extend(targetShape, state.shape);\n                }\n            }\n            else {\n                targetShape = extend({}, keepCurrentStates ? this.shape : normalState.shape);\n                extend(targetShape, state.shape);\n            }\n        }\n        else if (needsRestoreToNormal) {\n            targetShape = normalState.shape;\n        }\n        if (targetShape) {\n            if (transition) {\n                this.shape = extend({}, this.shape);\n                var targetShapePrimaryProps = {};\n                var shapeKeys = keys(targetShape);\n                for (var i = 0; i < shapeKeys.length; i++) {\n                    var key = shapeKeys[i];\n                    if (typeof targetShape[key] === 'object') {\n                        this.shape[key] = targetShape[key];\n                    }\n                    else {\n                        targetShapePrimaryProps[key] = targetShape[key];\n                    }\n                }\n                this._transitionState(stateName, {\n                    shape: targetShapePrimaryProps\n                }, animationCfg);\n            }\n            else {\n                this.shape = targetShape;\n                this.dirtyShape();\n            }\n        }\n    };\n    Path.prototype._mergeStates = function (states) {\n        var mergedState = _super.prototype._mergeStates.call(this, states);\n        var mergedShape;\n        for (var i = 0; i < states.length; i++) {\n            var state = states[i];\n            if (state.shape) {\n                mergedShape = mergedShape || {};\n                this._mergeStyle(mergedShape, state.shape);\n            }\n        }\n        if (mergedShape) {\n            mergedState.shape = mergedShape;\n        }\n        return mergedState;\n    };\n    Path.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_PATH_ANIMATION_PROPS;\n    };\n    Path.prototype.isZeroArea = function () {\n        return false;\n    };\n    Path.extend = function (defaultProps) {\n        var Sub = (function (_super) {\n            __extends(Sub, _super);\n            function Sub(opts) {\n                var _this = _super.call(this, opts) || this;\n                defaultProps.init && defaultProps.init.call(_this, opts);\n                return _this;\n            }\n            Sub.prototype.getDefaultStyle = function () {\n                return clone(defaultProps.style);\n            };\n            Sub.prototype.getDefaultShape = function () {\n                return clone(defaultProps.shape);\n            };\n            return Sub;\n        }(Path));\n        for (var key in defaultProps) {\n            if (typeof defaultProps[key] === 'function') {\n                Sub.prototype[key] = defaultProps[key];\n            }\n        }\n        return Sub;\n    };\n    Path.initDefaultProps = (function () {\n        var pathProto = Path.prototype;\n        pathProto.type = 'path';\n        pathProto.strokeContainThreshold = 5;\n        pathProto.segmentIgnoreThreshold = 0;\n        pathProto.subPixelOptimize = false;\n        pathProto.autoBatch = false;\n        pathProto.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT | SHAPE_CHANGED_BIT;\n    })();\n    return Path;\n}(Displayable));\nexport default Path;\n","import { __extends } from \"tslib\";\nimport Displayable from './Displayable.js';\nimport { getBoundingRect } from '../contain/text.js';\nimport { DEFAULT_PATH_STYLE } from './Path.js';\nimport { createObject, defaults } from '../core/util.js';\nimport { DEFAULT_FONT } from '../core/platform.js';\nexport var DEFAULT_TSPAN_STYLE = defaults({\n    strokeFirst: true,\n    font: DEFAULT_FONT,\n    x: 0,\n    y: 0,\n    textAlign: 'left',\n    textBaseline: 'top',\n    miterLimit: 2\n}, DEFAULT_PATH_STYLE);\nvar TSpan = (function (_super) {\n    __extends(TSpan, _super);\n    function TSpan() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TSpan.prototype.hasStroke = function () {\n        var style = this.style;\n        var stroke = style.stroke;\n        return stroke != null && stroke !== 'none' && style.lineWidth > 0;\n    };\n    TSpan.prototype.hasFill = function () {\n        var style = this.style;\n        var fill = style.fill;\n        return fill != null && fill !== 'none';\n    };\n    TSpan.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_TSPAN_STYLE, obj);\n    };\n    TSpan.prototype.setBoundingRect = function (rect) {\n        this._rect = rect;\n    };\n    TSpan.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            var text = style.text;\n            text != null ? (text += '') : (text = '');\n            var rect = getBoundingRect(text, style.font, style.textAlign, style.textBaseline);\n            rect.x += style.x || 0;\n            rect.y += style.y || 0;\n            if (this.hasStroke()) {\n                var w = style.lineWidth;\n                rect.x -= w / 2;\n                rect.y -= w / 2;\n                rect.width += w;\n                rect.height += w;\n            }\n            this._rect = rect;\n        }\n        return this._rect;\n    };\n    TSpan.initDefaultProps = (function () {\n        var tspanProto = TSpan.prototype;\n        tspanProto.dirtyRectTolerance = 10;\n    })();\n    return TSpan;\n}(Displayable));\nTSpan.prototype.type = 'tspan';\nexport default TSpan;\n","import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { defaults, createObject } from '../core/util.js';\nexport var DEFAULT_IMAGE_STYLE = defaults({\n    x: 0,\n    y: 0\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_IMAGE_ANIMATION_PROPS = {\n    style: defaults({\n        x: true,\n        y: true,\n        width: true,\n        height: true,\n        sx: true,\n        sy: true,\n        sWidth: true,\n        sHeight: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nfunction isImageLike(source) {\n    return !!(source\n        && typeof source !== 'string'\n        && source.width && source.height);\n}\nvar ZRImage = (function (_super) {\n    __extends(ZRImage, _super);\n    function ZRImage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ZRImage.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_IMAGE_STYLE, obj);\n    };\n    ZRImage.prototype._getSize = function (dim) {\n        var style = this.style;\n        var size = style[dim];\n        if (size != null) {\n            return size;\n        }\n        var imageSource = isImageLike(style.image)\n            ? style.image : this.__image;\n        if (!imageSource) {\n            return 0;\n        }\n        var otherDim = dim === 'width' ? 'height' : 'width';\n        var otherDimSize = style[otherDim];\n        if (otherDimSize == null) {\n            return imageSource[dim];\n        }\n        else {\n            return imageSource[dim] / imageSource[otherDim] * otherDimSize;\n        }\n    };\n    ZRImage.prototype.getWidth = function () {\n        return this._getSize('width');\n    };\n    ZRImage.prototype.getHeight = function () {\n        return this._getSize('height');\n    };\n    ZRImage.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_IMAGE_ANIMATION_PROPS;\n    };\n    ZRImage.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            this._rect = new BoundingRect(style.x || 0, style.y || 0, this.getWidth(), this.getHeight());\n        }\n        return this._rect;\n    };\n    return ZRImage;\n}(Displayable));\nZRImage.prototype.type = 'image';\nexport default ZRImage;\n","var round = Math.round;\nexport function subPixelOptimizeLine(outputShape, inputShape, style) {\n    if (!inputShape) {\n        return;\n    }\n    var x1 = inputShape.x1;\n    var x2 = inputShape.x2;\n    var y1 = inputShape.y1;\n    var y2 = inputShape.y2;\n    outputShape.x1 = x1;\n    outputShape.x2 = x2;\n    outputShape.y1 = y1;\n    outputShape.y2 = y2;\n    var lineWidth = style && style.lineWidth;\n    if (!lineWidth) {\n        return outputShape;\n    }\n    if (round(x1 * 2) === round(x2 * 2)) {\n        outputShape.x1 = outputShape.x2 = subPixelOptimize(x1, lineWidth, true);\n    }\n    if (round(y1 * 2) === round(y2 * 2)) {\n        outputShape.y1 = outputShape.y2 = subPixelOptimize(y1, lineWidth, true);\n    }\n    return outputShape;\n}\nexport function subPixelOptimizeRect(outputShape, inputShape, style) {\n    if (!inputShape) {\n        return;\n    }\n    var originX = inputShape.x;\n    var originY = inputShape.y;\n    var originWidth = inputShape.width;\n    var originHeight = inputShape.height;\n    outputShape.x = originX;\n    outputShape.y = originY;\n    outputShape.width = originWidth;\n    outputShape.height = originHeight;\n    var lineWidth = style && style.lineWidth;\n    if (!lineWidth) {\n        return outputShape;\n    }\n    outputShape.x = subPixelOptimize(originX, lineWidth, true);\n    outputShape.y = subPixelOptimize(originY, lineWidth, true);\n    outputShape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - outputShape.x, originWidth === 0 ? 0 : 1);\n    outputShape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - outputShape.y, originHeight === 0 ? 0 : 1);\n    return outputShape;\n}\nexport function subPixelOptimize(position, lineWidth, positiveOrNegative) {\n    if (!lineWidth) {\n        return position;\n    }\n    var doubledPosition = round(position * 2);\n    return (doubledPosition + round(lineWidth)) % 2 === 0\n        ? doubledPosition / 2\n        : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as roundRectHelper from '../helper/roundRect.js';\nimport { subPixelOptimizeRect } from '../helper/subPixelOptimize.js';\nvar RectShape = (function () {\n    function RectShape() {\n        this.x = 0;\n        this.y = 0;\n        this.width = 0;\n        this.height = 0;\n    }\n    return RectShape;\n}());\nexport { RectShape };\nvar subPixelOptimizeOutputShape = {};\nvar Rect = (function (_super) {\n    __extends(Rect, _super);\n    function Rect(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Rect.prototype.getDefaultShape = function () {\n        return new RectShape();\n    };\n    Rect.prototype.buildPath = function (ctx, shape) {\n        var x;\n        var y;\n        var width;\n        var height;\n        if (this.subPixelOptimize) {\n            var optimizedShape = subPixelOptimizeRect(subPixelOptimizeOutputShape, shape, this.style);\n            x = optimizedShape.x;\n            y = optimizedShape.y;\n            width = optimizedShape.width;\n            height = optimizedShape.height;\n            optimizedShape.r = shape.r;\n            shape = optimizedShape;\n        }\n        else {\n            x = shape.x;\n            y = shape.y;\n            width = shape.width;\n            height = shape.height;\n        }\n        if (!shape.r) {\n            ctx.rect(x, y, width, height);\n        }\n        else {\n            roundRectHelper.buildPath(ctx, shape);\n        }\n    };\n    Rect.prototype.isZeroArea = function () {\n        return !this.shape.width || !this.shape.height;\n    };\n    return Rect;\n}(Path));\nRect.prototype.type = 'rect';\nexport default Rect;\n","export function buildPath(ctx, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var width = shape.width;\n    var height = shape.height;\n    var r = shape.r;\n    var r1;\n    var r2;\n    var r3;\n    var r4;\n    if (width < 0) {\n        x = x + width;\n        width = -width;\n    }\n    if (height < 0) {\n        y = y + height;\n        height = -height;\n    }\n    if (typeof r === 'number') {\n        r1 = r2 = r3 = r4 = r;\n    }\n    else if (r instanceof Array) {\n        if (r.length === 1) {\n            r1 = r2 = r3 = r4 = r[0];\n        }\n        else if (r.length === 2) {\n            r1 = r3 = r[0];\n            r2 = r4 = r[1];\n        }\n        else if (r.length === 3) {\n            r1 = r[0];\n            r2 = r4 = r[1];\n            r3 = r[2];\n        }\n        else {\n            r1 = r[0];\n            r2 = r[1];\n            r3 = r[2];\n            r4 = r[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = 0;\n    }\n    var total;\n    if (r1 + r2 > width) {\n        total = r1 + r2;\n        r1 *= width / total;\n        r2 *= width / total;\n    }\n    if (r3 + r4 > width) {\n        total = r3 + r4;\n        r3 *= width / total;\n        r4 *= width / total;\n    }\n    if (r2 + r3 > height) {\n        total = r2 + r3;\n        r2 *= height / total;\n        r3 *= height / total;\n    }\n    if (r1 + r4 > height) {\n        total = r1 + r4;\n        r1 *= height / total;\n        r4 *= height / total;\n    }\n    ctx.moveTo(x + r1, y);\n    ctx.lineTo(x + width - r2, y);\n    r2 !== 0 && ctx.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n    ctx.lineTo(x + width, y + height - r3);\n    r3 !== 0 && ctx.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n    ctx.lineTo(x + r4, y + height);\n    r4 !== 0 && ctx.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n    ctx.lineTo(x, y + r1);\n    r1 !== 0 && ctx.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n}\n","import { __extends } from \"tslib\";\nimport { parseRichText, parsePlainText } from './helper/parseText.js';\nimport TSpan from './TSpan.js';\nimport { retrieve2, each, normalizeCssArray, trim, retrieve3, extend, keys, defaults } from '../core/util.js';\nimport { adjustTextX, adjustTextY } from '../contain/text.js';\nimport ZRImage from './Image.js';\nimport Rect from './shape/Rect.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport Displayable, { DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport { DEFAULT_FONT, DEFAULT_FONT_SIZE } from '../core/platform.js';\nvar DEFAULT_RICH_TEXT_COLOR = {\n    fill: '#000'\n};\nvar DEFAULT_STROKE_LINE_WIDTH = 2;\nexport var DEFAULT_TEXT_ANIMATION_PROPS = {\n    style: defaults({\n        fill: true,\n        stroke: true,\n        fillOpacity: true,\n        strokeOpacity: true,\n        lineWidth: true,\n        fontSize: true,\n        lineHeight: true,\n        width: true,\n        height: true,\n        textShadowColor: true,\n        textShadowBlur: true,\n        textShadowOffsetX: true,\n        textShadowOffsetY: true,\n        backgroundColor: true,\n        padding: true,\n        borderColor: true,\n        borderWidth: true,\n        borderRadius: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nvar ZRText = (function (_super) {\n    __extends(ZRText, _super);\n    function ZRText(opts) {\n        var _this = _super.call(this) || this;\n        _this.type = 'text';\n        _this._children = [];\n        _this._defaultStyle = DEFAULT_RICH_TEXT_COLOR;\n        _this.attr(opts);\n        return _this;\n    }\n    ZRText.prototype.childrenRef = function () {\n        return this._children;\n    };\n    ZRText.prototype.update = function () {\n        _super.prototype.update.call(this);\n        if (this.styleChanged()) {\n            this._updateSubTexts();\n        }\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.zlevel = this.zlevel;\n            child.z = this.z;\n            child.z2 = this.z2;\n            child.culling = this.culling;\n            child.cursor = this.cursor;\n            child.invisible = this.invisible;\n        }\n    };\n    ZRText.prototype.updateTransform = function () {\n        var innerTransformable = this.innerTransformable;\n        if (innerTransformable) {\n            innerTransformable.updateTransform();\n            if (innerTransformable.transform) {\n                this.transform = innerTransformable.transform;\n            }\n        }\n        else {\n            _super.prototype.updateTransform.call(this);\n        }\n    };\n    ZRText.prototype.getLocalTransform = function (m) {\n        var innerTransformable = this.innerTransformable;\n        return innerTransformable\n            ? innerTransformable.getLocalTransform(m)\n            : _super.prototype.getLocalTransform.call(this, m);\n    };\n    ZRText.prototype.getComputedTransform = function () {\n        if (this.__hostTarget) {\n            this.__hostTarget.getComputedTransform();\n            this.__hostTarget.updateInnerText(true);\n        }\n        return _super.prototype.getComputedTransform.call(this);\n    };\n    ZRText.prototype._updateSubTexts = function () {\n        this._childCursor = 0;\n        normalizeTextStyle(this.style);\n        this.style.rich\n            ? this._updateRichTexts()\n            : this._updatePlainTexts();\n        this._children.length = this._childCursor;\n        this.styleUpdated();\n    };\n    ZRText.prototype.addSelfToZr = function (zr) {\n        _super.prototype.addSelfToZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            this._children[i].__zr = zr;\n        }\n    };\n    ZRText.prototype.removeSelfFromZr = function (zr) {\n        _super.prototype.removeSelfFromZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            this._children[i].__zr = null;\n        }\n    };\n    ZRText.prototype.getBoundingRect = function () {\n        if (this.styleChanged()) {\n            this._updateSubTexts();\n        }\n        if (!this._rect) {\n            var tmpRect = new BoundingRect(0, 0, 0, 0);\n            var children = this._children;\n            var tmpMat = [];\n            var rect = null;\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                var childRect = child.getBoundingRect();\n                var transform = child.getLocalTransform(tmpMat);\n                if (transform) {\n                    tmpRect.copy(childRect);\n                    tmpRect.applyTransform(transform);\n                    rect = rect || tmpRect.clone();\n                    rect.union(tmpRect);\n                }\n                else {\n                    rect = rect || childRect.clone();\n                    rect.union(childRect);\n                }\n            }\n            this._rect = rect || tmpRect;\n        }\n        return this._rect;\n    };\n    ZRText.prototype.setDefaultTextStyle = function (defaultTextStyle) {\n        this._defaultStyle = defaultTextStyle || DEFAULT_RICH_TEXT_COLOR;\n    };\n    ZRText.prototype.setTextContent = function (textContent) {\n        if (process.env.NODE_ENV !== 'production') {\n            throw new Error('Can\\'t attach text on another text');\n        }\n    };\n    ZRText.prototype._mergeStyle = function (targetStyle, sourceStyle) {\n        if (!sourceStyle) {\n            return targetStyle;\n        }\n        var sourceRich = sourceStyle.rich;\n        var targetRich = targetStyle.rich || (sourceRich && {});\n        extend(targetStyle, sourceStyle);\n        if (sourceRich && targetRich) {\n            this._mergeRich(targetRich, sourceRich);\n            targetStyle.rich = targetRich;\n        }\n        else if (targetRich) {\n            targetStyle.rich = targetRich;\n        }\n        return targetStyle;\n    };\n    ZRText.prototype._mergeRich = function (targetRich, sourceRich) {\n        var richNames = keys(sourceRich);\n        for (var i = 0; i < richNames.length; i++) {\n            var richName = richNames[i];\n            targetRich[richName] = targetRich[richName] || {};\n            extend(targetRich[richName], sourceRich[richName]);\n        }\n    };\n    ZRText.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_TEXT_ANIMATION_PROPS;\n    };\n    ZRText.prototype._getOrCreateChild = function (Ctor) {\n        var child = this._children[this._childCursor];\n        if (!child || !(child instanceof Ctor)) {\n            child = new Ctor();\n        }\n        this._children[this._childCursor++] = child;\n        child.__zr = this.__zr;\n        child.parent = this;\n        return child;\n    };\n    ZRText.prototype._updatePlainTexts = function () {\n        var style = this.style;\n        var textFont = style.font || DEFAULT_FONT;\n        var textPadding = style.padding;\n        var text = getStyleText(style);\n        var contentBlock = parsePlainText(text, style);\n        var needDrawBg = needDrawBackground(style);\n        var bgColorDrawn = !!(style.backgroundColor);\n        var outerHeight = contentBlock.outerHeight;\n        var outerWidth = contentBlock.outerWidth;\n        var contentWidth = contentBlock.contentWidth;\n        var textLines = contentBlock.lines;\n        var lineHeight = contentBlock.lineHeight;\n        var defaultStyle = this._defaultStyle;\n        var baseX = style.x || 0;\n        var baseY = style.y || 0;\n        var textAlign = style.align || defaultStyle.align || 'left';\n        var verticalAlign = style.verticalAlign || defaultStyle.verticalAlign || 'top';\n        var textX = baseX;\n        var textY = adjustTextY(baseY, contentBlock.contentHeight, verticalAlign);\n        if (needDrawBg || textPadding) {\n            var boxX = adjustTextX(baseX, outerWidth, textAlign);\n            var boxY = adjustTextY(baseY, outerHeight, verticalAlign);\n            needDrawBg && this._renderBackground(style, style, boxX, boxY, outerWidth, outerHeight);\n        }\n        textY += lineHeight / 2;\n        if (textPadding) {\n            textX = getTextXForPadding(baseX, textAlign, textPadding);\n            if (verticalAlign === 'top') {\n                textY += textPadding[0];\n            }\n            else if (verticalAlign === 'bottom') {\n                textY -= textPadding[2];\n            }\n        }\n        var defaultLineWidth = 0;\n        var useDefaultFill = false;\n        var textFill = getFill('fill' in style\n            ? style.fill\n            : (useDefaultFill = true, defaultStyle.fill));\n        var textStroke = getStroke('stroke' in style\n            ? style.stroke\n            : (!bgColorDrawn\n                && (!defaultStyle.autoStroke || useDefaultFill))\n                ? (defaultLineWidth = DEFAULT_STROKE_LINE_WIDTH, defaultStyle.stroke)\n                : null);\n        var hasShadow = style.textShadowBlur > 0;\n        var fixedBoundingRect = style.width != null\n            && (style.overflow === 'truncate' || style.overflow === 'break' || style.overflow === 'breakAll');\n        var calculatedLineHeight = contentBlock.calculatedLineHeight;\n        for (var i = 0; i < textLines.length; i++) {\n            var el = this._getOrCreateChild(TSpan);\n            var subElStyle = el.createStyle();\n            el.useStyle(subElStyle);\n            subElStyle.text = textLines[i];\n            subElStyle.x = textX;\n            subElStyle.y = textY;\n            if (textAlign) {\n                subElStyle.textAlign = textAlign;\n            }\n            subElStyle.textBaseline = 'middle';\n            subElStyle.opacity = style.opacity;\n            subElStyle.strokeFirst = true;\n            if (hasShadow) {\n                subElStyle.shadowBlur = style.textShadowBlur || 0;\n                subElStyle.shadowColor = style.textShadowColor || 'transparent';\n                subElStyle.shadowOffsetX = style.textShadowOffsetX || 0;\n                subElStyle.shadowOffsetY = style.textShadowOffsetY || 0;\n            }\n            subElStyle.stroke = textStroke;\n            subElStyle.fill = textFill;\n            if (textStroke) {\n                subElStyle.lineWidth = style.lineWidth || defaultLineWidth;\n                subElStyle.lineDash = style.lineDash;\n                subElStyle.lineDashOffset = style.lineDashOffset || 0;\n            }\n            subElStyle.font = textFont;\n            setSeparateFont(subElStyle, style);\n            textY += lineHeight;\n            if (fixedBoundingRect) {\n                el.setBoundingRect(new BoundingRect(adjustTextX(subElStyle.x, style.width, subElStyle.textAlign), adjustTextY(subElStyle.y, calculatedLineHeight, subElStyle.textBaseline), contentWidth, calculatedLineHeight));\n            }\n        }\n    };\n    ZRText.prototype._updateRichTexts = function () {\n        var style = this.style;\n        var text = getStyleText(style);\n        var contentBlock = parseRichText(text, style);\n        var contentWidth = contentBlock.width;\n        var outerWidth = contentBlock.outerWidth;\n        var outerHeight = contentBlock.outerHeight;\n        var textPadding = style.padding;\n        var baseX = style.x || 0;\n        var baseY = style.y || 0;\n        var defaultStyle = this._defaultStyle;\n        var textAlign = style.align || defaultStyle.align;\n        var verticalAlign = style.verticalAlign || defaultStyle.verticalAlign;\n        var boxX = adjustTextX(baseX, outerWidth, textAlign);\n        var boxY = adjustTextY(baseY, outerHeight, verticalAlign);\n        var xLeft = boxX;\n        var lineTop = boxY;\n        if (textPadding) {\n            xLeft += textPadding[3];\n            lineTop += textPadding[0];\n        }\n        var xRight = xLeft + contentWidth;\n        if (needDrawBackground(style)) {\n            this._renderBackground(style, style, boxX, boxY, outerWidth, outerHeight);\n        }\n        var bgColorDrawn = !!(style.backgroundColor);\n        for (var i = 0; i < contentBlock.lines.length; i++) {\n            var line = contentBlock.lines[i];\n            var tokens = line.tokens;\n            var tokenCount = tokens.length;\n            var lineHeight = line.lineHeight;\n            var remainedWidth = line.width;\n            var leftIndex = 0;\n            var lineXLeft = xLeft;\n            var lineXRight = xRight;\n            var rightIndex = tokenCount - 1;\n            var token = void 0;\n            while (leftIndex < tokenCount\n                && (token = tokens[leftIndex], !token.align || token.align === 'left')) {\n                this._placeToken(token, style, lineHeight, lineTop, lineXLeft, 'left', bgColorDrawn);\n                remainedWidth -= token.width;\n                lineXLeft += token.width;\n                leftIndex++;\n            }\n            while (rightIndex >= 0\n                && (token = tokens[rightIndex], token.align === 'right')) {\n                this._placeToken(token, style, lineHeight, lineTop, lineXRight, 'right', bgColorDrawn);\n                remainedWidth -= token.width;\n                lineXRight -= token.width;\n                rightIndex--;\n            }\n            lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - remainedWidth) / 2;\n            while (leftIndex <= rightIndex) {\n                token = tokens[leftIndex];\n                this._placeToken(token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center', bgColorDrawn);\n                lineXLeft += token.width;\n                leftIndex++;\n            }\n            lineTop += lineHeight;\n        }\n    };\n    ZRText.prototype._placeToken = function (token, style, lineHeight, lineTop, x, textAlign, parentBgColorDrawn) {\n        var tokenStyle = style.rich[token.styleName] || {};\n        tokenStyle.text = token.text;\n        var verticalAlign = token.verticalAlign;\n        var y = lineTop + lineHeight / 2;\n        if (verticalAlign === 'top') {\n            y = lineTop + token.height / 2;\n        }\n        else if (verticalAlign === 'bottom') {\n            y = lineTop + lineHeight - token.height / 2;\n        }\n        var needDrawBg = !token.isLineHolder && needDrawBackground(tokenStyle);\n        needDrawBg && this._renderBackground(tokenStyle, style, textAlign === 'right'\n            ? x - token.width\n            : textAlign === 'center'\n                ? x - token.width / 2\n                : x, y - token.height / 2, token.width, token.height);\n        var bgColorDrawn = !!tokenStyle.backgroundColor;\n        var textPadding = token.textPadding;\n        if (textPadding) {\n            x = getTextXForPadding(x, textAlign, textPadding);\n            y -= token.height / 2 - textPadding[0] - token.innerHeight / 2;\n        }\n        var el = this._getOrCreateChild(TSpan);\n        var subElStyle = el.createStyle();\n        el.useStyle(subElStyle);\n        var defaultStyle = this._defaultStyle;\n        var useDefaultFill = false;\n        var defaultLineWidth = 0;\n        var textFill = getFill('fill' in tokenStyle ? tokenStyle.fill\n            : 'fill' in style ? style.fill\n                : (useDefaultFill = true, defaultStyle.fill));\n        var textStroke = getStroke('stroke' in tokenStyle ? tokenStyle.stroke\n            : 'stroke' in style ? style.stroke\n                : (!bgColorDrawn\n                    && !parentBgColorDrawn\n                    && (!defaultStyle.autoStroke || useDefaultFill)) ? (defaultLineWidth = DEFAULT_STROKE_LINE_WIDTH, defaultStyle.stroke)\n                    : null);\n        var hasShadow = tokenStyle.textShadowBlur > 0\n            || style.textShadowBlur > 0;\n        subElStyle.text = token.text;\n        subElStyle.x = x;\n        subElStyle.y = y;\n        if (hasShadow) {\n            subElStyle.shadowBlur = tokenStyle.textShadowBlur || style.textShadowBlur || 0;\n            subElStyle.shadowColor = tokenStyle.textShadowColor || style.textShadowColor || 'transparent';\n            subElStyle.shadowOffsetX = tokenStyle.textShadowOffsetX || style.textShadowOffsetX || 0;\n            subElStyle.shadowOffsetY = tokenStyle.textShadowOffsetY || style.textShadowOffsetY || 0;\n        }\n        subElStyle.textAlign = textAlign;\n        subElStyle.textBaseline = 'middle';\n        subElStyle.font = token.font || DEFAULT_FONT;\n        subElStyle.opacity = retrieve3(tokenStyle.opacity, style.opacity, 1);\n        setSeparateFont(subElStyle, tokenStyle);\n        if (textStroke) {\n            subElStyle.lineWidth = retrieve3(tokenStyle.lineWidth, style.lineWidth, defaultLineWidth);\n            subElStyle.lineDash = retrieve2(tokenStyle.lineDash, style.lineDash);\n            subElStyle.lineDashOffset = style.lineDashOffset || 0;\n            subElStyle.stroke = textStroke;\n        }\n        if (textFill) {\n            subElStyle.fill = textFill;\n        }\n        var textWidth = token.contentWidth;\n        var textHeight = token.contentHeight;\n        el.setBoundingRect(new BoundingRect(adjustTextX(subElStyle.x, textWidth, subElStyle.textAlign), adjustTextY(subElStyle.y, textHeight, subElStyle.textBaseline), textWidth, textHeight));\n    };\n    ZRText.prototype._renderBackground = function (style, topStyle, x, y, width, height) {\n        var textBackgroundColor = style.backgroundColor;\n        var textBorderWidth = style.borderWidth;\n        var textBorderColor = style.borderColor;\n        var isImageBg = textBackgroundColor && textBackgroundColor.image;\n        var isPlainOrGradientBg = textBackgroundColor && !isImageBg;\n        var textBorderRadius = style.borderRadius;\n        var self = this;\n        var rectEl;\n        var imgEl;\n        if (isPlainOrGradientBg || style.lineHeight || (textBorderWidth && textBorderColor)) {\n            rectEl = this._getOrCreateChild(Rect);\n            rectEl.useStyle(rectEl.createStyle());\n            rectEl.style.fill = null;\n            var rectShape = rectEl.shape;\n            rectShape.x = x;\n            rectShape.y = y;\n            rectShape.width = width;\n            rectShape.height = height;\n            rectShape.r = textBorderRadius;\n            rectEl.dirtyShape();\n        }\n        if (isPlainOrGradientBg) {\n            var rectStyle = rectEl.style;\n            rectStyle.fill = textBackgroundColor || null;\n            rectStyle.fillOpacity = retrieve2(style.fillOpacity, 1);\n        }\n        else if (isImageBg) {\n            imgEl = this._getOrCreateChild(ZRImage);\n            imgEl.onload = function () {\n                self.dirtyStyle();\n            };\n            var imgStyle = imgEl.style;\n            imgStyle.image = textBackgroundColor.image;\n            imgStyle.x = x;\n            imgStyle.y = y;\n            imgStyle.width = width;\n            imgStyle.height = height;\n        }\n        if (textBorderWidth && textBorderColor) {\n            var rectStyle = rectEl.style;\n            rectStyle.lineWidth = textBorderWidth;\n            rectStyle.stroke = textBorderColor;\n            rectStyle.strokeOpacity = retrieve2(style.strokeOpacity, 1);\n            rectStyle.lineDash = style.borderDash;\n            rectStyle.lineDashOffset = style.borderDashOffset || 0;\n            rectEl.strokeContainThreshold = 0;\n            if (rectEl.hasFill() && rectEl.hasStroke()) {\n                rectStyle.strokeFirst = true;\n                rectStyle.lineWidth *= 2;\n            }\n        }\n        var commonStyle = (rectEl || imgEl).style;\n        commonStyle.shadowBlur = style.shadowBlur || 0;\n        commonStyle.shadowColor = style.shadowColor || 'transparent';\n        commonStyle.shadowOffsetX = style.shadowOffsetX || 0;\n        commonStyle.shadowOffsetY = style.shadowOffsetY || 0;\n        commonStyle.opacity = retrieve3(style.opacity, topStyle.opacity, 1);\n    };\n    ZRText.makeFont = function (style) {\n        var font = '';\n        if (hasSeparateFont(style)) {\n            font = [\n                style.fontStyle,\n                style.fontWeight,\n                parseFontSize(style.fontSize),\n                style.fontFamily || 'sans-serif'\n            ].join(' ');\n        }\n        return font && trim(font) || style.textFont || style.font;\n    };\n    return ZRText;\n}(Displayable));\nvar VALID_TEXT_ALIGN = { left: true, right: 1, center: 1 };\nvar VALID_TEXT_VERTICAL_ALIGN = { top: 1, bottom: 1, middle: 1 };\nvar FONT_PARTS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily'];\nexport function parseFontSize(fontSize) {\n    if (typeof fontSize === 'string'\n        && (fontSize.indexOf('px') !== -1\n            || fontSize.indexOf('rem') !== -1\n            || fontSize.indexOf('em') !== -1)) {\n        return fontSize;\n    }\n    else if (!isNaN(+fontSize)) {\n        return fontSize + 'px';\n    }\n    else {\n        return DEFAULT_FONT_SIZE + 'px';\n    }\n}\nfunction setSeparateFont(targetStyle, sourceStyle) {\n    for (var i = 0; i < FONT_PARTS.length; i++) {\n        var fontProp = FONT_PARTS[i];\n        var val = sourceStyle[fontProp];\n        if (val != null) {\n            targetStyle[fontProp] = val;\n        }\n    }\n}\nexport function hasSeparateFont(style) {\n    return style.fontSize != null || style.fontFamily || style.fontWeight;\n}\nexport function normalizeTextStyle(style) {\n    normalizeStyle(style);\n    each(style.rich, normalizeStyle);\n    return style;\n}\nfunction normalizeStyle(style) {\n    if (style) {\n        style.font = ZRText.makeFont(style);\n        var textAlign = style.align;\n        textAlign === 'middle' && (textAlign = 'center');\n        style.align = (textAlign == null || VALID_TEXT_ALIGN[textAlign]) ? textAlign : 'left';\n        var verticalAlign = style.verticalAlign;\n        verticalAlign === 'center' && (verticalAlign = 'middle');\n        style.verticalAlign = (verticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[verticalAlign]) ? verticalAlign : 'top';\n        var textPadding = style.padding;\n        if (textPadding) {\n            style.padding = normalizeCssArray(style.padding);\n        }\n    }\n}\nfunction getStroke(stroke, lineWidth) {\n    return (stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none')\n        ? null\n        : (stroke.image || stroke.colorStops)\n            ? '#000'\n            : stroke;\n}\nfunction getFill(fill) {\n    return (fill == null || fill === 'none')\n        ? null\n        : (fill.image || fill.colorStops)\n            ? '#000'\n            : fill;\n}\nfunction getTextXForPadding(x, textAlign, textPadding) {\n    return textAlign === 'right'\n        ? (x - textPadding[1])\n        : textAlign === 'center'\n            ? (x + textPadding[3] / 2 - textPadding[1] / 2)\n            : (x + textPadding[3]);\n}\nfunction getStyleText(style) {\n    var text = style.text;\n    text != null && (text += '');\n    return text;\n}\nfunction needDrawBackground(style) {\n    return !!(style.backgroundColor\n        || style.lineHeight\n        || (style.borderWidth && style.borderColor));\n}\nexport default ZRText;\n","import PathProxy from '../core/PathProxy.js';\nimport { applyTransform as v2ApplyTransform } from '../core/vector.js';\nvar CMD = PathProxy.CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\nexport default function transformPath(path, m) {\n    if (!m) {\n        return;\n    }\n    var data = path.data;\n    var len = path.len();\n    var cmd;\n    var nPoint;\n    var i;\n    var j;\n    var k;\n    var p;\n    var M = CMD.M;\n    var C = CMD.C;\n    var L = CMD.L;\n    var R = CMD.R;\n    var A = CMD.A;\n    var Q = CMD.Q;\n    for (i = 0, j = 0; i < len;) {\n        cmd = data[i++];\n        j = i;\n        nPoint = 0;\n        switch (cmd) {\n            case M:\n                nPoint = 1;\n                break;\n            case L:\n                nPoint = 1;\n                break;\n            case C:\n                nPoint = 3;\n                break;\n            case Q:\n                nPoint = 2;\n                break;\n            case A:\n                var x = m[4];\n                var y = m[5];\n                var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n                var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n                var angle = mathAtan2(-m[1] / sy, m[0] / sx);\n                data[i] *= sx;\n                data[i++] += x;\n                data[i] *= sy;\n                data[i++] += y;\n                data[i++] *= sx;\n                data[i++] *= sy;\n                data[i++] += angle;\n                data[i++] += angle;\n                i += 2;\n                j = i;\n                break;\n            case R:\n                p[0] = data[i++];\n                p[1] = data[i++];\n                v2ApplyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n                p[0] += data[i++];\n                p[1] += data[i++];\n                v2ApplyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n        }\n        for (k = 0; k < nPoint; k++) {\n            var p_1 = points[k];\n            p_1[0] = data[i++];\n            p_1[1] = data[i++];\n            v2ApplyTransform(p_1, p_1, m);\n            data[j++] = p_1[0];\n            data[j++] = p_1[1];\n        }\n    }\n    path.increaseVersion();\n}\n","import { __extends } from \"tslib\";\nimport Path from '../graphic/Path.js';\nimport PathProxy from '../core/PathProxy.js';\nimport transformPath from './transformPath.js';\nimport { extend } from '../core/util.js';\nvar mathSqrt = Math.sqrt;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n;\nfunction vRatio(u, v) {\n    return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n}\n;\nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1)\n        * Math.acos(vRatio(u, v));\n}\n;\nfunction processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n    var psi = psiDeg * (PI / 180.0);\n    var xp = mathCos(psi) * (x1 - x2) / 2.0\n        + mathSin(psi) * (y1 - y2) / 2.0;\n    var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0\n        + mathCos(psi) * (y1 - y2) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= mathSqrt(lambda);\n        ry *= mathSqrt(lambda);\n    }\n    var f = (fa === fs ? -1 : 1)\n        * mathSqrt((((rx * rx) * (ry * ry))\n            - ((rx * rx) * (yp * yp))\n            - ((ry * ry) * (xp * xp))) / ((rx * rx) * (yp * yp)\n            + (ry * ry) * (xp * xp))) || 0;\n    var cxp = f * rx * yp / ry;\n    var cyp = f * -ry * xp / rx;\n    var cx = (x1 + x2) / 2.0\n        + mathCos(psi) * cxp\n        - mathSin(psi) * cyp;\n    var cy = (y1 + y2) / 2.0\n        + mathSin(psi) * cxp\n        + mathCos(psi) * cyp;\n    var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (dTheta < 0) {\n        var n = Math.round(dTheta / PI * 1e6) / 1e6;\n        dTheta = PI * 2 + (n % 2) * PI;\n    }\n    path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n}\nvar commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig;\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\nfunction createPathProxyFromString(data) {\n    var path = new PathProxy();\n    if (!data) {\n        return path;\n    }\n    var cpx = 0;\n    var cpy = 0;\n    var subpathX = cpx;\n    var subpathY = cpy;\n    var prevCmd;\n    var CMD = PathProxy.CMD;\n    var cmdList = data.match(commandReg);\n    if (!cmdList) {\n        return path;\n    }\n    for (var l = 0; l < cmdList.length; l++) {\n        var cmdText = cmdList[l];\n        var cmdStr = cmdText.charAt(0);\n        var cmd = void 0;\n        var p = cmdText.match(numberReg) || [];\n        var pLen = p.length;\n        for (var i = 0; i < pLen; i++) {\n            p[i] = parseFloat(p[i]);\n        }\n        var off = 0;\n        while (off < pLen) {\n            var ctlPtx = void 0;\n            var ctlPty = void 0;\n            var rx = void 0;\n            var ry = void 0;\n            var psi = void 0;\n            var fa = void 0;\n            var fs = void 0;\n            var x1 = cpx;\n            var y1 = cpy;\n            var len = void 0;\n            var pathData = void 0;\n            switch (cmdStr) {\n                case 'l':\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'L':\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'm':\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.M;\n                    path.addData(cmd, cpx, cpy);\n                    subpathX = cpx;\n                    subpathY = cpy;\n                    cmdStr = 'l';\n                    break;\n                case 'M':\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.M;\n                    path.addData(cmd, cpx, cpy);\n                    subpathX = cpx;\n                    subpathY = cpy;\n                    cmdStr = 'L';\n                    break;\n                case 'h':\n                    cpx += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'H':\n                    cpx = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'v':\n                    cpy += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'V':\n                    cpy = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'C':\n                    cmd = CMD.C;\n                    path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n                    cpx = p[off - 2];\n                    cpy = p[off - 1];\n                    break;\n                case 'c':\n                    cmd = CMD.C;\n                    path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n                    cpx += p[off - 2];\n                    cpy += p[off - 1];\n                    break;\n                case 'S':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.C) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cmd = CMD.C;\n                    x1 = p[off++];\n                    y1 = p[off++];\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                    break;\n                case 's':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.C) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cmd = CMD.C;\n                    x1 = cpx + p[off++];\n                    y1 = cpy + p[off++];\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                    break;\n                case 'Q':\n                    x1 = p[off++];\n                    y1 = p[off++];\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, x1, y1, cpx, cpy);\n                    break;\n                case 'q':\n                    x1 = p[off++] + cpx;\n                    y1 = p[off++] + cpy;\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, x1, y1, cpx, cpy);\n                    break;\n                case 'T':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.Q) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                    break;\n                case 't':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.Q) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                    break;\n                case 'A':\n                    rx = p[off++];\n                    ry = p[off++];\n                    psi = p[off++];\n                    fa = p[off++];\n                    fs = p[off++];\n                    x1 = cpx, y1 = cpy;\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.A;\n                    processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n                    break;\n                case 'a':\n                    rx = p[off++];\n                    ry = p[off++];\n                    psi = p[off++];\n                    fa = p[off++];\n                    fs = p[off++];\n                    x1 = cpx, y1 = cpy;\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.A;\n                    processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n                    break;\n            }\n        }\n        if (cmdStr === 'z' || cmdStr === 'Z') {\n            cmd = CMD.Z;\n            path.addData(cmd);\n            cpx = subpathX;\n            cpy = subpathY;\n        }\n        prevCmd = cmd;\n    }\n    path.toStatic();\n    return path;\n}\nvar SVGPath = (function (_super) {\n    __extends(SVGPath, _super);\n    function SVGPath() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SVGPath.prototype.applyTransform = function (m) { };\n    return SVGPath;\n}(Path));\nfunction isPathProxy(path) {\n    return path.setData != null;\n}\nfunction createPathOptions(str, opts) {\n    var pathProxy = createPathProxyFromString(str);\n    var innerOpts = extend({}, opts);\n    innerOpts.buildPath = function (path) {\n        if (isPathProxy(path)) {\n            path.setData(pathProxy.data);\n            var ctx = path.getContext();\n            if (ctx) {\n                path.rebuildPath(ctx, 1);\n            }\n        }\n        else {\n            var ctx = path;\n            pathProxy.rebuildPath(ctx, 1);\n        }\n    };\n    innerOpts.applyTransform = function (m) {\n        transformPath(pathProxy, m);\n        this.dirtyShape();\n    };\n    return innerOpts;\n}\nexport function createFromString(str, opts) {\n    return new SVGPath(createPathOptions(str, opts));\n}\nexport function extendFromString(str, defaultOpts) {\n    var innerOpts = createPathOptions(str, defaultOpts);\n    var Sub = (function (_super) {\n        __extends(Sub, _super);\n        function Sub(opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.applyTransform = innerOpts.applyTransform;\n            _this.buildPath = innerOpts.buildPath;\n            return _this;\n        }\n        return Sub;\n    }(SVGPath));\n    return Sub;\n}\nexport function mergePath(pathEls, opts) {\n    var pathList = [];\n    var len = pathEls.length;\n    for (var i = 0; i < len; i++) {\n        var pathEl = pathEls[i];\n        pathList.push(pathEl.getUpdatedPathProxy(true));\n    }\n    var pathBundle = new Path(opts);\n    pathBundle.createPathProxy();\n    pathBundle.buildPath = function (path) {\n        if (isPathProxy(path)) {\n            path.appendPath(pathList);\n            var ctx = path.getContext();\n            if (ctx) {\n                path.rebuildPath(ctx, 1);\n            }\n        }\n    };\n    return pathBundle;\n}\nexport function clonePath(sourcePath, opts) {\n    opts = opts || {};\n    var path = new Path();\n    if (sourcePath.shape) {\n        path.setShape(sourcePath.shape);\n    }\n    path.setStyle(sourcePath.style);\n    if (opts.bakeTransform) {\n        transformPath(path.path, sourcePath.getComputedTransform());\n    }\n    else {\n        if (opts.toLocal) {\n            path.setLocalTransform(sourcePath.getComputedTransform());\n        }\n        else {\n            path.copyTransform(sourcePath);\n        }\n    }\n    path.buildPath = sourcePath.buildPath;\n    path.applyTransform = path.applyTransform;\n    path.z = sourcePath.z;\n    path.z2 = sourcePath.z2;\n    path.zlevel = sourcePath.zlevel;\n    return path;\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar CircleShape = (function () {\n    function CircleShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n    }\n    return CircleShape;\n}());\nexport { CircleShape };\nvar Circle = (function (_super) {\n    __extends(Circle, _super);\n    function Circle(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Circle.prototype.getDefaultShape = function () {\n        return new CircleShape();\n    };\n    Circle.prototype.buildPath = function (ctx, shape) {\n        ctx.moveTo(shape.cx + shape.r, shape.cy);\n        ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2);\n    };\n    return Circle;\n}(Path));\n;\nCircle.prototype.type = 'circle';\nexport default Circle;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar EllipseShape = (function () {\n    function EllipseShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.rx = 0;\n        this.ry = 0;\n    }\n    return EllipseShape;\n}());\nexport { EllipseShape };\nvar Ellipse = (function (_super) {\n    __extends(Ellipse, _super);\n    function Ellipse(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Ellipse.prototype.getDefaultShape = function () {\n        return new EllipseShape();\n    };\n    Ellipse.prototype.buildPath = function (ctx, shape) {\n        var k = 0.5522848;\n        var x = shape.cx;\n        var y = shape.cy;\n        var a = shape.rx;\n        var b = shape.ry;\n        var ox = a * k;\n        var oy = b * k;\n        ctx.moveTo(x - a, y);\n        ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);\n        ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);\n        ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);\n        ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);\n        ctx.closePath();\n    };\n    return Ellipse;\n}(Path));\nEllipse.prototype.type = 'ellipse';\nexport default Ellipse;\n","import { isArray } from '../../core/util.js';\nvar PI = Math.PI;\nvar PI2 = PI * 2;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar mathACos = Math.acos;\nvar mathATan2 = Math.atan2;\nvar mathAbs = Math.abs;\nvar mathSqrt = Math.sqrt;\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar e = 1e-4;\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var dx10 = x1 - x0;\n    var dy10 = y1 - y0;\n    var dx32 = x3 - x2;\n    var dy32 = y3 - y2;\n    var t = dy32 * dx10 - dx32 * dy10;\n    if (t * t < e) {\n        return;\n    }\n    t = (dx32 * (y0 - y2) - dy32 * (x0 - x2)) / t;\n    return [x0 + t * dx10, y0 + t * dy10];\n}\nfunction computeCornerTangents(x0, y0, x1, y1, radius, cr, clockwise) {\n    var x01 = x0 - x1;\n    var y01 = y0 - y1;\n    var lo = (clockwise ? cr : -cr) / mathSqrt(x01 * x01 + y01 * y01);\n    var ox = lo * y01;\n    var oy = -lo * x01;\n    var x11 = x0 + ox;\n    var y11 = y0 + oy;\n    var x10 = x1 + ox;\n    var y10 = y1 + oy;\n    var x00 = (x11 + x10) / 2;\n    var y00 = (y11 + y10) / 2;\n    var dx = x10 - x11;\n    var dy = y10 - y11;\n    var d2 = dx * dx + dy * dy;\n    var r = radius - cr;\n    var s = x11 * y10 - x10 * y11;\n    var d = (dy < 0 ? -1 : 1) * mathSqrt(mathMax(0, r * r * d2 - s * s));\n    var cx0 = (s * dy - dx * d) / d2;\n    var cy0 = (-s * dx - dy * d) / d2;\n    var cx1 = (s * dy + dx * d) / d2;\n    var cy1 = (-s * dx + dy * d) / d2;\n    var dx0 = cx0 - x00;\n    var dy0 = cy0 - y00;\n    var dx1 = cx1 - x00;\n    var dy1 = cy1 - y00;\n    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) {\n        cx0 = cx1;\n        cy0 = cy1;\n    }\n    return {\n        cx: cx0,\n        cy: cy0,\n        x0: -ox,\n        y0: -oy,\n        x1: cx0 * (radius / r - 1),\n        y1: cy0 * (radius / r - 1)\n    };\n}\nfunction normalizeCornerRadius(cr) {\n    var arr;\n    if (isArray(cr)) {\n        var len = cr.length;\n        if (!len) {\n            return cr;\n        }\n        if (len === 1) {\n            arr = [cr[0], cr[0], 0, 0];\n        }\n        else if (len === 2) {\n            arr = [cr[0], cr[0], cr[1], cr[1]];\n        }\n        else if (len === 3) {\n            arr = cr.concat(cr[2]);\n        }\n        else {\n            arr = cr;\n        }\n    }\n    else {\n        arr = [cr, cr, cr, cr];\n    }\n    return arr;\n}\nexport function buildPath(ctx, shape) {\n    var _a;\n    var radius = mathMax(shape.r, 0);\n    var innerRadius = mathMax(shape.r0 || 0, 0);\n    var hasRadius = radius > 0;\n    var hasInnerRadius = innerRadius > 0;\n    if (!hasRadius && !hasInnerRadius) {\n        return;\n    }\n    if (!hasRadius) {\n        radius = innerRadius;\n        innerRadius = 0;\n    }\n    if (innerRadius > radius) {\n        var tmp = radius;\n        radius = innerRadius;\n        innerRadius = tmp;\n    }\n    var startAngle = shape.startAngle, endAngle = shape.endAngle;\n    if (isNaN(startAngle) || isNaN(endAngle)) {\n        return;\n    }\n    var cx = shape.cx, cy = shape.cy;\n    var clockwise = !!shape.clockwise;\n    var arc = mathAbs(endAngle - startAngle);\n    var mod = arc > PI2 && arc % PI2;\n    mod > e && (arc = mod);\n    if (!(radius > e)) {\n        ctx.moveTo(cx, cy);\n    }\n    else if (arc > PI2 - e) {\n        ctx.moveTo(cx + radius * mathCos(startAngle), cy + radius * mathSin(startAngle));\n        ctx.arc(cx, cy, radius, startAngle, endAngle, !clockwise);\n        if (innerRadius > e) {\n            ctx.moveTo(cx + innerRadius * mathCos(endAngle), cy + innerRadius * mathSin(endAngle));\n            ctx.arc(cx, cy, innerRadius, endAngle, startAngle, clockwise);\n        }\n    }\n    else {\n        var icrStart = void 0;\n        var icrEnd = void 0;\n        var ocrStart = void 0;\n        var ocrEnd = void 0;\n        var ocrs = void 0;\n        var ocre = void 0;\n        var icrs = void 0;\n        var icre = void 0;\n        var ocrMax = void 0;\n        var icrMax = void 0;\n        var limitedOcrMax = void 0;\n        var limitedIcrMax = void 0;\n        var xre = void 0;\n        var yre = void 0;\n        var xirs = void 0;\n        var yirs = void 0;\n        var xrs = radius * mathCos(startAngle);\n        var yrs = radius * mathSin(startAngle);\n        var xire = innerRadius * mathCos(endAngle);\n        var yire = innerRadius * mathSin(endAngle);\n        var hasArc = arc > e;\n        if (hasArc) {\n            var cornerRadius = shape.cornerRadius;\n            if (cornerRadius) {\n                _a = normalizeCornerRadius(cornerRadius), icrStart = _a[0], icrEnd = _a[1], ocrStart = _a[2], ocrEnd = _a[3];\n            }\n            var halfRd = mathAbs(radius - innerRadius) / 2;\n            ocrs = mathMin(halfRd, ocrStart);\n            ocre = mathMin(halfRd, ocrEnd);\n            icrs = mathMin(halfRd, icrStart);\n            icre = mathMin(halfRd, icrEnd);\n            limitedOcrMax = ocrMax = mathMax(ocrs, ocre);\n            limitedIcrMax = icrMax = mathMax(icrs, icre);\n            if (ocrMax > e || icrMax > e) {\n                xre = radius * mathCos(endAngle);\n                yre = radius * mathSin(endAngle);\n                xirs = innerRadius * mathCos(startAngle);\n                yirs = innerRadius * mathSin(startAngle);\n                if (arc < PI) {\n                    var it_1 = intersect(xrs, yrs, xirs, yirs, xre, yre, xire, yire);\n                    if (it_1) {\n                        var x0 = xrs - it_1[0];\n                        var y0 = yrs - it_1[1];\n                        var x1 = xre - it_1[0];\n                        var y1 = yre - it_1[1];\n                        var a = 1 / mathSin(mathACos((x0 * x1 + y0 * y1) / (mathSqrt(x0 * x0 + y0 * y0) * mathSqrt(x1 * x1 + y1 * y1))) / 2);\n                        var b = mathSqrt(it_1[0] * it_1[0] + it_1[1] * it_1[1]);\n                        limitedOcrMax = mathMin(ocrMax, (radius - b) / (a + 1));\n                        limitedIcrMax = mathMin(icrMax, (innerRadius - b) / (a - 1));\n                    }\n                }\n            }\n        }\n        if (!hasArc) {\n            ctx.moveTo(cx + xrs, cy + yrs);\n        }\n        else if (limitedOcrMax > e) {\n            var crStart = mathMin(ocrStart, limitedOcrMax);\n            var crEnd = mathMin(ocrEnd, limitedOcrMax);\n            var ct0 = computeCornerTangents(xirs, yirs, xrs, yrs, radius, crStart, clockwise);\n            var ct1 = computeCornerTangents(xre, yre, xire, yire, radius, crEnd, clockwise);\n            ctx.moveTo(cx + ct0.cx + ct0.x0, cy + ct0.cy + ct0.y0);\n            if (limitedOcrMax < ocrMax && crStart === crEnd) {\n                ctx.arc(cx + ct0.cx, cy + ct0.cy, limitedOcrMax, mathATan2(ct0.y0, ct0.x0), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n            else {\n                crStart > 0 && ctx.arc(cx + ct0.cx, cy + ct0.cy, crStart, mathATan2(ct0.y0, ct0.x0), mathATan2(ct0.y1, ct0.x1), !clockwise);\n                ctx.arc(cx, cy, radius, mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1), mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1), !clockwise);\n                crEnd > 0 && ctx.arc(cx + ct1.cx, cy + ct1.cy, crEnd, mathATan2(ct1.y1, ct1.x1), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n        }\n        else {\n            ctx.moveTo(cx + xrs, cy + yrs);\n            ctx.arc(cx, cy, radius, startAngle, endAngle, !clockwise);\n        }\n        if (!(innerRadius > e) || !hasArc) {\n            ctx.lineTo(cx + xire, cy + yire);\n        }\n        else if (limitedIcrMax > e) {\n            var crStart = mathMin(icrStart, limitedIcrMax);\n            var crEnd = mathMin(icrEnd, limitedIcrMax);\n            var ct0 = computeCornerTangents(xire, yire, xre, yre, innerRadius, -crEnd, clockwise);\n            var ct1 = computeCornerTangents(xrs, yrs, xirs, yirs, innerRadius, -crStart, clockwise);\n            ctx.lineTo(cx + ct0.cx + ct0.x0, cy + ct0.cy + ct0.y0);\n            if (limitedIcrMax < icrMax && crStart === crEnd) {\n                ctx.arc(cx + ct0.cx, cy + ct0.cy, limitedIcrMax, mathATan2(ct0.y0, ct0.x0), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n            else {\n                crEnd > 0 && ctx.arc(cx + ct0.cx, cy + ct0.cy, crEnd, mathATan2(ct0.y0, ct0.x0), mathATan2(ct0.y1, ct0.x1), !clockwise);\n                ctx.arc(cx, cy, innerRadius, mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1), mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1), clockwise);\n                crStart > 0 && ctx.arc(cx + ct1.cx, cy + ct1.cy, crStart, mathATan2(ct1.y1, ct1.x1), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n        }\n        else {\n            ctx.lineTo(cx + xire, cy + yire);\n            ctx.arc(cx, cy, innerRadius, endAngle, startAngle, clockwise);\n        }\n    }\n    ctx.closePath();\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as roundSectorHelper from '../helper/roundSector.js';\nvar SectorShape = (function () {\n    function SectorShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r0 = 0;\n        this.r = 0;\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.clockwise = true;\n        this.cornerRadius = 0;\n    }\n    return SectorShape;\n}());\nexport { SectorShape };\nvar Sector = (function (_super) {\n    __extends(Sector, _super);\n    function Sector(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Sector.prototype.getDefaultShape = function () {\n        return new SectorShape();\n    };\n    Sector.prototype.buildPath = function (ctx, shape) {\n        roundSectorHelper.buildPath(ctx, shape);\n    };\n    Sector.prototype.isZeroArea = function () {\n        return this.shape.startAngle === this.shape.endAngle\n            || this.shape.r === this.shape.r0;\n    };\n    return Sector;\n}(Path));\nSector.prototype.type = 'sector';\nexport default Sector;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar RingShape = (function () {\n    function RingShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n        this.r0 = 0;\n    }\n    return RingShape;\n}());\nexport { RingShape };\nvar Ring = (function (_super) {\n    __extends(Ring, _super);\n    function Ring(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Ring.prototype.getDefaultShape = function () {\n        return new RingShape();\n    };\n    Ring.prototype.buildPath = function (ctx, shape) {\n        var x = shape.cx;\n        var y = shape.cy;\n        var PI2 = Math.PI * 2;\n        ctx.moveTo(x + shape.r, y);\n        ctx.arc(x, y, shape.r, 0, PI2, false);\n        ctx.moveTo(x + shape.r0, y);\n        ctx.arc(x, y, shape.r0, 0, PI2, true);\n    };\n    return Ring;\n}(Path));\nRing.prototype.type = 'ring';\nexport default Ring;\n","import smoothBezier from './smoothBezier.js';\nexport function buildPath(ctx, shape, closePath) {\n    var smooth = shape.smooth;\n    var points = shape.points;\n    if (points && points.length >= 2) {\n        if (smooth) {\n            var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n            ctx.moveTo(points[0][0], points[0][1]);\n            var len = points.length;\n            for (var i = 0; i < (closePath ? len : len - 1); i++) {\n                var cp1 = controlPoints[i * 2];\n                var cp2 = controlPoints[i * 2 + 1];\n                var p = points[(i + 1) % len];\n                ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n            }\n        }\n        else {\n            ctx.moveTo(points[0][0], points[0][1]);\n            for (var i = 1, l = points.length; i < l; i++) {\n                ctx.lineTo(points[i][0], points[i][1]);\n            }\n        }\n        closePath && ctx.closePath();\n    }\n}\n","import { min as v2Min, max as v2Max, scale as v2Scale, distance as v2Distance, add as v2Add, clone as v2Clone, sub as v2Sub } from '../../core/vector.js';\nexport default function smoothBezier(points, smooth, isLoop, constraint) {\n    var cps = [];\n    var v = [];\n    var v1 = [];\n    var v2 = [];\n    var prevPoint;\n    var nextPoint;\n    var min;\n    var max;\n    if (constraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n        for (var i = 0, len = points.length; i < len; i++) {\n            v2Min(min, min, points[i]);\n            v2Max(max, max, points[i]);\n        }\n        v2Min(min, min, constraint[0]);\n        v2Max(max, max, constraint[1]);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (isLoop) {\n            prevPoint = points[i ? i - 1 : len - 1];\n            nextPoint = points[(i + 1) % len];\n        }\n        else {\n            if (i === 0 || i === len - 1) {\n                cps.push(v2Clone(points[i]));\n                continue;\n            }\n            else {\n                prevPoint = points[i - 1];\n                nextPoint = points[i + 1];\n            }\n        }\n        v2Sub(v, nextPoint, prevPoint);\n        v2Scale(v, v, smooth);\n        var d0 = v2Distance(point, prevPoint);\n        var d1 = v2Distance(point, nextPoint);\n        var sum = d0 + d1;\n        if (sum !== 0) {\n            d0 /= sum;\n            d1 /= sum;\n        }\n        v2Scale(v1, v, -d0);\n        v2Scale(v2, v, d1);\n        var cp0 = v2Add([], point, v1);\n        var cp1 = v2Add([], point, v2);\n        if (constraint) {\n            v2Max(cp0, cp0, min);\n            v2Min(cp0, cp0, max);\n            v2Max(cp1, cp1, min);\n            v2Min(cp1, cp1, max);\n        }\n        cps.push(cp0);\n        cps.push(cp1);\n    }\n    if (isLoop) {\n        cps.push(cps.shift());\n    }\n    return cps;\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as polyHelper from '../helper/poly.js';\nvar PolygonShape = (function () {\n    function PolygonShape() {\n        this.points = null;\n        this.smooth = 0;\n        this.smoothConstraint = null;\n    }\n    return PolygonShape;\n}());\nexport { PolygonShape };\nvar Polygon = (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Polygon.prototype.getDefaultShape = function () {\n        return new PolygonShape();\n    };\n    Polygon.prototype.buildPath = function (ctx, shape) {\n        polyHelper.buildPath(ctx, shape, true);\n    };\n    return Polygon;\n}(Path));\n;\nPolygon.prototype.type = 'polygon';\nexport default Polygon;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as polyHelper from '../helper/poly.js';\nvar PolylineShape = (function () {\n    function PolylineShape() {\n        this.points = null;\n        this.percent = 1;\n        this.smooth = 0;\n        this.smoothConstraint = null;\n    }\n    return PolylineShape;\n}());\nexport { PolylineShape };\nvar Polyline = (function (_super) {\n    __extends(Polyline, _super);\n    function Polyline(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Polyline.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Polyline.prototype.getDefaultShape = function () {\n        return new PolylineShape();\n    };\n    Polyline.prototype.buildPath = function (ctx, shape) {\n        polyHelper.buildPath(ctx, shape, false);\n    };\n    return Polyline;\n}(Path));\nPolyline.prototype.type = 'polyline';\nexport default Polyline;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport { subPixelOptimizeLine } from '../helper/subPixelOptimize.js';\nvar subPixelOptimizeOutputShape = {};\nvar LineShape = (function () {\n    function LineShape() {\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.percent = 1;\n    }\n    return LineShape;\n}());\nexport { LineShape };\nvar Line = (function (_super) {\n    __extends(Line, _super);\n    function Line(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Line.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Line.prototype.getDefaultShape = function () {\n        return new LineShape();\n    };\n    Line.prototype.buildPath = function (ctx, shape) {\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        if (this.subPixelOptimize) {\n            var optimizedShape = subPixelOptimizeLine(subPixelOptimizeOutputShape, shape, this.style);\n            x1 = optimizedShape.x1;\n            y1 = optimizedShape.y1;\n            x2 = optimizedShape.x2;\n            y2 = optimizedShape.y2;\n        }\n        else {\n            x1 = shape.x1;\n            y1 = shape.y1;\n            x2 = shape.x2;\n            y2 = shape.y2;\n        }\n        var percent = shape.percent;\n        if (percent === 0) {\n            return;\n        }\n        ctx.moveTo(x1, y1);\n        if (percent < 1) {\n            x2 = x1 * (1 - percent) + x2 * percent;\n            y2 = y1 * (1 - percent) + y2 * percent;\n        }\n        ctx.lineTo(x2, y2);\n    };\n    Line.prototype.pointAt = function (p) {\n        var shape = this.shape;\n        return [\n            shape.x1 * (1 - p) + shape.x2 * p,\n            shape.y1 * (1 - p) + shape.y2 * p\n        ];\n    };\n    return Line;\n}(Path));\nLine.prototype.type = 'line';\nexport default Line;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as vec2 from '../../core/vector.js';\nimport { quadraticSubdivide, cubicSubdivide, quadraticAt, cubicAt, quadraticDerivativeAt, cubicDerivativeAt } from '../../core/curve.js';\nvar out = [];\nvar BezierCurveShape = (function () {\n    function BezierCurveShape() {\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.cpx1 = 0;\n        this.cpy1 = 0;\n        this.percent = 1;\n    }\n    return BezierCurveShape;\n}());\nexport { BezierCurveShape };\nfunction someVectorAt(shape, t, isTangent) {\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    if (cpx2 != null || cpy2 != null) {\n        return [\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t),\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)\n        ];\n    }\n    else {\n        return [\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t),\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)\n        ];\n    }\n}\nvar BezierCurve = (function (_super) {\n    __extends(BezierCurve, _super);\n    function BezierCurve(opts) {\n        return _super.call(this, opts) || this;\n    }\n    BezierCurve.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    BezierCurve.prototype.getDefaultShape = function () {\n        return new BezierCurveShape();\n    };\n    BezierCurve.prototype.buildPath = function (ctx, shape) {\n        var x1 = shape.x1;\n        var y1 = shape.y1;\n        var x2 = shape.x2;\n        var y2 = shape.y2;\n        var cpx1 = shape.cpx1;\n        var cpy1 = shape.cpy1;\n        var cpx2 = shape.cpx2;\n        var cpy2 = shape.cpy2;\n        var percent = shape.percent;\n        if (percent === 0) {\n            return;\n        }\n        ctx.moveTo(x1, y1);\n        if (cpx2 == null || cpy2 == null) {\n            if (percent < 1) {\n                quadraticSubdivide(x1, cpx1, x2, percent, out);\n                cpx1 = out[1];\n                x2 = out[2];\n                quadraticSubdivide(y1, cpy1, y2, percent, out);\n                cpy1 = out[1];\n                y2 = out[2];\n            }\n            ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n        }\n        else {\n            if (percent < 1) {\n                cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n                cpx1 = out[1];\n                cpx2 = out[2];\n                x2 = out[3];\n                cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n                cpy1 = out[1];\n                cpy2 = out[2];\n                y2 = out[3];\n            }\n            ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n        }\n    };\n    BezierCurve.prototype.pointAt = function (t) {\n        return someVectorAt(this.shape, t, false);\n    };\n    BezierCurve.prototype.tangentAt = function (t) {\n        var p = someVectorAt(this.shape, t, true);\n        return vec2.normalize(p, p);\n    };\n    return BezierCurve;\n}(Path));\n;\nBezierCurve.prototype.type = 'bezier-curve';\nexport default BezierCurve;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar ArcShape = (function () {\n    function ArcShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.clockwise = true;\n    }\n    return ArcShape;\n}());\nexport { ArcShape };\nvar Arc = (function (_super) {\n    __extends(Arc, _super);\n    function Arc(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Arc.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Arc.prototype.getDefaultShape = function () {\n        return new ArcShape();\n    };\n    Arc.prototype.buildPath = function (ctx, shape) {\n        var x = shape.cx;\n        var y = shape.cy;\n        var r = Math.max(shape.r, 0);\n        var startAngle = shape.startAngle;\n        var endAngle = shape.endAngle;\n        var clockwise = shape.clockwise;\n        var unitX = Math.cos(startAngle);\n        var unitY = Math.sin(startAngle);\n        ctx.moveTo(unitX * r + x, unitY * r + y);\n        ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    };\n    return Arc;\n}(Path));\nArc.prototype.type = 'arc';\nexport default Arc;\n","import { __extends } from \"tslib\";\nimport Path from './Path.js';\nvar CompoundPath = (function (_super) {\n    __extends(CompoundPath, _super);\n    function CompoundPath() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'compound';\n        return _this;\n    }\n    CompoundPath.prototype._updatePathDirty = function () {\n        var paths = this.shape.paths;\n        var dirtyPath = this.shapeChanged();\n        for (var i = 0; i < paths.length; i++) {\n            dirtyPath = dirtyPath || paths[i].shapeChanged();\n        }\n        if (dirtyPath) {\n            this.dirtyShape();\n        }\n    };\n    CompoundPath.prototype.beforeBrush = function () {\n        this._updatePathDirty();\n        var paths = this.shape.paths || [];\n        var scale = this.getGlobalScale();\n        for (var i = 0; i < paths.length; i++) {\n            if (!paths[i].path) {\n                paths[i].createPathProxy();\n            }\n            paths[i].path.setScale(scale[0], scale[1], paths[i].segmentIgnoreThreshold);\n        }\n    };\n    CompoundPath.prototype.buildPath = function (ctx, shape) {\n        var paths = shape.paths || [];\n        for (var i = 0; i < paths.length; i++) {\n            paths[i].buildPath(ctx, paths[i].shape, true);\n        }\n    };\n    CompoundPath.prototype.afterBrush = function () {\n        var paths = this.shape.paths || [];\n        for (var i = 0; i < paths.length; i++) {\n            paths[i].pathUpdated();\n        }\n    };\n    CompoundPath.prototype.getBoundingRect = function () {\n        this._updatePathDirty.call(this);\n        return Path.prototype.getBoundingRect.call(this);\n    };\n    return CompoundPath;\n}(Path));\nexport default CompoundPath;\n","var Gradient = (function () {\n    function Gradient(colorStops) {\n        this.colorStops = colorStops || [];\n    }\n    Gradient.prototype.addColorStop = function (offset, color) {\n        this.colorStops.push({\n            offset: offset,\n            color: color\n        });\n    };\n    return Gradient;\n}());\nexport default Gradient;\n","import { __extends } from \"tslib\";\nimport Gradient from './Gradient.js';\nvar LinearGradient = (function (_super) {\n    __extends(LinearGradient, _super);\n    function LinearGradient(x, y, x2, y2, colorStops, globalCoord) {\n        var _this = _super.call(this, colorStops) || this;\n        _this.x = x == null ? 0 : x;\n        _this.y = y == null ? 0 : y;\n        _this.x2 = x2 == null ? 1 : x2;\n        _this.y2 = y2 == null ? 0 : y2;\n        _this.type = 'linear';\n        _this.global = globalCoord || false;\n        return _this;\n    }\n    return LinearGradient;\n}(Gradient));\nexport default LinearGradient;\n;\n","import { __extends } from \"tslib\";\nimport Gradient from './Gradient.js';\nvar RadialGradient = (function (_super) {\n    __extends(RadialGradient, _super);\n    function RadialGradient(x, y, r, colorStops, globalCoord) {\n        var _this = _super.call(this, colorStops) || this;\n        _this.x = x == null ? 0.5 : x;\n        _this.y = y == null ? 0.5 : y;\n        _this.r = r == null ? 0.5 : r;\n        _this.type = 'radial';\n        _this.global = globalCoord || false;\n        return _this;\n    }\n    return RadialGradient;\n}(Gradient));\nexport default RadialGradient;\n","import Point from './Point.js';\nvar extent = [0, 0];\nvar extent2 = [0, 0];\nvar minTv = new Point();\nvar maxTv = new Point();\nvar OrientedBoundingRect = (function () {\n    function OrientedBoundingRect(rect, transform) {\n        this._corners = [];\n        this._axes = [];\n        this._origin = [0, 0];\n        for (var i = 0; i < 4; i++) {\n            this._corners[i] = new Point();\n        }\n        for (var i = 0; i < 2; i++) {\n            this._axes[i] = new Point();\n        }\n        if (rect) {\n            this.fromBoundingRect(rect, transform);\n        }\n    }\n    OrientedBoundingRect.prototype.fromBoundingRect = function (rect, transform) {\n        var corners = this._corners;\n        var axes = this._axes;\n        var x = rect.x;\n        var y = rect.y;\n        var x2 = x + rect.width;\n        var y2 = y + rect.height;\n        corners[0].set(x, y);\n        corners[1].set(x2, y);\n        corners[2].set(x2, y2);\n        corners[3].set(x, y2);\n        if (transform) {\n            for (var i = 0; i < 4; i++) {\n                corners[i].transform(transform);\n            }\n        }\n        Point.sub(axes[0], corners[1], corners[0]);\n        Point.sub(axes[1], corners[3], corners[0]);\n        axes[0].normalize();\n        axes[1].normalize();\n        for (var i = 0; i < 2; i++) {\n            this._origin[i] = axes[i].dot(corners[0]);\n        }\n    };\n    OrientedBoundingRect.prototype.intersect = function (other, mtv) {\n        var overlapped = true;\n        var noMtv = !mtv;\n        minTv.set(Infinity, Infinity);\n        maxTv.set(0, 0);\n        if (!this._intersectCheckOneSide(this, other, minTv, maxTv, noMtv, 1)) {\n            overlapped = false;\n            if (noMtv) {\n                return overlapped;\n            }\n        }\n        if (!this._intersectCheckOneSide(other, this, minTv, maxTv, noMtv, -1)) {\n            overlapped = false;\n            if (noMtv) {\n                return overlapped;\n            }\n        }\n        if (!noMtv) {\n            Point.copy(mtv, overlapped ? minTv : maxTv);\n        }\n        return overlapped;\n    };\n    OrientedBoundingRect.prototype._intersectCheckOneSide = function (self, other, minTv, maxTv, noMtv, inverse) {\n        var overlapped = true;\n        for (var i = 0; i < 2; i++) {\n            var axis = this._axes[i];\n            this._getProjMinMaxOnAxis(i, self._corners, extent);\n            this._getProjMinMaxOnAxis(i, other._corners, extent2);\n            if (extent[1] < extent2[0] || extent[0] > extent2[1]) {\n                overlapped = false;\n                if (noMtv) {\n                    return overlapped;\n                }\n                var dist0 = Math.abs(extent2[0] - extent[1]);\n                var dist1 = Math.abs(extent[0] - extent2[1]);\n                if (Math.min(dist0, dist1) > maxTv.len()) {\n                    if (dist0 < dist1) {\n                        Point.scale(maxTv, axis, -dist0 * inverse);\n                    }\n                    else {\n                        Point.scale(maxTv, axis, dist1 * inverse);\n                    }\n                }\n            }\n            else if (minTv) {\n                var dist0 = Math.abs(extent2[0] - extent[1]);\n                var dist1 = Math.abs(extent[0] - extent2[1]);\n                if (Math.min(dist0, dist1) < minTv.len()) {\n                    if (dist0 < dist1) {\n                        Point.scale(minTv, axis, dist0 * inverse);\n                    }\n                    else {\n                        Point.scale(minTv, axis, -dist1 * inverse);\n                    }\n                }\n            }\n        }\n        return overlapped;\n    };\n    OrientedBoundingRect.prototype._getProjMinMaxOnAxis = function (dim, corners, out) {\n        var axis = this._axes[dim];\n        var origin = this._origin;\n        var proj = corners[0].dot(axis) + origin[dim];\n        var min = proj;\n        var max = proj;\n        for (var i = 1; i < corners.length; i++) {\n            var proj_1 = corners[i].dot(axis) + origin[dim];\n            min = Math.min(proj_1, min);\n            max = Math.max(proj_1, max);\n        }\n        out[0] = min;\n        out[1] = max;\n    };\n    return OrientedBoundingRect;\n}());\nexport default OrientedBoundingRect;\n","import { __extends } from \"tslib\";\nimport Displayble from './Displayable.js';\nimport BoundingRect from '../core/BoundingRect.js';\nvar m = [];\nvar IncrementalDisplayable = (function (_super) {\n    __extends(IncrementalDisplayable, _super);\n    function IncrementalDisplayable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.notClear = true;\n        _this.incremental = true;\n        _this._displayables = [];\n        _this._temporaryDisplayables = [];\n        _this._cursor = 0;\n        return _this;\n    }\n    IncrementalDisplayable.prototype.traverse = function (cb, context) {\n        cb.call(context, this);\n    };\n    IncrementalDisplayable.prototype.useStyle = function () {\n        this.style = {};\n    };\n    IncrementalDisplayable.prototype.getCursor = function () {\n        return this._cursor;\n    };\n    IncrementalDisplayable.prototype.innerAfterBrush = function () {\n        this._cursor = this._displayables.length;\n    };\n    IncrementalDisplayable.prototype.clearDisplaybles = function () {\n        this._displayables = [];\n        this._temporaryDisplayables = [];\n        this._cursor = 0;\n        this.markRedraw();\n        this.notClear = false;\n    };\n    IncrementalDisplayable.prototype.clearTemporalDisplayables = function () {\n        this._temporaryDisplayables = [];\n    };\n    IncrementalDisplayable.prototype.addDisplayable = function (displayable, notPersistent) {\n        if (notPersistent) {\n            this._temporaryDisplayables.push(displayable);\n        }\n        else {\n            this._displayables.push(displayable);\n        }\n        this.markRedraw();\n    };\n    IncrementalDisplayable.prototype.addDisplayables = function (displayables, notPersistent) {\n        notPersistent = notPersistent || false;\n        for (var i = 0; i < displayables.length; i++) {\n            this.addDisplayable(displayables[i], notPersistent);\n        }\n    };\n    IncrementalDisplayable.prototype.getDisplayables = function () {\n        return this._displayables;\n    };\n    IncrementalDisplayable.prototype.getTemporalDisplayables = function () {\n        return this._temporaryDisplayables;\n    };\n    IncrementalDisplayable.prototype.eachPendingDisplayable = function (cb) {\n        for (var i = this._cursor; i < this._displayables.length; i++) {\n            cb && cb(this._displayables[i]);\n        }\n        for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n            cb && cb(this._temporaryDisplayables[i]);\n        }\n    };\n    IncrementalDisplayable.prototype.update = function () {\n        this.updateTransform();\n        for (var i = this._cursor; i < this._displayables.length; i++) {\n            var displayable = this._displayables[i];\n            displayable.parent = this;\n            displayable.update();\n            displayable.parent = null;\n        }\n        for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n            var displayable = this._temporaryDisplayables[i];\n            displayable.parent = this;\n            displayable.update();\n            displayable.parent = null;\n        }\n    };\n    IncrementalDisplayable.prototype.getBoundingRect = function () {\n        if (!this._rect) {\n            var rect = new BoundingRect(Infinity, Infinity, -Infinity, -Infinity);\n            for (var i = 0; i < this._displayables.length; i++) {\n                var displayable = this._displayables[i];\n                var childRect = displayable.getBoundingRect().clone();\n                if (displayable.needLocalTransform()) {\n                    childRect.applyTransform(displayable.getLocalTransform(m));\n                }\n                rect.union(childRect);\n            }\n            this._rect = rect;\n        }\n        return this._rect;\n    };\n    IncrementalDisplayable.prototype.contain = function (x, y) {\n        var localPos = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        if (rect.contain(localPos[0], localPos[1])) {\n            for (var i = 0; i < this._displayables.length; i++) {\n                var displayable = this._displayables[i];\n                if (displayable.contain(x, y)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    return IncrementalDisplayable;\n}(Displayble));\nexport default IncrementalDisplayable;\n","var wmUniqueIndex = Math.round(Math.random() * 9);\nvar supportDefineProperty = typeof Object.defineProperty === 'function';\nvar WeakMap = (function () {\n    function WeakMap() {\n        this._id = '__ec_inner_' + wmUniqueIndex++;\n    }\n    WeakMap.prototype.get = function (key) {\n        return this._guard(key)[this._id];\n    };\n    WeakMap.prototype.set = function (key, value) {\n        var target = this._guard(key);\n        if (supportDefineProperty) {\n            Object.defineProperty(target, this._id, {\n                value: value,\n                enumerable: false,\n                configurable: true\n            });\n        }\n        else {\n            target[this._id] = value;\n        }\n        return this;\n    };\n    WeakMap.prototype[\"delete\"] = function (key) {\n        if (this.has(key)) {\n            delete this._guard(key)[this._id];\n            return true;\n        }\n        return false;\n    };\n    WeakMap.prototype.has = function (key) {\n        return !!this._guard(key)[this._id];\n    };\n    WeakMap.prototype._guard = function (key) {\n        if (key !== Object(key)) {\n            throw TypeError('Value of WeakMap is not a non-null object.');\n        }\n        return key;\n    };\n    return WeakMap;\n}());\nexport default WeakMap;\n","function isSafeNum(num) {\n    return isFinite(num);\n}\nexport function createLinearGradient(ctx, obj, rect) {\n    var x = obj.x == null ? 0 : obj.x;\n    var x2 = obj.x2 == null ? 1 : obj.x2;\n    var y = obj.y == null ? 0 : obj.y;\n    var y2 = obj.y2 == null ? 0 : obj.y2;\n    if (!obj.global) {\n        x = x * rect.width + rect.x;\n        x2 = x2 * rect.width + rect.x;\n        y = y * rect.height + rect.y;\n        y2 = y2 * rect.height + rect.y;\n    }\n    x = isSafeNum(x) ? x : 0;\n    x2 = isSafeNum(x2) ? x2 : 1;\n    y = isSafeNum(y) ? y : 0;\n    y2 = isSafeNum(y2) ? y2 : 0;\n    var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n    return canvasGradient;\n}\nexport function createRadialGradient(ctx, obj, rect) {\n    var width = rect.width;\n    var height = rect.height;\n    var min = Math.min(width, height);\n    var x = obj.x == null ? 0.5 : obj.x;\n    var y = obj.y == null ? 0.5 : obj.y;\n    var r = obj.r == null ? 0.5 : obj.r;\n    if (!obj.global) {\n        x = x * width + rect.x;\n        y = y * height + rect.y;\n        r = r * min;\n    }\n    x = isSafeNum(x) ? x : 0.5;\n    y = isSafeNum(y) ? y : 0.5;\n    r = r >= 0 && isSafeNum(r) ? r : 0.5;\n    var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n    return canvasGradient;\n}\nexport function getCanvasGradient(ctx, obj, rect) {\n    var canvasGradient = obj.type === 'radial'\n        ? createRadialGradient(ctx, obj, rect)\n        : createLinearGradient(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n    for (var i = 0; i < colorStops.length; i++) {\n        canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n    return canvasGradient;\n}\nexport function isClipPathChanged(clipPaths, prevClipPaths) {\n    if (clipPaths === prevClipPaths || (!clipPaths && !prevClipPaths)) {\n        return false;\n    }\n    if (!clipPaths || !prevClipPaths || (clipPaths.length !== prevClipPaths.length)) {\n        return true;\n    }\n    for (var i = 0; i < clipPaths.length; i++) {\n        if (clipPaths[i] !== prevClipPaths[i]) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseInt10(val) {\n    return parseInt(val, 10);\n}\nexport function getSize(root, whIdx, opts) {\n    var wh = ['width', 'height'][whIdx];\n    var cwh = ['clientWidth', 'clientHeight'][whIdx];\n    var plt = ['paddingLeft', 'paddingTop'][whIdx];\n    var prb = ['paddingRight', 'paddingBottom'][whIdx];\n    if (opts[wh] != null && opts[wh] !== 'auto') {\n        return parseFloat(opts[wh]);\n    }\n    var stl = document.defaultView.getComputedStyle(root);\n    return ((root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh]))\n        - (parseInt10(stl[plt]) || 0)\n        - (parseInt10(stl[prb]) || 0)) | 0;\n}\n","import { isArray, isNumber, map } from '../core/util.js';\nexport function normalizeLineDash(lineType, lineWidth) {\n    if (!lineType || lineType === 'solid' || !(lineWidth > 0)) {\n        return null;\n    }\n    return lineType === 'dashed'\n        ? [4 * lineWidth, 2 * lineWidth]\n        : lineType === 'dotted'\n            ? [lineWidth]\n            : isNumber(lineType)\n                ? [lineType] : isArray(lineType) ? lineType : null;\n}\nexport function getLineDash(el) {\n    var style = el.style;\n    var lineDash = style.lineDash && style.lineWidth > 0 && normalizeLineDash(style.lineDash, style.lineWidth);\n    var lineDashOffset = style.lineDashOffset;\n    if (lineDash) {\n        var lineScale_1 = (style.strokeNoScale && el.getLineScale) ? el.getLineScale() : 1;\n        if (lineScale_1 && lineScale_1 !== 1) {\n            lineDash = map(lineDash, function (rawVal) {\n                return rawVal / lineScale_1;\n            });\n            lineDashOffset /= lineScale_1;\n        }\n    }\n    return [lineDash, lineDashOffset];\n}\n","import { DEFAULT_COMMON_STYLE } from '../graphic/Displayable.js';\nimport PathProxy from '../core/PathProxy.js';\nimport { createOrUpdateImage, isImageReady } from '../graphic/helper/image.js';\nimport { getCanvasGradient, isClipPathChanged } from './helper.js';\nimport Path from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport TSpan from '../graphic/TSpan.js';\nimport { RADIAN_TO_DEGREE } from '../core/util.js';\nimport { getLineDash } from './dashStyle.js';\nimport { REDRAW_BIT, SHAPE_CHANGED_BIT } from '../graphic/constants.js';\nimport { DEFAULT_FONT } from '../core/platform.js';\nvar pathProxyForDraw = new PathProxy(true);\nfunction styleHasStroke(style) {\n    var stroke = style.stroke;\n    return !(stroke == null || stroke === 'none' || !(style.lineWidth > 0));\n}\nfunction isValidStrokeFillStyle(strokeOrFill) {\n    return typeof strokeOrFill === 'string' && strokeOrFill !== 'none';\n}\nfunction styleHasFill(style) {\n    var fill = style.fill;\n    return fill != null && fill !== 'none';\n}\nfunction doFillPath(ctx, style) {\n    if (style.fillOpacity != null && style.fillOpacity !== 1) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.fillOpacity * style.opacity;\n        ctx.fill();\n        ctx.globalAlpha = originalGlobalAlpha;\n    }\n    else {\n        ctx.fill();\n    }\n}\nfunction doStrokePath(ctx, style) {\n    if (style.strokeOpacity != null && style.strokeOpacity !== 1) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.strokeOpacity * style.opacity;\n        ctx.stroke();\n        ctx.globalAlpha = originalGlobalAlpha;\n    }\n    else {\n        ctx.stroke();\n    }\n}\nexport function createCanvasPattern(ctx, pattern, el) {\n    var image = createOrUpdateImage(pattern.image, pattern.__image, el);\n    if (isImageReady(image)) {\n        var canvasPattern = ctx.createPattern(image, pattern.repeat || 'repeat');\n        if (typeof DOMMatrix === 'function'\n            && canvasPattern\n            && canvasPattern.setTransform) {\n            var matrix = new DOMMatrix();\n            matrix.translateSelf((pattern.x || 0), (pattern.y || 0));\n            matrix.rotateSelf(0, 0, (pattern.rotation || 0) * RADIAN_TO_DEGREE);\n            matrix.scaleSelf((pattern.scaleX || 1), (pattern.scaleY || 1));\n            canvasPattern.setTransform(matrix);\n        }\n        return canvasPattern;\n    }\n}\nfunction brushPath(ctx, el, style, inBatch) {\n    var _a;\n    var hasStroke = styleHasStroke(style);\n    var hasFill = styleHasFill(style);\n    var strokePercent = style.strokePercent;\n    var strokePart = strokePercent < 1;\n    var firstDraw = !el.path;\n    if ((!el.silent || strokePart) && firstDraw) {\n        el.createPathProxy();\n    }\n    var path = el.path || pathProxyForDraw;\n    var dirtyFlag = el.__dirty;\n    if (!inBatch) {\n        var fill = style.fill;\n        var stroke = style.stroke;\n        var hasFillGradient = hasFill && !!fill.colorStops;\n        var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n        var hasFillPattern = hasFill && !!fill.image;\n        var hasStrokePattern = hasStroke && !!stroke.image;\n        var fillGradient = void 0;\n        var strokeGradient = void 0;\n        var fillPattern = void 0;\n        var strokePattern = void 0;\n        var rect = void 0;\n        if (hasFillGradient || hasStrokeGradient) {\n            rect = el.getBoundingRect();\n        }\n        if (hasFillGradient) {\n            fillGradient = dirtyFlag\n                ? getCanvasGradient(ctx, fill, rect)\n                : el.__canvasFillGradient;\n            el.__canvasFillGradient = fillGradient;\n        }\n        if (hasStrokeGradient) {\n            strokeGradient = dirtyFlag\n                ? getCanvasGradient(ctx, stroke, rect)\n                : el.__canvasStrokeGradient;\n            el.__canvasStrokeGradient = strokeGradient;\n        }\n        if (hasFillPattern) {\n            fillPattern = (dirtyFlag || !el.__canvasFillPattern)\n                ? createCanvasPattern(ctx, fill, el)\n                : el.__canvasFillPattern;\n            el.__canvasFillPattern = fillPattern;\n        }\n        if (hasStrokePattern) {\n            strokePattern = (dirtyFlag || !el.__canvasStrokePattern)\n                ? createCanvasPattern(ctx, stroke, el)\n                : el.__canvasStrokePattern;\n            el.__canvasStrokePattern = fillPattern;\n        }\n        if (hasFillGradient) {\n            ctx.fillStyle = fillGradient;\n        }\n        else if (hasFillPattern) {\n            if (fillPattern) {\n                ctx.fillStyle = fillPattern;\n            }\n            else {\n                hasFill = false;\n            }\n        }\n        if (hasStrokeGradient) {\n            ctx.strokeStyle = strokeGradient;\n        }\n        else if (hasStrokePattern) {\n            if (strokePattern) {\n                ctx.strokeStyle = strokePattern;\n            }\n            else {\n                hasStroke = false;\n            }\n        }\n    }\n    var scale = el.getGlobalScale();\n    path.setScale(scale[0], scale[1], el.segmentIgnoreThreshold);\n    var lineDash;\n    var lineDashOffset;\n    if (ctx.setLineDash && style.lineDash) {\n        _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n    }\n    var needsRebuild = true;\n    if (firstDraw || (dirtyFlag & SHAPE_CHANGED_BIT)) {\n        path.setDPR(ctx.dpr);\n        if (strokePart) {\n            path.setContext(null);\n        }\n        else {\n            path.setContext(ctx);\n            needsRebuild = false;\n        }\n        path.reset();\n        el.buildPath(path, el.shape, inBatch);\n        path.toStatic();\n        el.pathUpdated();\n    }\n    if (needsRebuild) {\n        path.rebuildPath(ctx, strokePart ? strokePercent : 1);\n    }\n    if (lineDash) {\n        ctx.setLineDash(lineDash);\n        ctx.lineDashOffset = lineDashOffset;\n    }\n    if (!inBatch) {\n        if (style.strokeFirst) {\n            if (hasStroke) {\n                doStrokePath(ctx, style);\n            }\n            if (hasFill) {\n                doFillPath(ctx, style);\n            }\n        }\n        else {\n            if (hasFill) {\n                doFillPath(ctx, style);\n            }\n            if (hasStroke) {\n                doStrokePath(ctx, style);\n            }\n        }\n    }\n    if (lineDash) {\n        ctx.setLineDash([]);\n    }\n}\nfunction brushImage(ctx, el, style) {\n    var image = el.__image = createOrUpdateImage(style.image, el.__image, el, el.onload);\n    if (!image || !isImageReady(image)) {\n        return;\n    }\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var width = el.getWidth();\n    var height = el.getHeight();\n    var aspect = image.width / image.height;\n    if (width == null && height != null) {\n        width = height * aspect;\n    }\n    else if (height == null && width != null) {\n        height = width / aspect;\n    }\n    else if (width == null && height == null) {\n        width = image.width;\n        height = image.height;\n    }\n    if (style.sWidth && style.sHeight) {\n        var sx = style.sx || 0;\n        var sy = style.sy || 0;\n        ctx.drawImage(image, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n    }\n    else if (style.sx && style.sy) {\n        var sx = style.sx;\n        var sy = style.sy;\n        var sWidth = width - sx;\n        var sHeight = height - sy;\n        ctx.drawImage(image, sx, sy, sWidth, sHeight, x, y, width, height);\n    }\n    else {\n        ctx.drawImage(image, x, y, width, height);\n    }\n}\nfunction brushText(ctx, el, style) {\n    var _a;\n    var text = style.text;\n    text != null && (text += '');\n    if (text) {\n        ctx.font = style.font || DEFAULT_FONT;\n        ctx.textAlign = style.textAlign;\n        ctx.textBaseline = style.textBaseline;\n        var lineDash = void 0;\n        var lineDashOffset = void 0;\n        if (ctx.setLineDash && style.lineDash) {\n            _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n        }\n        if (lineDash) {\n            ctx.setLineDash(lineDash);\n            ctx.lineDashOffset = lineDashOffset;\n        }\n        if (style.strokeFirst) {\n            if (styleHasStroke(style)) {\n                ctx.strokeText(text, style.x, style.y);\n            }\n            if (styleHasFill(style)) {\n                ctx.fillText(text, style.x, style.y);\n            }\n        }\n        else {\n            if (styleHasFill(style)) {\n                ctx.fillText(text, style.x, style.y);\n            }\n            if (styleHasStroke(style)) {\n                ctx.strokeText(text, style.x, style.y);\n            }\n        }\n        if (lineDash) {\n            ctx.setLineDash([]);\n        }\n    }\n}\nvar SHADOW_NUMBER_PROPS = ['shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\nvar STROKE_PROPS = [\n    ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]\n];\nfunction bindCommonProps(ctx, style, prevStyle, forceSetAll, scope) {\n    var styleChanged = false;\n    if (!forceSetAll) {\n        prevStyle = prevStyle || {};\n        if (style === prevStyle) {\n            return false;\n        }\n    }\n    if (forceSetAll || style.opacity !== prevStyle.opacity) {\n        flushPathDrawn(ctx, scope);\n        styleChanged = true;\n        var opacity = Math.max(Math.min(style.opacity, 1), 0);\n        ctx.globalAlpha = isNaN(opacity) ? DEFAULT_COMMON_STYLE.opacity : opacity;\n    }\n    if (forceSetAll || style.blend !== prevStyle.blend) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        ctx.globalCompositeOperation = style.blend || DEFAULT_COMMON_STYLE.blend;\n    }\n    for (var i = 0; i < SHADOW_NUMBER_PROPS.length; i++) {\n        var propName = SHADOW_NUMBER_PROPS[i];\n        if (forceSetAll || style[propName] !== prevStyle[propName]) {\n            if (!styleChanged) {\n                flushPathDrawn(ctx, scope);\n                styleChanged = true;\n            }\n            ctx[propName] = ctx.dpr * (style[propName] || 0);\n        }\n    }\n    if (forceSetAll || style.shadowColor !== prevStyle.shadowColor) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        ctx.shadowColor = style.shadowColor || DEFAULT_COMMON_STYLE.shadowColor;\n    }\n    return styleChanged;\n}\nfunction bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetAll, scope) {\n    var style = getStyle(el, scope.inHover);\n    var prevStyle = forceSetAll\n        ? null\n        : (prevEl && getStyle(prevEl, scope.inHover) || {});\n    if (style === prevStyle) {\n        return false;\n    }\n    var styleChanged = bindCommonProps(ctx, style, prevStyle, forceSetAll, scope);\n    if (forceSetAll || style.fill !== prevStyle.fill) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        isValidStrokeFillStyle(style.fill) && (ctx.fillStyle = style.fill);\n    }\n    if (forceSetAll || style.stroke !== prevStyle.stroke) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        isValidStrokeFillStyle(style.stroke) && (ctx.strokeStyle = style.stroke);\n    }\n    if (forceSetAll || style.opacity !== prevStyle.opacity) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n    }\n    if (el.hasStroke()) {\n        var lineWidth = style.lineWidth;\n        var newLineWidth = lineWidth / ((style.strokeNoScale && el.getLineScale) ? el.getLineScale() : 1);\n        if (ctx.lineWidth !== newLineWidth) {\n            if (!styleChanged) {\n                flushPathDrawn(ctx, scope);\n                styleChanged = true;\n            }\n            ctx.lineWidth = newLineWidth;\n        }\n    }\n    for (var i = 0; i < STROKE_PROPS.length; i++) {\n        var prop = STROKE_PROPS[i];\n        var propName = prop[0];\n        if (forceSetAll || style[propName] !== prevStyle[propName]) {\n            if (!styleChanged) {\n                flushPathDrawn(ctx, scope);\n                styleChanged = true;\n            }\n            ctx[propName] = style[propName] || prop[1];\n        }\n    }\n    return styleChanged;\n}\nfunction bindImageStyle(ctx, el, prevEl, forceSetAll, scope) {\n    return bindCommonProps(ctx, getStyle(el, scope.inHover), prevEl && getStyle(prevEl, scope.inHover), forceSetAll, scope);\n}\nfunction setContextTransform(ctx, el) {\n    var m = el.transform;\n    var dpr = ctx.dpr || 1;\n    if (m) {\n        ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n    }\n    else {\n        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n    }\n}\nfunction updateClipStatus(clipPaths, ctx, scope) {\n    var allClipped = false;\n    for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n        allClipped = allClipped || clipPath.isZeroArea();\n        setContextTransform(ctx, clipPath);\n        ctx.beginPath();\n        clipPath.buildPath(ctx, clipPath.shape);\n        ctx.clip();\n    }\n    scope.allClipped = allClipped;\n}\nfunction isTransformChanged(m0, m1) {\n    if (m0 && m1) {\n        return m0[0] !== m1[0]\n            || m0[1] !== m1[1]\n            || m0[2] !== m1[2]\n            || m0[3] !== m1[3]\n            || m0[4] !== m1[4]\n            || m0[5] !== m1[5];\n    }\n    else if (!m0 && !m1) {\n        return false;\n    }\n    return true;\n}\nvar DRAW_TYPE_PATH = 1;\nvar DRAW_TYPE_IMAGE = 2;\nvar DRAW_TYPE_TEXT = 3;\nvar DRAW_TYPE_INCREMENTAL = 4;\nfunction canPathBatch(style) {\n    var hasFill = styleHasFill(style);\n    var hasStroke = styleHasStroke(style);\n    return !(style.lineDash\n        || !(+hasFill ^ +hasStroke)\n        || (hasFill && typeof style.fill !== 'string')\n        || (hasStroke && typeof style.stroke !== 'string')\n        || style.strokePercent < 1\n        || style.strokeOpacity < 1\n        || style.fillOpacity < 1);\n}\nfunction flushPathDrawn(ctx, scope) {\n    scope.batchFill && ctx.fill();\n    scope.batchStroke && ctx.stroke();\n    scope.batchFill = '';\n    scope.batchStroke = '';\n}\nfunction getStyle(el, inHover) {\n    return inHover ? (el.__hoverStyle || el.style) : el.style;\n}\nexport function brushSingle(ctx, el) {\n    brush(ctx, el, { inHover: false, viewWidth: 0, viewHeight: 0 }, true);\n}\nexport function brush(ctx, el, scope, isLast) {\n    var m = el.transform;\n    if (!el.shouldBePainted(scope.viewWidth, scope.viewHeight, false, false)) {\n        el.__dirty &= ~REDRAW_BIT;\n        el.__isRendered = false;\n        return;\n    }\n    var clipPaths = el.__clipPaths;\n    var prevElClipPaths = scope.prevElClipPaths;\n    var forceSetTransform = false;\n    var forceSetStyle = false;\n    if (!prevElClipPaths || isClipPathChanged(clipPaths, prevElClipPaths)) {\n        if (prevElClipPaths && prevElClipPaths.length) {\n            flushPathDrawn(ctx, scope);\n            ctx.restore();\n            forceSetStyle = forceSetTransform = true;\n            scope.prevElClipPaths = null;\n            scope.allClipped = false;\n            scope.prevEl = null;\n        }\n        if (clipPaths && clipPaths.length) {\n            flushPathDrawn(ctx, scope);\n            ctx.save();\n            updateClipStatus(clipPaths, ctx, scope);\n            forceSetTransform = true;\n        }\n        scope.prevElClipPaths = clipPaths;\n    }\n    if (scope.allClipped) {\n        el.__isRendered = false;\n        return;\n    }\n    el.beforeBrush && el.beforeBrush();\n    el.innerBeforeBrush();\n    var prevEl = scope.prevEl;\n    if (!prevEl) {\n        forceSetStyle = forceSetTransform = true;\n    }\n    var canBatchPath = el instanceof Path\n        && el.autoBatch\n        && canPathBatch(el.style);\n    if (forceSetTransform || isTransformChanged(m, prevEl.transform)) {\n        flushPathDrawn(ctx, scope);\n        setContextTransform(ctx, el);\n    }\n    else if (!canBatchPath) {\n        flushPathDrawn(ctx, scope);\n    }\n    var style = getStyle(el, scope.inHover);\n    if (el instanceof Path) {\n        if (scope.lastDrawType !== DRAW_TYPE_PATH) {\n            forceSetStyle = true;\n            scope.lastDrawType = DRAW_TYPE_PATH;\n        }\n        bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetStyle, scope);\n        if (!canBatchPath || (!scope.batchFill && !scope.batchStroke)) {\n            ctx.beginPath();\n        }\n        brushPath(ctx, el, style, canBatchPath);\n        if (canBatchPath) {\n            scope.batchFill = style.fill || '';\n            scope.batchStroke = style.stroke || '';\n        }\n    }\n    else {\n        if (el instanceof TSpan) {\n            if (scope.lastDrawType !== DRAW_TYPE_TEXT) {\n                forceSetStyle = true;\n                scope.lastDrawType = DRAW_TYPE_TEXT;\n            }\n            bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetStyle, scope);\n            brushText(ctx, el, style);\n        }\n        else if (el instanceof ZRImage) {\n            if (scope.lastDrawType !== DRAW_TYPE_IMAGE) {\n                forceSetStyle = true;\n                scope.lastDrawType = DRAW_TYPE_IMAGE;\n            }\n            bindImageStyle(ctx, el, prevEl, forceSetStyle, scope);\n            brushImage(ctx, el, style);\n        }\n        else if (el.getTemporalDisplayables) {\n            if (scope.lastDrawType !== DRAW_TYPE_INCREMENTAL) {\n                forceSetStyle = true;\n                scope.lastDrawType = DRAW_TYPE_INCREMENTAL;\n            }\n            brushIncremental(ctx, el, scope);\n        }\n    }\n    if (canBatchPath && isLast) {\n        flushPathDrawn(ctx, scope);\n    }\n    el.innerAfterBrush();\n    el.afterBrush && el.afterBrush();\n    scope.prevEl = el;\n    el.__dirty = 0;\n    el.__isRendered = true;\n}\nfunction brushIncremental(ctx, el, scope) {\n    var displayables = el.getDisplayables();\n    var temporalDisplayables = el.getTemporalDisplayables();\n    ctx.save();\n    var innerScope = {\n        prevElClipPaths: null,\n        prevEl: null,\n        allClipped: false,\n        viewWidth: scope.viewWidth,\n        viewHeight: scope.viewHeight,\n        inHover: scope.inHover\n    };\n    var i;\n    var len;\n    for (i = el.getCursor(), len = displayables.length; i < len; i++) {\n        var displayable = displayables[i];\n        displayable.beforeBrush && displayable.beforeBrush();\n        displayable.innerBeforeBrush();\n        brush(ctx, displayable, innerScope, i === len - 1);\n        displayable.innerAfterBrush();\n        displayable.afterBrush && displayable.afterBrush();\n        innerScope.prevEl = displayable;\n    }\n    for (var i_1 = 0, len_1 = temporalDisplayables.length; i_1 < len_1; i_1++) {\n        var displayable = temporalDisplayables[i_1];\n        displayable.beforeBrush && displayable.beforeBrush();\n        displayable.innerBeforeBrush();\n        brush(ctx, displayable, innerScope, i_1 === len_1 - 1);\n        displayable.innerAfterBrush();\n        displayable.afterBrush && displayable.afterBrush();\n        innerScope.prevEl = displayable;\n    }\n    el.clearTemporalDisplayables();\n    el.notClear = true;\n    ctx.restore();\n}\n","import windingLine from './windingLine.js';\nvar EPSILON = 1e-8;\nfunction isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON;\n}\nexport function contain(points, x, y) {\n    var w = 0;\n    var p = points[0];\n    if (!p) {\n        return false;\n    }\n    for (var i = 1; i < points.length; i++) {\n        var p2 = points[i];\n        w += windingLine(p[0], p[1], p2[0], p2[1], x, y);\n        p = p2;\n    }\n    var p0 = points[0];\n    if (!isAroundEqual(p[0], p0[0]) || !isAroundEqual(p[1], p0[1])) {\n        w += windingLine(p[0], p[1], p0[0], p0[1], x, y);\n    }\n    return w !== 0;\n}\n","import Group from '../graphic/Group.js';\nimport ZRImage from '../graphic/Image.js';\nimport Circle from '../graphic/shape/Circle.js';\nimport Rect from '../graphic/shape/Rect.js';\nimport Ellipse from '../graphic/shape/Ellipse.js';\nimport Line from '../graphic/shape/Line.js';\nimport Polygon from '../graphic/shape/Polygon.js';\nimport Polyline from '../graphic/shape/Polyline.js';\nimport * as matrix from '../core/matrix.js';\nimport { createFromString } from './path.js';\nimport { defaults, trim, each, map, keys, hasOwn } from '../core/util.js';\nimport LinearGradient from '../graphic/LinearGradient.js';\nimport RadialGradient from '../graphic/RadialGradient.js';\nimport TSpan from '../graphic/TSpan.js';\nimport { parseXML } from './parseXML.js';\n;\nvar nodeParsers;\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP = {\n    'fill': 'fill',\n    'stroke': 'stroke',\n    'stroke-width': 'lineWidth',\n    'opacity': 'opacity',\n    'fill-opacity': 'fillOpacity',\n    'stroke-opacity': 'strokeOpacity',\n    'stroke-dasharray': 'lineDash',\n    'stroke-dashoffset': 'lineDashOffset',\n    'stroke-linecap': 'lineCap',\n    'stroke-linejoin': 'lineJoin',\n    'stroke-miterlimit': 'miterLimit',\n    'font-family': 'fontFamily',\n    'font-size': 'fontSize',\n    'font-style': 'fontStyle',\n    'font-weight': 'fontWeight',\n    'text-anchor': 'textAlign',\n    'visibility': 'visibility',\n    'display': 'display'\n};\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS = keys(INHERITABLE_STYLE_ATTRIBUTES_MAP);\nvar SELF_STYLE_ATTRIBUTES_MAP = {\n    'alignment-baseline': 'textBaseline',\n    'stop-color': 'stopColor'\n};\nvar SELF_STYLE_ATTRIBUTES_MAP_KEYS = keys(SELF_STYLE_ATTRIBUTES_MAP);\nvar SVGParser = (function () {\n    function SVGParser() {\n        this._defs = {};\n        this._root = null;\n    }\n    SVGParser.prototype.parse = function (xml, opt) {\n        opt = opt || {};\n        var svg = parseXML(xml);\n        if (process.env.NODE_ENV !== 'production') {\n            if (!svg) {\n                throw new Error('Illegal svg');\n            }\n        }\n        this._defsUsePending = [];\n        var root = new Group();\n        this._root = root;\n        var named = [];\n        var viewBox = svg.getAttribute('viewBox') || '';\n        var width = parseFloat((svg.getAttribute('width') || opt.width));\n        var height = parseFloat((svg.getAttribute('height') || opt.height));\n        isNaN(width) && (width = null);\n        isNaN(height) && (height = null);\n        parseAttributes(svg, root, null, true, false);\n        var child = svg.firstChild;\n        while (child) {\n            this._parseNode(child, root, named, null, false, false);\n            child = child.nextSibling;\n        }\n        applyDefs(this._defs, this._defsUsePending);\n        this._defsUsePending = [];\n        var viewBoxRect;\n        var viewBoxTransform;\n        if (viewBox) {\n            var viewBoxArr = splitNumberSequence(viewBox);\n            if (viewBoxArr.length >= 4) {\n                viewBoxRect = {\n                    x: parseFloat((viewBoxArr[0] || 0)),\n                    y: parseFloat((viewBoxArr[1] || 0)),\n                    width: parseFloat(viewBoxArr[2]),\n                    height: parseFloat(viewBoxArr[3])\n                };\n            }\n        }\n        if (viewBoxRect && width != null && height != null) {\n            viewBoxTransform = makeViewBoxTransform(viewBoxRect, { x: 0, y: 0, width: width, height: height });\n            if (!opt.ignoreViewBox) {\n                var elRoot = root;\n                root = new Group();\n                root.add(elRoot);\n                elRoot.scaleX = elRoot.scaleY = viewBoxTransform.scale;\n                elRoot.x = viewBoxTransform.x;\n                elRoot.y = viewBoxTransform.y;\n            }\n        }\n        if (!opt.ignoreRootClip && width != null && height != null) {\n            root.setClipPath(new Rect({\n                shape: { x: 0, y: 0, width: width, height: height }\n            }));\n        }\n        return {\n            root: root,\n            width: width,\n            height: height,\n            viewBoxRect: viewBoxRect,\n            viewBoxTransform: viewBoxTransform,\n            named: named\n        };\n    };\n    SVGParser.prototype._parseNode = function (xmlNode, parentGroup, named, namedFrom, isInDefs, isInText) {\n        var nodeName = xmlNode.nodeName.toLowerCase();\n        var el;\n        var namedFromForSub = namedFrom;\n        if (nodeName === 'defs') {\n            isInDefs = true;\n        }\n        if (nodeName === 'text') {\n            isInText = true;\n        }\n        if (nodeName === 'defs' || nodeName === 'switch') {\n            el = parentGroup;\n        }\n        else {\n            if (!isInDefs) {\n                var parser_1 = nodeParsers[nodeName];\n                if (parser_1 && hasOwn(nodeParsers, nodeName)) {\n                    el = parser_1.call(this, xmlNode, parentGroup);\n                    var nameAttr = xmlNode.getAttribute('name');\n                    if (nameAttr) {\n                        var newNamed = {\n                            name: nameAttr,\n                            namedFrom: null,\n                            svgNodeTagLower: nodeName,\n                            el: el\n                        };\n                        named.push(newNamed);\n                        if (nodeName === 'g') {\n                            namedFromForSub = newNamed;\n                        }\n                    }\n                    else if (namedFrom) {\n                        named.push({\n                            name: namedFrom.name,\n                            namedFrom: namedFrom,\n                            svgNodeTagLower: nodeName,\n                            el: el\n                        });\n                    }\n                    parentGroup.add(el);\n                }\n            }\n            var parser = paintServerParsers[nodeName];\n            if (parser && hasOwn(paintServerParsers, nodeName)) {\n                var def = parser.call(this, xmlNode);\n                var id = xmlNode.getAttribute('id');\n                if (id) {\n                    this._defs[id] = def;\n                }\n            }\n        }\n        if (el && el.isGroup) {\n            var child = xmlNode.firstChild;\n            while (child) {\n                if (child.nodeType === 1) {\n                    this._parseNode(child, el, named, namedFromForSub, isInDefs, isInText);\n                }\n                else if (child.nodeType === 3 && isInText) {\n                    this._parseText(child, el);\n                }\n                child = child.nextSibling;\n            }\n        }\n    };\n    SVGParser.prototype._parseText = function (xmlNode, parentGroup) {\n        var text = new TSpan({\n            style: {\n                text: xmlNode.textContent\n            },\n            silent: true,\n            x: this._textX || 0,\n            y: this._textY || 0\n        });\n        inheritStyle(parentGroup, text);\n        parseAttributes(xmlNode, text, this._defsUsePending, false, false);\n        applyTextAlignment(text, parentGroup);\n        var textStyle = text.style;\n        var fontSize = textStyle.fontSize;\n        if (fontSize && fontSize < 9) {\n            textStyle.fontSize = 9;\n            text.scaleX *= fontSize / 9;\n            text.scaleY *= fontSize / 9;\n        }\n        var font = (textStyle.fontSize || textStyle.fontFamily) && [\n            textStyle.fontStyle,\n            textStyle.fontWeight,\n            (textStyle.fontSize || 12) + 'px',\n            textStyle.fontFamily || 'sans-serif'\n        ].join(' ');\n        textStyle.font = font;\n        var rect = text.getBoundingRect();\n        this._textX += rect.width;\n        parentGroup.add(text);\n        return text;\n    };\n    SVGParser.internalField = (function () {\n        nodeParsers = {\n            'g': function (xmlNode, parentGroup) {\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, false);\n                return g;\n            },\n            'rect': function (xmlNode, parentGroup) {\n                var rect = new Rect();\n                inheritStyle(parentGroup, rect);\n                parseAttributes(xmlNode, rect, this._defsUsePending, false, false);\n                rect.setShape({\n                    x: parseFloat(xmlNode.getAttribute('x') || '0'),\n                    y: parseFloat(xmlNode.getAttribute('y') || '0'),\n                    width: parseFloat(xmlNode.getAttribute('width') || '0'),\n                    height: parseFloat(xmlNode.getAttribute('height') || '0')\n                });\n                rect.silent = true;\n                return rect;\n            },\n            'circle': function (xmlNode, parentGroup) {\n                var circle = new Circle();\n                inheritStyle(parentGroup, circle);\n                parseAttributes(xmlNode, circle, this._defsUsePending, false, false);\n                circle.setShape({\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\n                    r: parseFloat(xmlNode.getAttribute('r') || '0')\n                });\n                circle.silent = true;\n                return circle;\n            },\n            'line': function (xmlNode, parentGroup) {\n                var line = new Line();\n                inheritStyle(parentGroup, line);\n                parseAttributes(xmlNode, line, this._defsUsePending, false, false);\n                line.setShape({\n                    x1: parseFloat(xmlNode.getAttribute('x1') || '0'),\n                    y1: parseFloat(xmlNode.getAttribute('y1') || '0'),\n                    x2: parseFloat(xmlNode.getAttribute('x2') || '0'),\n                    y2: parseFloat(xmlNode.getAttribute('y2') || '0')\n                });\n                line.silent = true;\n                return line;\n            },\n            'ellipse': function (xmlNode, parentGroup) {\n                var ellipse = new Ellipse();\n                inheritStyle(parentGroup, ellipse);\n                parseAttributes(xmlNode, ellipse, this._defsUsePending, false, false);\n                ellipse.setShape({\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\n                    rx: parseFloat(xmlNode.getAttribute('rx') || '0'),\n                    ry: parseFloat(xmlNode.getAttribute('ry') || '0')\n                });\n                ellipse.silent = true;\n                return ellipse;\n            },\n            'polygon': function (xmlNode, parentGroup) {\n                var pointsStr = xmlNode.getAttribute('points');\n                var pointsArr;\n                if (pointsStr) {\n                    pointsArr = parsePoints(pointsStr);\n                }\n                var polygon = new Polygon({\n                    shape: {\n                        points: pointsArr || []\n                    },\n                    silent: true\n                });\n                inheritStyle(parentGroup, polygon);\n                parseAttributes(xmlNode, polygon, this._defsUsePending, false, false);\n                return polygon;\n            },\n            'polyline': function (xmlNode, parentGroup) {\n                var pointsStr = xmlNode.getAttribute('points');\n                var pointsArr;\n                if (pointsStr) {\n                    pointsArr = parsePoints(pointsStr);\n                }\n                var polyline = new Polyline({\n                    shape: {\n                        points: pointsArr || []\n                    },\n                    silent: true\n                });\n                inheritStyle(parentGroup, polyline);\n                parseAttributes(xmlNode, polyline, this._defsUsePending, false, false);\n                return polyline;\n            },\n            'image': function (xmlNode, parentGroup) {\n                var img = new ZRImage();\n                inheritStyle(parentGroup, img);\n                parseAttributes(xmlNode, img, this._defsUsePending, false, false);\n                img.setStyle({\n                    image: xmlNode.getAttribute('xlink:href') || xmlNode.getAttribute('href'),\n                    x: +xmlNode.getAttribute('x'),\n                    y: +xmlNode.getAttribute('y'),\n                    width: +xmlNode.getAttribute('width'),\n                    height: +xmlNode.getAttribute('height')\n                });\n                img.silent = true;\n                return img;\n            },\n            'text': function (xmlNode, parentGroup) {\n                var x = xmlNode.getAttribute('x') || '0';\n                var y = xmlNode.getAttribute('y') || '0';\n                var dx = xmlNode.getAttribute('dx') || '0';\n                var dy = xmlNode.getAttribute('dy') || '0';\n                this._textX = parseFloat(x) + parseFloat(dx);\n                this._textY = parseFloat(y) + parseFloat(dy);\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\n                return g;\n            },\n            'tspan': function (xmlNode, parentGroup) {\n                var x = xmlNode.getAttribute('x');\n                var y = xmlNode.getAttribute('y');\n                if (x != null) {\n                    this._textX = parseFloat(x);\n                }\n                if (y != null) {\n                    this._textY = parseFloat(y);\n                }\n                var dx = xmlNode.getAttribute('dx') || '0';\n                var dy = xmlNode.getAttribute('dy') || '0';\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\n                this._textX += parseFloat(dx);\n                this._textY += parseFloat(dy);\n                return g;\n            },\n            'path': function (xmlNode, parentGroup) {\n                var d = xmlNode.getAttribute('d') || '';\n                var path = createFromString(d);\n                inheritStyle(parentGroup, path);\n                parseAttributes(xmlNode, path, this._defsUsePending, false, false);\n                path.silent = true;\n                return path;\n            }\n        };\n    })();\n    return SVGParser;\n}());\nvar paintServerParsers = {\n    'lineargradient': function (xmlNode) {\n        var x1 = parseInt(xmlNode.getAttribute('x1') || '0', 10);\n        var y1 = parseInt(xmlNode.getAttribute('y1') || '0', 10);\n        var x2 = parseInt(xmlNode.getAttribute('x2') || '10', 10);\n        var y2 = parseInt(xmlNode.getAttribute('y2') || '0', 10);\n        var gradient = new LinearGradient(x1, y1, x2, y2);\n        parsePaintServerUnit(xmlNode, gradient);\n        parseGradientColorStops(xmlNode, gradient);\n        return gradient;\n    },\n    'radialgradient': function (xmlNode) {\n        var cx = parseInt(xmlNode.getAttribute('cx') || '0', 10);\n        var cy = parseInt(xmlNode.getAttribute('cy') || '0', 10);\n        var r = parseInt(xmlNode.getAttribute('r') || '0', 10);\n        var gradient = new RadialGradient(cx, cy, r);\n        parsePaintServerUnit(xmlNode, gradient);\n        parseGradientColorStops(xmlNode, gradient);\n        return gradient;\n    }\n};\nfunction parsePaintServerUnit(xmlNode, gradient) {\n    var gradientUnits = xmlNode.getAttribute('gradientUnits');\n    if (gradientUnits === 'userSpaceOnUse') {\n        gradient.global = true;\n    }\n}\nfunction parseGradientColorStops(xmlNode, gradient) {\n    var stop = xmlNode.firstChild;\n    while (stop) {\n        if (stop.nodeType === 1\n            && stop.nodeName.toLocaleLowerCase() === 'stop') {\n            var offsetStr = stop.getAttribute('offset');\n            var offset = void 0;\n            if (offsetStr && offsetStr.indexOf('%') > 0) {\n                offset = parseInt(offsetStr, 10) / 100;\n            }\n            else if (offsetStr) {\n                offset = parseFloat(offsetStr);\n            }\n            else {\n                offset = 0;\n            }\n            var styleVals = {};\n            parseInlineStyle(stop, styleVals, styleVals);\n            var stopColor = styleVals.stopColor\n                || stop.getAttribute('stop-color')\n                || '#000000';\n            gradient.colorStops.push({\n                offset: offset,\n                color: stopColor\n            });\n        }\n        stop = stop.nextSibling;\n    }\n}\nfunction inheritStyle(parent, child) {\n    if (parent && parent.__inheritedStyle) {\n        if (!child.__inheritedStyle) {\n            child.__inheritedStyle = {};\n        }\n        defaults(child.__inheritedStyle, parent.__inheritedStyle);\n    }\n}\nfunction parsePoints(pointsString) {\n    var list = splitNumberSequence(pointsString);\n    var points = [];\n    for (var i = 0; i < list.length; i += 2) {\n        var x = parseFloat(list[i]);\n        var y = parseFloat(list[i + 1]);\n        points.push([x, y]);\n    }\n    return points;\n}\nfunction parseAttributes(xmlNode, el, defsUsePending, onlyInlineStyle, isTextGroup) {\n    var disp = el;\n    var inheritedStyle = disp.__inheritedStyle = disp.__inheritedStyle || {};\n    var selfStyle = {};\n    if (xmlNode.nodeType === 1) {\n        parseTransformAttribute(xmlNode, el);\n        parseInlineStyle(xmlNode, inheritedStyle, selfStyle);\n        if (!onlyInlineStyle) {\n            parseAttributeStyle(xmlNode, inheritedStyle, selfStyle);\n        }\n    }\n    disp.style = disp.style || {};\n    if (inheritedStyle.fill != null) {\n        disp.style.fill = getFillStrokeStyle(disp, 'fill', inheritedStyle.fill, defsUsePending);\n    }\n    if (inheritedStyle.stroke != null) {\n        disp.style.stroke = getFillStrokeStyle(disp, 'stroke', inheritedStyle.stroke, defsUsePending);\n    }\n    each([\n        'lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'\n    ], function (propName) {\n        if (inheritedStyle[propName] != null) {\n            disp.style[propName] = parseFloat(inheritedStyle[propName]);\n        }\n    });\n    each([\n        'lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign'\n    ], function (propName) {\n        if (inheritedStyle[propName] != null) {\n            disp.style[propName] = inheritedStyle[propName];\n        }\n    });\n    if (isTextGroup) {\n        disp.__selfStyle = selfStyle;\n    }\n    if (inheritedStyle.lineDash) {\n        disp.style.lineDash = map(splitNumberSequence(inheritedStyle.lineDash), function (str) {\n            return parseFloat(str);\n        });\n    }\n    if (inheritedStyle.visibility === 'hidden' || inheritedStyle.visibility === 'collapse') {\n        disp.invisible = true;\n    }\n    if (inheritedStyle.display === 'none') {\n        disp.ignore = true;\n    }\n}\nfunction applyTextAlignment(text, parentGroup) {\n    var parentSelfStyle = parentGroup.__selfStyle;\n    if (parentSelfStyle) {\n        var textBaseline = parentSelfStyle.textBaseline;\n        var zrTextBaseline = textBaseline;\n        if (!textBaseline || textBaseline === 'auto') {\n            zrTextBaseline = 'alphabetic';\n        }\n        else if (textBaseline === 'baseline') {\n            zrTextBaseline = 'alphabetic';\n        }\n        else if (textBaseline === 'before-edge' || textBaseline === 'text-before-edge') {\n            zrTextBaseline = 'top';\n        }\n        else if (textBaseline === 'after-edge' || textBaseline === 'text-after-edge') {\n            zrTextBaseline = 'bottom';\n        }\n        else if (textBaseline === 'central' || textBaseline === 'mathematical') {\n            zrTextBaseline = 'middle';\n        }\n        text.style.textBaseline = zrTextBaseline;\n    }\n    var parentInheritedStyle = parentGroup.__inheritedStyle;\n    if (parentInheritedStyle) {\n        var textAlign = parentInheritedStyle.textAlign;\n        var zrTextAlign = textAlign;\n        if (textAlign) {\n            if (textAlign === 'middle') {\n                zrTextAlign = 'center';\n            }\n            text.style.textAlign = zrTextAlign;\n        }\n    }\n}\nvar urlRegex = /^url\\(\\s*#(.*?)\\)/;\nfunction getFillStrokeStyle(el, method, str, defsUsePending) {\n    var urlMatch = str && str.match(urlRegex);\n    if (urlMatch) {\n        var url = trim(urlMatch[1]);\n        defsUsePending.push([el, method, url]);\n        return;\n    }\n    if (str === 'none') {\n        str = null;\n    }\n    return str;\n}\nfunction applyDefs(defs, defsUsePending) {\n    for (var i = 0; i < defsUsePending.length; i++) {\n        var item = defsUsePending[i];\n        item[0].style[item[1]] = defs[item[2]];\n    }\n}\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\nfunction splitNumberSequence(rawStr) {\n    return rawStr.match(numberReg) || [];\n}\nvar transformRegex = /(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.eE,]*)\\)/g;\nvar DEGREE_TO_ANGLE = Math.PI / 180;\nfunction parseTransformAttribute(xmlNode, node) {\n    var transform = xmlNode.getAttribute('transform');\n    if (transform) {\n        transform = transform.replace(/,/g, ' ');\n        var transformOps_1 = [];\n        var mt = null;\n        transform.replace(transformRegex, function (str, type, value) {\n            transformOps_1.push(type, value);\n            return '';\n        });\n        for (var i = transformOps_1.length - 1; i > 0; i -= 2) {\n            var value = transformOps_1[i];\n            var type = transformOps_1[i - 1];\n            var valueArr = splitNumberSequence(value);\n            mt = mt || matrix.create();\n            switch (type) {\n                case 'translate':\n                    matrix.translate(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || '0')]);\n                    break;\n                case 'scale':\n                    matrix.scale(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || valueArr[0])]);\n                    break;\n                case 'rotate':\n                    matrix.rotate(mt, mt, -parseFloat(valueArr[0]) * DEGREE_TO_ANGLE, [\n                        parseFloat(valueArr[1] || '0'),\n                        parseFloat(valueArr[2] || '0')\n                    ]);\n                    break;\n                case 'skewX':\n                    var sx = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    matrix.mul(mt, [1, 0, sx, 1, 0, 0], mt);\n                    break;\n                case 'skewY':\n                    var sy = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    matrix.mul(mt, [1, sy, 0, 1, 0, 0], mt);\n                    break;\n                case 'matrix':\n                    mt[0] = parseFloat(valueArr[0]);\n                    mt[1] = parseFloat(valueArr[1]);\n                    mt[2] = parseFloat(valueArr[2]);\n                    mt[3] = parseFloat(valueArr[3]);\n                    mt[4] = parseFloat(valueArr[4]);\n                    mt[5] = parseFloat(valueArr[5]);\n                    break;\n            }\n        }\n        node.setLocalTransform(mt);\n    }\n}\nvar styleRegex = /([^\\s:;]+)\\s*:\\s*([^:;]+)/g;\nfunction parseInlineStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\n    var style = xmlNode.getAttribute('style');\n    if (!style) {\n        return;\n    }\n    styleRegex.lastIndex = 0;\n    var styleRegResult;\n    while ((styleRegResult = styleRegex.exec(style)) != null) {\n        var svgStlAttr = styleRegResult[1];\n        var zrInheritableStlAttr = hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP, svgStlAttr)\n            ? INHERITABLE_STYLE_ATTRIBUTES_MAP[svgStlAttr]\n            : null;\n        if (zrInheritableStlAttr) {\n            inheritableStyleResult[zrInheritableStlAttr] = styleRegResult[2];\n        }\n        var zrSelfStlAttr = hasOwn(SELF_STYLE_ATTRIBUTES_MAP, svgStlAttr)\n            ? SELF_STYLE_ATTRIBUTES_MAP[svgStlAttr]\n            : null;\n        if (zrSelfStlAttr) {\n            selfStyleResult[zrSelfStlAttr] = styleRegResult[2];\n        }\n    }\n}\nfunction parseAttributeStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\n    for (var i = 0; i < INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\n        var svgAttrName = INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[i];\n        var attrValue = xmlNode.getAttribute(svgAttrName);\n        if (attrValue != null) {\n            inheritableStyleResult[INHERITABLE_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\n        }\n    }\n    for (var i = 0; i < SELF_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\n        var svgAttrName = SELF_STYLE_ATTRIBUTES_MAP_KEYS[i];\n        var attrValue = xmlNode.getAttribute(svgAttrName);\n        if (attrValue != null) {\n            selfStyleResult[SELF_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\n        }\n    }\n}\nexport function makeViewBoxTransform(viewBoxRect, boundingRect) {\n    var scaleX = boundingRect.width / viewBoxRect.width;\n    var scaleY = boundingRect.height / viewBoxRect.height;\n    var scale = Math.min(scaleX, scaleY);\n    return {\n        scale: scale,\n        x: -(viewBoxRect.x + viewBoxRect.width / 2) * scale + (boundingRect.x + boundingRect.width / 2),\n        y: -(viewBoxRect.y + viewBoxRect.height / 2) * scale + (boundingRect.y + boundingRect.height / 2)\n    };\n}\nexport function parseSVG(xml, opt) {\n    var parser = new SVGParser();\n    return parser.parse(xml, opt);\n}\nexport { parseXML };\n","import { isString } from '../core/util.js';\nexport function parseXML(svg) {\n    if (isString(svg)) {\n        var parser = new DOMParser();\n        svg = parser.parseFromString(svg, 'text/xml');\n    }\n    var svgNode = svg;\n    if (svgNode.nodeType === 9) {\n        svgNode = svgNode.firstChild;\n    }\n    while (svgNode.nodeName.toLowerCase() !== 'svg' || svgNode.nodeType !== 1) {\n        svgNode = svgNode.nextSibling;\n    }\n    return svgNode;\n}\n","import { cubicSubdivide } from '../core/curve.js';\nimport PathProxy from '../core/PathProxy.js';\nvar CMD = PathProxy.CMD;\nfunction aroundEqual(a, b) {\n    return Math.abs(a - b) < 1e-5;\n}\nexport function pathToBezierCurves(path) {\n    var data = path.data;\n    var len = path.len();\n    var bezierArrayGroups = [];\n    var currentSubpath;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n    function createNewSubpath(x, y) {\n        if (currentSubpath && currentSubpath.length > 2) {\n            bezierArrayGroups.push(currentSubpath);\n        }\n        currentSubpath = [x, y];\n    }\n    function addLine(x0, y0, x1, y1) {\n        if (!(aroundEqual(x0, x1) && aroundEqual(y0, y1))) {\n            currentSubpath.push(x0, y0, x1, y1, x1, y1);\n        }\n    }\n    function addArc(startAngle, endAngle, cx, cy, rx, ry) {\n        var delta = Math.abs(endAngle - startAngle);\n        var len = Math.tan(delta / 4) * 4 / 3;\n        var dir = endAngle < startAngle ? -1 : 1;\n        var c1 = Math.cos(startAngle);\n        var s1 = Math.sin(startAngle);\n        var c2 = Math.cos(endAngle);\n        var s2 = Math.sin(endAngle);\n        var x1 = c1 * rx + cx;\n        var y1 = s1 * ry + cy;\n        var x4 = c2 * rx + cx;\n        var y4 = s2 * ry + cy;\n        var hx = rx * len * dir;\n        var hy = ry * len * dir;\n        currentSubpath.push(x1 - hx * s1, y1 + hy * c1, x4 + hx * s2, y4 - hy * c2, x4, y4);\n    }\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    for (var i = 0; i < len;) {\n        var cmd = data[i++];\n        var isFirst = i === 1;\n        if (isFirst) {\n            xi = data[i];\n            yi = data[i + 1];\n            x0 = xi;\n            y0 = yi;\n            if (cmd === CMD.L || cmd === CMD.C || cmd === CMD.Q) {\n                currentSubpath = [x0, y0];\n            }\n        }\n        switch (cmd) {\n            case CMD.M:\n                xi = x0 = data[i++];\n                yi = y0 = data[i++];\n                createNewSubpath(x0, y0);\n                break;\n            case CMD.L:\n                x1 = data[i++];\n                y1 = data[i++];\n                addLine(xi, yi, x1, y1);\n                xi = x1;\n                yi = y1;\n                break;\n            case CMD.C:\n                currentSubpath.push(data[i++], data[i++], data[i++], data[i++], xi = data[i++], yi = data[i++]);\n                break;\n            case CMD.Q:\n                x1 = data[i++];\n                y1 = data[i++];\n                x2 = data[i++];\n                y2 = data[i++];\n                currentSubpath.push(xi + 2 / 3 * (x1 - xi), yi + 2 / 3 * (y1 - yi), x2 + 2 / 3 * (x1 - x2), y2 + 2 / 3 * (y1 - y2), x2, y2);\n                xi = x2;\n                yi = y2;\n                break;\n            case CMD.A:\n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var startAngle = data[i++];\n                var endAngle = data[i++] + startAngle;\n                i += 1;\n                var anticlockwise = !data[i++];\n                x1 = Math.cos(startAngle) * rx + cx;\n                y1 = Math.sin(startAngle) * ry + cy;\n                if (isFirst) {\n                    x0 = x1;\n                    y0 = y1;\n                    createNewSubpath(x0, y0);\n                }\n                else {\n                    addLine(xi, yi, x1, y1);\n                }\n                xi = Math.cos(endAngle) * rx + cx;\n                yi = Math.sin(endAngle) * ry + cy;\n                var step = (anticlockwise ? -1 : 1) * Math.PI / 2;\n                for (var angle = startAngle; anticlockwise ? angle > endAngle : angle < endAngle; angle += step) {\n                    var nextAngle = anticlockwise ? Math.max(angle + step, endAngle)\n                        : Math.min(angle + step, endAngle);\n                    addArc(angle, nextAngle, cx, cy, rx, ry);\n                }\n                break;\n            case CMD.R:\n                x0 = xi = data[i++];\n                y0 = yi = data[i++];\n                x1 = x0 + data[i++];\n                y1 = y0 + data[i++];\n                createNewSubpath(x1, y0);\n                addLine(x1, y0, x1, y1);\n                addLine(x1, y1, x0, y1);\n                addLine(x0, y1, x0, y0);\n                addLine(x0, y0, x1, y0);\n                break;\n            case CMD.Z:\n                currentSubpath && addLine(xi, yi, x0, y0);\n                xi = x0;\n                yi = y0;\n                break;\n        }\n    }\n    if (currentSubpath && currentSubpath.length > 2) {\n        bezierArrayGroups.push(currentSubpath);\n    }\n    return bezierArrayGroups;\n}\nfunction adpativeBezier(x0, y0, x1, y1, x2, y2, x3, y3, out, scale) {\n    if (aroundEqual(x0, x1) && aroundEqual(y0, y1) && aroundEqual(x2, x3) && aroundEqual(y2, y3)) {\n        out.push(x3, y3);\n        return;\n    }\n    var PIXEL_DISTANCE = 2 / scale;\n    var PIXEL_DISTANCE_SQR = PIXEL_DISTANCE * PIXEL_DISTANCE;\n    var dx = x3 - x0;\n    var dy = y3 - y0;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    dx /= d;\n    dy /= d;\n    var dx1 = x1 - x0;\n    var dy1 = y1 - y0;\n    var dx2 = x2 - x3;\n    var dy2 = y2 - y3;\n    var cp1LenSqr = dx1 * dx1 + dy1 * dy1;\n    var cp2LenSqr = dx2 * dx2 + dy2 * dy2;\n    if (cp1LenSqr < PIXEL_DISTANCE_SQR && cp2LenSqr < PIXEL_DISTANCE_SQR) {\n        out.push(x3, y3);\n        return;\n    }\n    var projLen1 = dx * dx1 + dy * dy1;\n    var projLen2 = -dx * dx2 - dy * dy2;\n    var d1Sqr = cp1LenSqr - projLen1 * projLen1;\n    var d2Sqr = cp2LenSqr - projLen2 * projLen2;\n    if (d1Sqr < PIXEL_DISTANCE_SQR && projLen1 >= 0\n        && d2Sqr < PIXEL_DISTANCE_SQR && projLen2 >= 0) {\n        out.push(x3, y3);\n        return;\n    }\n    var tmpSegX = [];\n    var tmpSegY = [];\n    cubicSubdivide(x0, x1, x2, x3, 0.5, tmpSegX);\n    cubicSubdivide(y0, y1, y2, y3, 0.5, tmpSegY);\n    adpativeBezier(tmpSegX[0], tmpSegY[0], tmpSegX[1], tmpSegY[1], tmpSegX[2], tmpSegY[2], tmpSegX[3], tmpSegY[3], out, scale);\n    adpativeBezier(tmpSegX[4], tmpSegY[4], tmpSegX[5], tmpSegY[5], tmpSegX[6], tmpSegY[6], tmpSegX[7], tmpSegY[7], out, scale);\n}\nexport function pathToPolygons(path, scale) {\n    var bezierArrayGroups = pathToBezierCurves(path);\n    var polygons = [];\n    scale = scale || 1;\n    for (var i = 0; i < bezierArrayGroups.length; i++) {\n        var beziers = bezierArrayGroups[i];\n        var polygon = [];\n        var x0 = beziers[0];\n        var y0 = beziers[1];\n        polygon.push(x0, y0);\n        for (var k = 2; k < beziers.length;) {\n            var x1 = beziers[k++];\n            var y1 = beziers[k++];\n            var x2 = beziers[k++];\n            var y2 = beziers[k++];\n            var x3 = beziers[k++];\n            var y3 = beziers[k++];\n            adpativeBezier(x0, y0, x1, y1, x2, y2, x3, y3, polygon, scale);\n            x0 = x3;\n            y0 = y3;\n        }\n        polygons.push(polygon);\n    }\n    return polygons;\n}\n","import { fromPoints } from '../core/bbox.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport Point from '../core/Point.js';\nimport { map } from '../core/util.js';\nimport Polygon from '../graphic/shape/Polygon.js';\nimport Rect from '../graphic/shape/Rect.js';\nimport Sector from '../graphic/shape/Sector.js';\nimport { pathToPolygons } from './convertPath.js';\nimport { clonePath } from './path.js';\nfunction getDividingGrids(dimSize, rowDim, count) {\n    var rowSize = dimSize[rowDim];\n    var columnSize = dimSize[1 - rowDim];\n    var ratio = Math.abs(rowSize / columnSize);\n    var rowCount = Math.ceil(Math.sqrt(ratio * count));\n    var columnCount = Math.floor(count / rowCount);\n    if (columnCount === 0) {\n        columnCount = 1;\n        rowCount = count;\n    }\n    var grids = [];\n    for (var i = 0; i < rowCount; i++) {\n        grids.push(columnCount);\n    }\n    var currentCount = rowCount * columnCount;\n    var remained = count - currentCount;\n    if (remained > 0) {\n        for (var i = 0; i < remained; i++) {\n            grids[i % rowCount] += 1;\n        }\n    }\n    return grids;\n}\nfunction divideSector(sectorShape, count, outShapes) {\n    var r0 = sectorShape.r0;\n    var r = sectorShape.r;\n    var startAngle = sectorShape.startAngle;\n    var endAngle = sectorShape.endAngle;\n    var angle = Math.abs(endAngle - startAngle);\n    var arcLen = angle * r;\n    var deltaR = r - r0;\n    var isAngleRow = arcLen > Math.abs(deltaR);\n    var grids = getDividingGrids([arcLen, deltaR], isAngleRow ? 0 : 1, count);\n    var rowSize = (isAngleRow ? angle : deltaR) / grids.length;\n    for (var row = 0; row < grids.length; row++) {\n        var columnSize = (isAngleRow ? deltaR : angle) / grids[row];\n        for (var column = 0; column < grids[row]; column++) {\n            var newShape = {};\n            if (isAngleRow) {\n                newShape.startAngle = startAngle + rowSize * row;\n                newShape.endAngle = startAngle + rowSize * (row + 1);\n                newShape.r0 = r0 + columnSize * column;\n                newShape.r = r0 + columnSize * (column + 1);\n            }\n            else {\n                newShape.startAngle = startAngle + columnSize * column;\n                newShape.endAngle = startAngle + columnSize * (column + 1);\n                newShape.r0 = r0 + rowSize * row;\n                newShape.r = r0 + rowSize * (row + 1);\n            }\n            newShape.clockwise = sectorShape.clockwise;\n            newShape.cx = sectorShape.cx;\n            newShape.cy = sectorShape.cy;\n            outShapes.push(newShape);\n        }\n    }\n}\nfunction divideRect(rectShape, count, outShapes) {\n    var width = rectShape.width;\n    var height = rectShape.height;\n    var isHorizontalRow = width > height;\n    var grids = getDividingGrids([width, height], isHorizontalRow ? 0 : 1, count);\n    var rowSizeDim = isHorizontalRow ? 'width' : 'height';\n    var columnSizeDim = isHorizontalRow ? 'height' : 'width';\n    var rowDim = isHorizontalRow ? 'x' : 'y';\n    var columnDim = isHorizontalRow ? 'y' : 'x';\n    var rowSize = rectShape[rowSizeDim] / grids.length;\n    for (var row = 0; row < grids.length; row++) {\n        var columnSize = rectShape[columnSizeDim] / grids[row];\n        for (var column = 0; column < grids[row]; column++) {\n            var newShape = {};\n            newShape[rowDim] = row * rowSize;\n            newShape[columnDim] = column * columnSize;\n            newShape[rowSizeDim] = rowSize;\n            newShape[columnSizeDim] = columnSize;\n            newShape.x += rectShape.x;\n            newShape.y += rectShape.y;\n            outShapes.push(newShape);\n        }\n    }\n}\nfunction crossProduct2d(x1, y1, x2, y2) {\n    return x1 * y2 - x2 * y1;\n}\nfunction lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n    var mx = a2x - a1x;\n    var my = a2y - a1y;\n    var nx = b2x - b1x;\n    var ny = b2y - b1y;\n    var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n    if (Math.abs(nmCrossProduct) < 1e-6) {\n        return null;\n    }\n    var b1a1x = a1x - b1x;\n    var b1a1y = a1y - b1y;\n    var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n    if (p < 0 || p > 1) {\n        return null;\n    }\n    return new Point(p * mx + a1x, p * my + a1y);\n}\nfunction projPtOnLine(pt, lineA, lineB) {\n    var dir = new Point();\n    Point.sub(dir, lineB, lineA);\n    dir.normalize();\n    var dir2 = new Point();\n    Point.sub(dir2, pt, lineA);\n    var len = dir2.dot(dir);\n    return len;\n}\nfunction addToPoly(poly, pt) {\n    var last = poly[poly.length - 1];\n    if (last && last[0] === pt[0] && last[1] === pt[1]) {\n        return;\n    }\n    poly.push(pt);\n}\nfunction splitPolygonByLine(points, lineA, lineB) {\n    var len = points.length;\n    var intersections = [];\n    for (var i = 0; i < len; i++) {\n        var p0 = points[i];\n        var p1 = points[(i + 1) % len];\n        var intersectionPt = lineLineIntersect(p0[0], p0[1], p1[0], p1[1], lineA.x, lineA.y, lineB.x, lineB.y);\n        if (intersectionPt) {\n            intersections.push({\n                projPt: projPtOnLine(intersectionPt, lineA, lineB),\n                pt: intersectionPt,\n                idx: i\n            });\n        }\n    }\n    if (intersections.length < 2) {\n        return [{ points: points }, { points: points }];\n    }\n    intersections.sort(function (a, b) {\n        return a.projPt - b.projPt;\n    });\n    var splitPt0 = intersections[0];\n    var splitPt1 = intersections[intersections.length - 1];\n    if (splitPt1.idx < splitPt0.idx) {\n        var tmp = splitPt0;\n        splitPt0 = splitPt1;\n        splitPt1 = tmp;\n    }\n    var splitPt0Arr = [splitPt0.pt.x, splitPt0.pt.y];\n    var splitPt1Arr = [splitPt1.pt.x, splitPt1.pt.y];\n    var newPolyA = [splitPt0Arr];\n    var newPolyB = [splitPt1Arr];\n    for (var i = splitPt0.idx + 1; i <= splitPt1.idx; i++) {\n        addToPoly(newPolyA, points[i].slice());\n    }\n    addToPoly(newPolyA, splitPt1Arr);\n    addToPoly(newPolyA, splitPt0Arr);\n    for (var i = splitPt1.idx + 1; i <= splitPt0.idx + len; i++) {\n        addToPoly(newPolyB, points[i % len].slice());\n    }\n    addToPoly(newPolyB, splitPt0Arr);\n    addToPoly(newPolyB, splitPt1Arr);\n    return [{\n            points: newPolyA\n        }, {\n            points: newPolyB\n        }];\n}\nfunction binaryDividePolygon(polygonShape) {\n    var points = polygonShape.points;\n    var min = [];\n    var max = [];\n    fromPoints(points, min, max);\n    var boundingRect = new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    var width = boundingRect.width;\n    var height = boundingRect.height;\n    var x = boundingRect.x;\n    var y = boundingRect.y;\n    var pt0 = new Point();\n    var pt1 = new Point();\n    if (width > height) {\n        pt0.x = pt1.x = x + width / 2;\n        pt0.y = y;\n        pt1.y = y + height;\n    }\n    else {\n        pt0.y = pt1.y = y + height / 2;\n        pt0.x = x;\n        pt1.x = x + width;\n    }\n    return splitPolygonByLine(points, pt0, pt1);\n}\nfunction binaryDivideRecursive(divider, shape, count, out) {\n    if (count === 1) {\n        out.push(shape);\n    }\n    else {\n        var mid = Math.floor(count / 2);\n        var sub = divider(shape);\n        binaryDivideRecursive(divider, sub[0], mid, out);\n        binaryDivideRecursive(divider, sub[1], count - mid, out);\n    }\n    return out;\n}\nexport function clone(path, count) {\n    var paths = [];\n    for (var i = 0; i < count; i++) {\n        paths.push(clonePath(path));\n    }\n    return paths;\n}\nfunction copyPathProps(source, target) {\n    target.setStyle(source.style);\n    target.z = source.z;\n    target.z2 = source.z2;\n    target.zlevel = source.zlevel;\n}\nfunction polygonConvert(points) {\n    var out = [];\n    for (var i = 0; i < points.length;) {\n        out.push([points[i++], points[i++]]);\n    }\n    return out;\n}\nexport function split(path, count) {\n    var outShapes = [];\n    var shape = path.shape;\n    var OutShapeCtor;\n    switch (path.type) {\n        case 'rect':\n            divideRect(shape, count, outShapes);\n            OutShapeCtor = Rect;\n            break;\n        case 'sector':\n            divideSector(shape, count, outShapes);\n            OutShapeCtor = Sector;\n            break;\n        case 'circle':\n            divideSector({\n                r0: 0, r: shape.r, startAngle: 0, endAngle: Math.PI * 2,\n                cx: shape.cx, cy: shape.cy\n            }, count, outShapes);\n            OutShapeCtor = Sector;\n            break;\n        default:\n            var m = path.getComputedTransform();\n            var scale = m ? Math.sqrt(Math.max(m[0] * m[0] + m[1] * m[1], m[2] * m[2] + m[3] * m[3])) : 1;\n            var polygons = map(pathToPolygons(path.getUpdatedPathProxy(), scale), function (poly) { return polygonConvert(poly); });\n            var polygonCount = polygons.length;\n            if (polygonCount === 0) {\n                binaryDivideRecursive(binaryDividePolygon, {\n                    points: polygons[0]\n                }, count, outShapes);\n            }\n            else if (polygonCount === count) {\n                for (var i = 0; i < polygonCount; i++) {\n                    outShapes.push({\n                        points: polygons[i]\n                    });\n                }\n            }\n            else {\n                var totalArea_1 = 0;\n                var items = map(polygons, function (poly) {\n                    var min = [];\n                    var max = [];\n                    fromPoints(poly, min, max);\n                    var area = (max[1] - min[1]) * (max[0] - min[0]);\n                    totalArea_1 += area;\n                    return { poly: poly, area: area };\n                });\n                items.sort(function (a, b) { return b.area - a.area; });\n                var left = count;\n                for (var i = 0; i < polygonCount; i++) {\n                    var item = items[i];\n                    if (left <= 0) {\n                        break;\n                    }\n                    var selfCount = i === polygonCount - 1\n                        ? left\n                        : Math.ceil(item.area / totalArea_1 * count);\n                    if (selfCount < 0) {\n                        continue;\n                    }\n                    binaryDivideRecursive(binaryDividePolygon, {\n                        points: item.poly\n                    }, selfCount, outShapes);\n                    left -= selfCount;\n                }\n                ;\n            }\n            OutShapeCtor = Polygon;\n            break;\n    }\n    if (!OutShapeCtor) {\n        return clone(path, count);\n    }\n    var out = [];\n    for (var i = 0; i < outShapes.length; i++) {\n        var subPath = new OutShapeCtor();\n        subPath.setShape(outShapes[i]);\n        copyPathProps(path, subPath);\n        out.push(subPath);\n    }\n    return out;\n}\n","import { cubicSubdivide } from '../core/curve.js';\nimport Path from '../graphic/Path.js';\nimport { defaults, map } from '../core/util.js';\nimport { lerp } from '../core/vector.js';\nimport { clonePath } from './path.js';\nimport Transformable from '../core/Transformable.js';\nimport { split } from './dividePath.js';\nimport { pathToBezierCurves } from './convertPath.js';\nfunction alignSubpath(subpath1, subpath2) {\n    var len1 = subpath1.length;\n    var len2 = subpath2.length;\n    if (len1 === len2) {\n        return [subpath1, subpath2];\n    }\n    var tmpSegX = [];\n    var tmpSegY = [];\n    var shorterPath = len1 < len2 ? subpath1 : subpath2;\n    var shorterLen = Math.min(len1, len2);\n    var diff = Math.abs(len2 - len1) / 6;\n    var shorterBezierCount = (shorterLen - 2) / 6;\n    var eachCurveSubDivCount = Math.ceil(diff / shorterBezierCount) + 1;\n    var newSubpath = [shorterPath[0], shorterPath[1]];\n    var remained = diff;\n    for (var i = 2; i < shorterLen;) {\n        var x0 = shorterPath[i - 2];\n        var y0 = shorterPath[i - 1];\n        var x1 = shorterPath[i++];\n        var y1 = shorterPath[i++];\n        var x2 = shorterPath[i++];\n        var y2 = shorterPath[i++];\n        var x3 = shorterPath[i++];\n        var y3 = shorterPath[i++];\n        if (remained <= 0) {\n            newSubpath.push(x1, y1, x2, y2, x3, y3);\n            continue;\n        }\n        var actualSubDivCount = Math.min(remained, eachCurveSubDivCount - 1) + 1;\n        for (var k = 1; k <= actualSubDivCount; k++) {\n            var p = k / actualSubDivCount;\n            cubicSubdivide(x0, x1, x2, x3, p, tmpSegX);\n            cubicSubdivide(y0, y1, y2, y3, p, tmpSegY);\n            x0 = tmpSegX[3];\n            y0 = tmpSegY[3];\n            newSubpath.push(tmpSegX[1], tmpSegY[1], tmpSegX[2], tmpSegY[2], x0, y0);\n            x1 = tmpSegX[5];\n            y1 = tmpSegY[5];\n            x2 = tmpSegX[6];\n            y2 = tmpSegY[6];\n        }\n        remained -= actualSubDivCount - 1;\n    }\n    return shorterPath === subpath1 ? [newSubpath, subpath2] : [subpath1, newSubpath];\n}\nfunction createSubpath(lastSubpathSubpath, otherSubpath) {\n    var len = lastSubpathSubpath.length;\n    var lastX = lastSubpathSubpath[len - 2];\n    var lastY = lastSubpathSubpath[len - 1];\n    var newSubpath = [];\n    for (var i = 0; i < otherSubpath.length;) {\n        newSubpath[i++] = lastX;\n        newSubpath[i++] = lastY;\n    }\n    return newSubpath;\n}\nexport function alignBezierCurves(array1, array2) {\n    var _a;\n    var lastSubpath1;\n    var lastSubpath2;\n    var newArray1 = [];\n    var newArray2 = [];\n    for (var i = 0; i < Math.max(array1.length, array2.length); i++) {\n        var subpath1 = array1[i];\n        var subpath2 = array2[i];\n        var newSubpath1 = void 0;\n        var newSubpath2 = void 0;\n        if (!subpath1) {\n            newSubpath1 = createSubpath(lastSubpath1 || subpath2, subpath2);\n            newSubpath2 = subpath2;\n        }\n        else if (!subpath2) {\n            newSubpath2 = createSubpath(lastSubpath2 || subpath1, subpath1);\n            newSubpath1 = subpath1;\n        }\n        else {\n            _a = alignSubpath(subpath1, subpath2), newSubpath1 = _a[0], newSubpath2 = _a[1];\n            lastSubpath1 = newSubpath1;\n            lastSubpath2 = newSubpath2;\n        }\n        newArray1.push(newSubpath1);\n        newArray2.push(newSubpath2);\n    }\n    return [newArray1, newArray2];\n}\nexport function centroid(array) {\n    var signedArea = 0;\n    var cx = 0;\n    var cy = 0;\n    var len = array.length;\n    for (var i = 0, j = len - 2; i < len; j = i, i += 2) {\n        var x0 = array[j];\n        var y0 = array[j + 1];\n        var x1 = array[i];\n        var y1 = array[i + 1];\n        var a = x0 * y1 - x1 * y0;\n        signedArea += a;\n        cx += (x0 + x1) * a;\n        cy += (y0 + y1) * a;\n    }\n    if (signedArea === 0) {\n        return [array[0] || 0, array[1] || 0];\n    }\n    return [cx / signedArea / 3, cy / signedArea / 3, signedArea];\n}\nfunction findBestRingOffset(fromSubBeziers, toSubBeziers, fromCp, toCp) {\n    var bezierCount = (fromSubBeziers.length - 2) / 6;\n    var bestScore = Infinity;\n    var bestOffset = 0;\n    var len = fromSubBeziers.length;\n    var len2 = len - 2;\n    for (var offset = 0; offset < bezierCount; offset++) {\n        var cursorOffset = offset * 6;\n        var score = 0;\n        for (var k = 0; k < len; k += 2) {\n            var idx = k === 0 ? cursorOffset : ((cursorOffset + k - 2) % len2 + 2);\n            var x0 = fromSubBeziers[idx] - fromCp[0];\n            var y0 = fromSubBeziers[idx + 1] - fromCp[1];\n            var x1 = toSubBeziers[k] - toCp[0];\n            var y1 = toSubBeziers[k + 1] - toCp[1];\n            var dx = x1 - x0;\n            var dy = y1 - y0;\n            score += dx * dx + dy * dy;\n        }\n        if (score < bestScore) {\n            bestScore = score;\n            bestOffset = offset;\n        }\n    }\n    return bestOffset;\n}\nfunction reverse(array) {\n    var newArr = [];\n    var len = array.length;\n    for (var i = 0; i < len; i += 2) {\n        newArr[i] = array[len - i - 2];\n        newArr[i + 1] = array[len - i - 1];\n    }\n    return newArr;\n}\nfunction findBestMorphingRotation(fromArr, toArr, searchAngleIteration, searchAngleRange) {\n    var result = [];\n    var fromNeedsReverse;\n    for (var i = 0; i < fromArr.length; i++) {\n        var fromSubpathBezier = fromArr[i];\n        var toSubpathBezier = toArr[i];\n        var fromCp = centroid(fromSubpathBezier);\n        var toCp = centroid(toSubpathBezier);\n        if (fromNeedsReverse == null) {\n            fromNeedsReverse = fromCp[2] < 0 !== toCp[2] < 0;\n        }\n        var newFromSubpathBezier = [];\n        var newToSubpathBezier = [];\n        var bestAngle = 0;\n        var bestScore = Infinity;\n        var tmpArr = [];\n        var len = fromSubpathBezier.length;\n        if (fromNeedsReverse) {\n            fromSubpathBezier = reverse(fromSubpathBezier);\n        }\n        var offset = findBestRingOffset(fromSubpathBezier, toSubpathBezier, fromCp, toCp) * 6;\n        var len2 = len - 2;\n        for (var k = 0; k < len2; k += 2) {\n            var idx = (offset + k) % len2 + 2;\n            newFromSubpathBezier[k + 2] = fromSubpathBezier[idx] - fromCp[0];\n            newFromSubpathBezier[k + 3] = fromSubpathBezier[idx + 1] - fromCp[1];\n        }\n        newFromSubpathBezier[0] = fromSubpathBezier[offset] - fromCp[0];\n        newFromSubpathBezier[1] = fromSubpathBezier[offset + 1] - fromCp[1];\n        if (searchAngleIteration > 0) {\n            var step = searchAngleRange / searchAngleIteration;\n            for (var angle = -searchAngleRange / 2; angle <= searchAngleRange / 2; angle += step) {\n                var sa = Math.sin(angle);\n                var ca = Math.cos(angle);\n                var score = 0;\n                for (var k = 0; k < fromSubpathBezier.length; k += 2) {\n                    var x0 = newFromSubpathBezier[k];\n                    var y0 = newFromSubpathBezier[k + 1];\n                    var x1 = toSubpathBezier[k] - toCp[0];\n                    var y1 = toSubpathBezier[k + 1] - toCp[1];\n                    var newX1 = x1 * ca - y1 * sa;\n                    var newY1 = x1 * sa + y1 * ca;\n                    tmpArr[k] = newX1;\n                    tmpArr[k + 1] = newY1;\n                    var dx = newX1 - x0;\n                    var dy = newY1 - y0;\n                    score += dx * dx + dy * dy;\n                }\n                if (score < bestScore) {\n                    bestScore = score;\n                    bestAngle = angle;\n                    for (var m = 0; m < tmpArr.length; m++) {\n                        newToSubpathBezier[m] = tmpArr[m];\n                    }\n                }\n            }\n        }\n        else {\n            for (var i_1 = 0; i_1 < len; i_1 += 2) {\n                newToSubpathBezier[i_1] = toSubpathBezier[i_1] - toCp[0];\n                newToSubpathBezier[i_1 + 1] = toSubpathBezier[i_1 + 1] - toCp[1];\n            }\n        }\n        result.push({\n            from: newFromSubpathBezier,\n            to: newToSubpathBezier,\n            fromCp: fromCp,\n            toCp: toCp,\n            rotation: -bestAngle\n        });\n    }\n    return result;\n}\nexport function isCombineMorphing(path) {\n    return path.__isCombineMorphing;\n}\nexport function isMorphing(el) {\n    return el.__morphT >= 0;\n}\nvar SAVED_METHOD_PREFIX = '__mOriginal_';\nfunction saveAndModifyMethod(obj, methodName, modifiers) {\n    var savedMethodName = SAVED_METHOD_PREFIX + methodName;\n    var originalMethod = obj[savedMethodName] || obj[methodName];\n    if (!obj[savedMethodName]) {\n        obj[savedMethodName] = obj[methodName];\n    }\n    var replace = modifiers.replace;\n    var after = modifiers.after;\n    var before = modifiers.before;\n    obj[methodName] = function () {\n        var args = arguments;\n        var res;\n        before && before.apply(this, args);\n        if (replace) {\n            res = replace.apply(this, args);\n        }\n        else {\n            res = originalMethod.apply(this, args);\n        }\n        after && after.apply(this, args);\n        return res;\n    };\n}\nfunction restoreMethod(obj, methodName) {\n    var savedMethodName = SAVED_METHOD_PREFIX + methodName;\n    if (obj[savedMethodName]) {\n        obj[methodName] = obj[savedMethodName];\n        obj[savedMethodName] = null;\n    }\n}\nfunction applyTransformOnBeziers(bezierCurves, mm) {\n    for (var i = 0; i < bezierCurves.length; i++) {\n        var subBeziers = bezierCurves[i];\n        for (var k = 0; k < subBeziers.length;) {\n            var x = subBeziers[k];\n            var y = subBeziers[k + 1];\n            subBeziers[k++] = mm[0] * x + mm[2] * y + mm[4];\n            subBeziers[k++] = mm[1] * x + mm[3] * y + mm[5];\n        }\n    }\n}\nfunction prepareMorphPath(fromPath, toPath) {\n    var fromPathProxy = fromPath.getUpdatedPathProxy();\n    var toPathProxy = toPath.getUpdatedPathProxy();\n    var _a = alignBezierCurves(pathToBezierCurves(fromPathProxy), pathToBezierCurves(toPathProxy)), fromBezierCurves = _a[0], toBezierCurves = _a[1];\n    var fromPathTransform = fromPath.getComputedTransform();\n    var toPathTransform = toPath.getComputedTransform();\n    function updateIdentityTransform() {\n        this.transform = null;\n    }\n    fromPathTransform && applyTransformOnBeziers(fromBezierCurves, fromPathTransform);\n    toPathTransform && applyTransformOnBeziers(toBezierCurves, toPathTransform);\n    saveAndModifyMethod(toPath, 'updateTransform', { replace: updateIdentityTransform });\n    toPath.transform = null;\n    var morphingData = findBestMorphingRotation(fromBezierCurves, toBezierCurves, 10, Math.PI);\n    var tmpArr = [];\n    saveAndModifyMethod(toPath, 'buildPath', { replace: function (path) {\n            var t = toPath.__morphT;\n            var onet = 1 - t;\n            var newCp = [];\n            for (var i = 0; i < morphingData.length; i++) {\n                var item = morphingData[i];\n                var from = item.from;\n                var to = item.to;\n                var angle = item.rotation * t;\n                var fromCp = item.fromCp;\n                var toCp = item.toCp;\n                var sa = Math.sin(angle);\n                var ca = Math.cos(angle);\n                lerp(newCp, fromCp, toCp, t);\n                for (var m = 0; m < from.length; m += 2) {\n                    var x0_1 = from[m];\n                    var y0_1 = from[m + 1];\n                    var x1 = to[m];\n                    var y1 = to[m + 1];\n                    var x = x0_1 * onet + x1 * t;\n                    var y = y0_1 * onet + y1 * t;\n                    tmpArr[m] = (x * ca - y * sa) + newCp[0];\n                    tmpArr[m + 1] = (x * sa + y * ca) + newCp[1];\n                }\n                var x0 = tmpArr[0];\n                var y0 = tmpArr[1];\n                path.moveTo(x0, y0);\n                for (var m = 2; m < from.length;) {\n                    var x1 = tmpArr[m++];\n                    var y1 = tmpArr[m++];\n                    var x2 = tmpArr[m++];\n                    var y2 = tmpArr[m++];\n                    var x3 = tmpArr[m++];\n                    var y3 = tmpArr[m++];\n                    if (x0 === x1 && y0 === y1 && x2 === x3 && y2 === y3) {\n                        path.lineTo(x3, y3);\n                    }\n                    else {\n                        path.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n                    }\n                    x0 = x3;\n                    y0 = y3;\n                }\n            }\n        } });\n}\nexport function morphPath(fromPath, toPath, animationOpts) {\n    if (!fromPath || !toPath) {\n        return toPath;\n    }\n    var oldDone = animationOpts.done;\n    var oldDuring = animationOpts.during;\n    prepareMorphPath(fromPath, toPath);\n    toPath.__morphT = 0;\n    function restoreToPath() {\n        restoreMethod(toPath, 'buildPath');\n        restoreMethod(toPath, 'updateTransform');\n        toPath.__morphT = -1;\n        toPath.createPathProxy();\n        toPath.dirtyShape();\n    }\n    toPath.animateTo({\n        __morphT: 1\n    }, defaults({\n        during: function (p) {\n            toPath.dirtyShape();\n            oldDuring && oldDuring(p);\n        },\n        done: function () {\n            restoreToPath();\n            oldDone && oldDone();\n        }\n    }, animationOpts));\n    return toPath;\n}\nfunction hilbert(x, y, minX, minY, maxX, maxY) {\n    var bits = 16;\n    x = (maxX === minX) ? 0 : Math.round(32767 * (x - minX) / (maxX - minX));\n    y = (maxY === minY) ? 0 : Math.round(32767 * (y - minY) / (maxY - minY));\n    var d = 0;\n    var tmp;\n    for (var s = (1 << bits) / 2; s > 0; s /= 2) {\n        var rx = 0;\n        var ry = 0;\n        if ((x & s) > 0) {\n            rx = 1;\n        }\n        if ((y & s) > 0) {\n            ry = 1;\n        }\n        d += s * s * ((3 * rx) ^ ry);\n        if (ry === 0) {\n            if (rx === 1) {\n                x = s - 1 - x;\n                y = s - 1 - y;\n            }\n            tmp = x;\n            x = y;\n            y = tmp;\n        }\n    }\n    return d;\n}\nfunction sortPaths(pathList) {\n    var xMin = Infinity;\n    var yMin = Infinity;\n    var xMax = -Infinity;\n    var yMax = -Infinity;\n    var cps = map(pathList, function (path) {\n        var rect = path.getBoundingRect();\n        var m = path.getComputedTransform();\n        var x = rect.x + rect.width / 2 + (m ? m[4] : 0);\n        var y = rect.y + rect.height / 2 + (m ? m[5] : 0);\n        xMin = Math.min(x, xMin);\n        yMin = Math.min(y, yMin);\n        xMax = Math.max(x, xMax);\n        yMax = Math.max(y, yMax);\n        return [x, y];\n    });\n    var items = map(cps, function (cp, idx) {\n        return {\n            cp: cp,\n            z: hilbert(cp[0], cp[1], xMin, yMin, xMax, yMax),\n            path: pathList[idx]\n        };\n    });\n    return items.sort(function (a, b) { return a.z - b.z; }).map(function (item) { return item.path; });\n}\n;\nfunction defaultDividePath(param) {\n    return split(param.path, param.count);\n}\nfunction createEmptyReturn() {\n    return {\n        fromIndividuals: [],\n        toIndividuals: [],\n        count: 0\n    };\n}\nexport function combineMorph(fromList, toPath, animationOpts) {\n    var fromPathList = [];\n    function addFromPath(fromList) {\n        for (var i = 0; i < fromList.length; i++) {\n            var from = fromList[i];\n            if (isCombineMorphing(from)) {\n                addFromPath(from.childrenRef());\n            }\n            else if (from instanceof Path) {\n                fromPathList.push(from);\n            }\n        }\n    }\n    addFromPath(fromList);\n    var separateCount = fromPathList.length;\n    if (!separateCount) {\n        return createEmptyReturn();\n    }\n    var dividePath = animationOpts.dividePath || defaultDividePath;\n    var toSubPathList = dividePath({\n        path: toPath, count: separateCount\n    });\n    if (toSubPathList.length !== separateCount) {\n        console.error('Invalid morphing: unmatched splitted path');\n        return createEmptyReturn();\n    }\n    fromPathList = sortPaths(fromPathList);\n    toSubPathList = sortPaths(toSubPathList);\n    var oldDone = animationOpts.done;\n    var oldDuring = animationOpts.during;\n    var individualDelay = animationOpts.individualDelay;\n    var identityTransform = new Transformable();\n    for (var i = 0; i < separateCount; i++) {\n        var from = fromPathList[i];\n        var to = toSubPathList[i];\n        to.parent = toPath;\n        to.copyTransform(identityTransform);\n        if (!individualDelay) {\n            prepareMorphPath(from, to);\n        }\n    }\n    toPath.__isCombineMorphing = true;\n    toPath.childrenRef = function () {\n        return toSubPathList;\n    };\n    function addToSubPathListToZr(zr) {\n        for (var i = 0; i < toSubPathList.length; i++) {\n            toSubPathList[i].addSelfToZr(zr);\n        }\n    }\n    saveAndModifyMethod(toPath, 'addSelfToZr', {\n        after: function (zr) {\n            addToSubPathListToZr(zr);\n        }\n    });\n    saveAndModifyMethod(toPath, 'removeSelfFromZr', {\n        after: function (zr) {\n            for (var i = 0; i < toSubPathList.length; i++) {\n                toSubPathList[i].removeSelfFromZr(zr);\n            }\n        }\n    });\n    function restoreToPath() {\n        toPath.__isCombineMorphing = false;\n        toPath.__morphT = -1;\n        toPath.childrenRef = null;\n        restoreMethod(toPath, 'addSelfToZr');\n        restoreMethod(toPath, 'removeSelfFromZr');\n    }\n    var toLen = toSubPathList.length;\n    if (individualDelay) {\n        var animating_1 = toLen;\n        var eachDone = function () {\n            animating_1--;\n            if (animating_1 === 0) {\n                restoreToPath();\n                oldDone && oldDone();\n            }\n        };\n        for (var i = 0; i < toLen; i++) {\n            var indivdualAnimationOpts = individualDelay ? defaults({\n                delay: (animationOpts.delay || 0) + individualDelay(i, toLen, fromPathList[i], toSubPathList[i]),\n                done: eachDone\n            }, animationOpts) : animationOpts;\n            morphPath(fromPathList[i], toSubPathList[i], indivdualAnimationOpts);\n        }\n    }\n    else {\n        toPath.__morphT = 0;\n        toPath.animateTo({\n            __morphT: 1\n        }, defaults({\n            during: function (p) {\n                for (var i = 0; i < toLen; i++) {\n                    var child = toSubPathList[i];\n                    child.__morphT = toPath.__morphT;\n                    child.dirtyShape();\n                }\n                oldDuring && oldDuring(p);\n            },\n            done: function () {\n                restoreToPath();\n                for (var i = 0; i < fromList.length; i++) {\n                    restoreMethod(fromList[i], 'updateTransform');\n                }\n                oldDone && oldDone();\n            }\n        }, animationOpts));\n    }\n    if (toPath.__zr) {\n        addToSubPathListToZr(toPath.__zr);\n    }\n    return {\n        fromIndividuals: fromPathList,\n        toIndividuals: toSubPathList,\n        count: toLen\n    };\n}\nexport function separateMorph(fromPath, toPathList, animationOpts) {\n    var toLen = toPathList.length;\n    var fromPathList = [];\n    var dividePath = animationOpts.dividePath || defaultDividePath;\n    function addFromPath(fromList) {\n        for (var i = 0; i < fromList.length; i++) {\n            var from = fromList[i];\n            if (isCombineMorphing(from)) {\n                addFromPath(from.childrenRef());\n            }\n            else if (from instanceof Path) {\n                fromPathList.push(from);\n            }\n        }\n    }\n    if (isCombineMorphing(fromPath)) {\n        addFromPath(fromPath.childrenRef());\n        var fromLen = fromPathList.length;\n        if (fromLen < toLen) {\n            var k = 0;\n            for (var i = fromLen; i < toLen; i++) {\n                fromPathList.push(clonePath(fromPathList[k++ % fromLen]));\n            }\n        }\n        fromPathList.length = toLen;\n    }\n    else {\n        fromPathList = dividePath({ path: fromPath, count: toLen });\n        var fromPathTransform = fromPath.getComputedTransform();\n        for (var i = 0; i < fromPathList.length; i++) {\n            fromPathList[i].setLocalTransform(fromPathTransform);\n        }\n        if (fromPathList.length !== toLen) {\n            console.error('Invalid morphing: unmatched splitted path');\n            return createEmptyReturn();\n        }\n    }\n    fromPathList = sortPaths(fromPathList);\n    toPathList = sortPaths(toPathList);\n    var individualDelay = animationOpts.individualDelay;\n    for (var i = 0; i < toLen; i++) {\n        var indivdualAnimationOpts = individualDelay ? defaults({\n            delay: (animationOpts.delay || 0) + individualDelay(i, toLen, fromPathList[i], toPathList[i])\n        }, animationOpts) : animationOpts;\n        morphPath(fromPathList[i], toPathList[i], indivdualAnimationOpts);\n    }\n    return {\n        fromIndividuals: fromPathList,\n        toIndividuals: toPathList,\n        count: toPathList.length\n    };\n}\nexport { split as defaultDividePath };\n","import { isAroundZero } from './helper.js';\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nvar PI2 = Math.PI * 2;\nvar degree = 180 / PI;\nvar SVGPathRebuilder = (function () {\n    function SVGPathRebuilder() {\n    }\n    SVGPathRebuilder.prototype.reset = function (precision) {\n        this._start = true;\n        this._d = [];\n        this._str = '';\n        this._p = Math.pow(10, precision || 4);\n    };\n    SVGPathRebuilder.prototype.moveTo = function (x, y) {\n        this._add('M', x, y);\n    };\n    SVGPathRebuilder.prototype.lineTo = function (x, y) {\n        this._add('L', x, y);\n    };\n    SVGPathRebuilder.prototype.bezierCurveTo = function (x, y, x2, y2, x3, y3) {\n        this._add('C', x, y, x2, y2, x3, y3);\n    };\n    SVGPathRebuilder.prototype.quadraticCurveTo = function (x, y, x2, y2) {\n        this._add('Q', x, y, x2, y2);\n    };\n    SVGPathRebuilder.prototype.arc = function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n        this.ellipse(cx, cy, r, r, 0, startAngle, endAngle, anticlockwise);\n    };\n    SVGPathRebuilder.prototype.ellipse = function (cx, cy, rx, ry, psi, startAngle, endAngle, anticlockwise) {\n        var dTheta = endAngle - startAngle;\n        var clockwise = !anticlockwise;\n        var dThetaPositive = Math.abs(dTheta);\n        var isCircle = isAroundZero(dThetaPositive - PI2)\n            || (clockwise ? dTheta >= PI2 : -dTheta >= PI2);\n        var unifiedTheta = dTheta > 0 ? dTheta % PI2 : (dTheta % PI2 + PI2);\n        var large = false;\n        if (isCircle) {\n            large = true;\n        }\n        else if (isAroundZero(dThetaPositive)) {\n            large = false;\n        }\n        else {\n            large = (unifiedTheta >= PI) === !!clockwise;\n        }\n        var x0 = cx + rx * mathCos(startAngle);\n        var y0 = cy + ry * mathSin(startAngle);\n        if (this._start) {\n            this._add('M', x0, y0);\n        }\n        var xRot = Math.round(psi * degree);\n        if (isCircle) {\n            var p = 1 / this._p;\n            var dTheta_1 = (clockwise ? 1 : -1) * (PI2 - p);\n            this._add('A', rx, ry, xRot, 1, +clockwise, cx + rx * mathCos(startAngle + dTheta_1), cy + ry * mathSin(startAngle + dTheta_1));\n            if (p > 1e-2) {\n                this._add('A', rx, ry, xRot, 0, +clockwise, x0, y0);\n            }\n        }\n        else {\n            var x = cx + rx * mathCos(endAngle);\n            var y = cy + ry * mathSin(endAngle);\n            this._add('A', rx, ry, xRot, +large, +clockwise, x, y);\n        }\n    };\n    SVGPathRebuilder.prototype.rect = function (x, y, w, h) {\n        this._add('M', x, y);\n        this._add('l', w, 0);\n        this._add('l', 0, h);\n        this._add('l', -w, 0);\n        this._add('Z');\n    };\n    SVGPathRebuilder.prototype.closePath = function () {\n        if (this._d.length > 0) {\n            this._add('Z');\n        }\n    };\n    SVGPathRebuilder.prototype._add = function (cmd, a, b, c, d, e, f, g, h) {\n        var vals = [];\n        var p = this._p;\n        for (var i = 1; i < arguments.length; i++) {\n            var val = arguments[i];\n            if (isNaN(val)) {\n                this._invalid = true;\n                return;\n            }\n            vals.push(Math.round(val * p) / p);\n        }\n        this._d.push(cmd + vals.join(' '));\n        this._start = cmd === 'Z';\n    };\n    SVGPathRebuilder.prototype.generateStr = function () {\n        this._str = this._invalid ? '' : this._d.join('');\n        this._d = [];\n    };\n    SVGPathRebuilder.prototype.getStr = function () {\n        return this._str;\n    };\n    return SVGPathRebuilder;\n}());\nexport default SVGPathRebuilder;\n","import { DEFAULT_PATH_STYLE } from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport { getLineDash } from '../canvas/dashStyle.js';\nimport { map } from '../core/util.js';\nimport { normalizeColor } from './helper.js';\nvar NONE = 'none';\nvar mathRound = Math.round;\nfunction pathHasFill(style) {\n    var fill = style.fill;\n    return fill != null && fill !== NONE;\n}\nfunction pathHasStroke(style) {\n    var stroke = style.stroke;\n    return stroke != null && stroke !== NONE;\n}\nvar strokeProps = ['lineCap', 'miterLimit', 'lineJoin'];\nvar svgStrokeProps = map(strokeProps, function (prop) { return \"stroke-\" + prop.toLowerCase(); });\nexport default function mapStyleToAttrs(updateAttr, style, el, forceUpdate) {\n    var opacity = style.opacity == null ? 1 : style.opacity;\n    if (el instanceof ZRImage) {\n        updateAttr('opacity', opacity);\n        return;\n    }\n    if (pathHasFill(style)) {\n        var fill = normalizeColor(style.fill);\n        updateAttr('fill', fill.color);\n        var fillOpacity = style.fillOpacity != null\n            ? style.fillOpacity * fill.opacity * opacity\n            : fill.opacity * opacity;\n        if (forceUpdate || fillOpacity < 1) {\n            updateAttr('fill-opacity', fillOpacity);\n        }\n    }\n    else {\n        updateAttr('fill', NONE);\n    }\n    if (pathHasStroke(style)) {\n        var stroke = normalizeColor(style.stroke);\n        updateAttr('stroke', stroke.color);\n        var strokeScale = style.strokeNoScale\n            ? el.getLineScale()\n            : 1;\n        var strokeWidth = (strokeScale ? (style.lineWidth || 0) / strokeScale : 0);\n        var strokeOpacity = style.strokeOpacity != null\n            ? style.strokeOpacity * stroke.opacity * opacity\n            : stroke.opacity * opacity;\n        var strokeFirst = style.strokeFirst;\n        if (forceUpdate || strokeWidth !== 1) {\n            updateAttr('stroke-width', strokeWidth);\n        }\n        if (forceUpdate || strokeFirst) {\n            updateAttr('paint-order', strokeFirst ? 'stroke' : 'fill');\n        }\n        if (forceUpdate || strokeOpacity < 1) {\n            updateAttr('stroke-opacity', strokeOpacity);\n        }\n        if (style.lineDash) {\n            var _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n            if (lineDash) {\n                lineDashOffset = mathRound(lineDashOffset || 0);\n                updateAttr('stroke-dasharray', lineDash.join(','));\n                if (lineDashOffset || forceUpdate) {\n                    updateAttr('stroke-dashoffset', lineDashOffset);\n                }\n            }\n        }\n        else if (forceUpdate) {\n            updateAttr('stroke-dasharray', NONE);\n        }\n        for (var i = 0; i < strokeProps.length; i++) {\n            var propName = strokeProps[i];\n            if (forceUpdate || style[propName] !== DEFAULT_PATH_STYLE[propName]) {\n                var val = style[propName] || DEFAULT_PATH_STYLE[propName];\n                val && updateAttr(svgStrokeProps[i], val);\n            }\n        }\n    }\n    else if (forceUpdate) {\n        updateAttr('stroke', NONE);\n    }\n}\n","import { keys, map } from '../core/util.js';\nimport { encodeHTML } from '../core/dom.js';\nexport var SVGNS = 'http://www.w3.org/2000/svg';\nexport var XLINKNS = 'http://www.w3.org/1999/xlink';\nexport var XMLNS = 'http://www.w3.org/2000/xmlns/';\nexport var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace';\nexport var META_DATA_PREFIX = 'ecmeta_';\nexport function createElement(name) {\n    return document.createElementNS(SVGNS, name);\n}\n;\nexport function createVNode(tag, key, attrs, children, text) {\n    return {\n        tag: tag,\n        attrs: attrs || {},\n        children: children,\n        text: text,\n        key: key\n    };\n}\nfunction createElementOpen(name, attrs) {\n    var attrsStr = [];\n    if (attrs) {\n        for (var key in attrs) {\n            var val = attrs[key];\n            var part = key;\n            if (val === false) {\n                continue;\n            }\n            else if (val !== true && val != null) {\n                part += \"=\\\"\" + val + \"\\\"\";\n            }\n            attrsStr.push(part);\n        }\n    }\n    return \"<\" + name + \" \" + attrsStr.join(' ') + \">\";\n}\nfunction createElementClose(name) {\n    return \"</\" + name + \">\";\n}\nexport function vNodeToString(el, opts) {\n    opts = opts || {};\n    var S = opts.newline ? '\\n' : '';\n    function convertElToString(el) {\n        var children = el.children, tag = el.tag, attrs = el.attrs, text = el.text;\n        return createElementOpen(tag, attrs)\n            + (tag !== 'style' ? encodeHTML(text) : text || '')\n            + (children ? \"\" + S + map(children, function (child) { return convertElToString(child); }).join(S) + S : '')\n            + createElementClose(tag);\n    }\n    return convertElToString(el);\n}\nexport function getCssString(selectorNodes, animationNodes, opts) {\n    opts = opts || {};\n    var S = opts.newline ? '\\n' : '';\n    var bracketBegin = \" {\" + S;\n    var bracketEnd = S + \"}\";\n    var selectors = map(keys(selectorNodes), function (className) {\n        return className + bracketBegin + map(keys(selectorNodes[className]), function (attrName) {\n            return attrName + \":\" + selectorNodes[className][attrName] + \";\";\n        }).join(S) + bracketEnd;\n    }).join(S);\n    var animations = map(keys(animationNodes), function (animationName) {\n        return \"@keyframes \" + animationName + bracketBegin + map(keys(animationNodes[animationName]), function (percent) {\n            return percent + bracketBegin + map(keys(animationNodes[animationName][percent]), function (attrName) {\n                var val = animationNodes[animationName][percent][attrName];\n                if (attrName === 'd') {\n                    val = \"path(\\\"\" + val + \"\\\")\";\n                }\n                return attrName + \":\" + val + \";\";\n            }).join(S) + bracketEnd;\n        }).join(S) + bracketEnd;\n    }).join(S);\n    if (!selectors && !animations) {\n        return '';\n    }\n    return ['<![CDATA[', selectors, animations, ']]>'].join(S);\n}\nexport function createBrushScope(zrId) {\n    return {\n        zrId: zrId,\n        shadowCache: {},\n        patternCache: {},\n        gradientCache: {},\n        clipPathCache: {},\n        defs: {},\n        cssNodes: {},\n        cssAnims: {},\n        cssStyleCache: {},\n        cssAnimIdx: 0,\n        shadowIdx: 0,\n        gradientIdx: 0,\n        patternIdx: 0,\n        clipPathIdx: 0\n    };\n}\nexport function createSVGVNode(width, height, children, useViewBox) {\n    return createVNode('svg', 'root', {\n        'width': width,\n        'height': height,\n        'xmlns': SVGNS,\n        'xmlns:xlink': XLINKNS,\n        'version': '1.1',\n        'baseProfile': 'full',\n        'viewBox': useViewBox ? \"0 0 \" + width + \" \" + height : false\n    }, children);\n}\n","var cssClassIdx = 0;\nexport function getClassId() {\n    return cssClassIdx++;\n}\n","import { copyTransform } from '../core/Transformable.js';\nimport { createBrushScope } from './core.js';\nimport SVGPathRebuilder from './SVGPathRebuilder.js';\nimport PathProxy from '../core/PathProxy.js';\nimport { getPathPrecision, getSRTTransformString } from './helper.js';\nimport { each, extend, filter, isNumber, isString, keys } from '../core/util.js';\nimport CompoundPath from '../graphic/CompoundPath.js';\nimport { createCubicEasingFunc } from '../animation/cubicEasing.js';\nimport { getClassId } from './cssClassId.js';\nexport var EASING_MAP = {\n    cubicIn: '0.32,0,0.67,0',\n    cubicOut: '0.33,1,0.68,1',\n    cubicInOut: '0.65,0,0.35,1',\n    quadraticIn: '0.11,0,0.5,0',\n    quadraticOut: '0.5,1,0.89,1',\n    quadraticInOut: '0.45,0,0.55,1',\n    quarticIn: '0.5,0,0.75,0',\n    quarticOut: '0.25,1,0.5,1',\n    quarticInOut: '0.76,0,0.24,1',\n    quinticIn: '0.64,0,0.78,0',\n    quinticOut: '0.22,1,0.36,1',\n    quinticInOut: '0.83,0,0.17,1',\n    sinusoidalIn: '0.12,0,0.39,0',\n    sinusoidalOut: '0.61,1,0.88,1',\n    sinusoidalInOut: '0.37,0,0.63,1',\n    exponentialIn: '0.7,0,0.84,0',\n    exponentialOut: '0.16,1,0.3,1',\n    exponentialInOut: '0.87,0,0.13,1',\n    circularIn: '0.55,0,1,0.45',\n    circularOut: '0,0.55,0.45,1',\n    circularInOut: '0.85,0,0.15,1'\n};\nvar transformOriginKey = 'transform-origin';\nfunction buildPathString(el, kfShape, path) {\n    var shape = extend({}, el.shape);\n    extend(shape, kfShape);\n    el.buildPath(path, shape);\n    var svgPathBuilder = new SVGPathRebuilder();\n    svgPathBuilder.reset(getPathPrecision(el));\n    path.rebuildPath(svgPathBuilder, 1);\n    svgPathBuilder.generateStr();\n    return svgPathBuilder.getStr();\n}\nfunction setTransformOrigin(target, transform) {\n    var originX = transform.originX, originY = transform.originY;\n    if (originX || originY) {\n        target[transformOriginKey] = originX + \"px \" + originY + \"px\";\n    }\n}\nexport var ANIMATE_STYLE_MAP = {\n    fill: 'fill',\n    opacity: 'opacity',\n    lineWidth: 'stroke-width',\n    lineDashOffset: 'stroke-dashoffset'\n};\nfunction addAnimation(cssAnim, scope) {\n    var animationName = scope.zrId + '-ani-' + scope.cssAnimIdx++;\n    scope.cssAnims[animationName] = cssAnim;\n    return animationName;\n}\nfunction createCompoundPathCSSAnimation(el, attrs, scope) {\n    var paths = el.shape.paths;\n    var composedAnim = {};\n    var cssAnimationCfg;\n    var cssAnimationName;\n    each(paths, function (path) {\n        var subScope = createBrushScope(scope.zrId);\n        subScope.animation = true;\n        createCSSAnimation(path, {}, subScope, true);\n        var cssAnims = subScope.cssAnims;\n        var cssNodes = subScope.cssNodes;\n        var animNames = keys(cssAnims);\n        var len = animNames.length;\n        if (!len) {\n            return;\n        }\n        cssAnimationName = animNames[len - 1];\n        var lastAnim = cssAnims[cssAnimationName];\n        for (var percent in lastAnim) {\n            var kf = lastAnim[percent];\n            composedAnim[percent] = composedAnim[percent] || { d: '' };\n            composedAnim[percent].d += kf.d || '';\n        }\n        for (var className in cssNodes) {\n            var val = cssNodes[className].animation;\n            if (val.indexOf(cssAnimationName) >= 0) {\n                cssAnimationCfg = val;\n            }\n        }\n    });\n    if (!cssAnimationCfg) {\n        return;\n    }\n    attrs.d = false;\n    var animationName = addAnimation(composedAnim, scope);\n    return cssAnimationCfg.replace(cssAnimationName, animationName);\n}\nfunction getEasingFunc(easing) {\n    return isString(easing)\n        ? EASING_MAP[easing]\n            ? \"cubic-bezier(\" + EASING_MAP[easing] + \")\"\n            : createCubicEasingFunc(easing) ? easing : ''\n        : '';\n}\nexport function createCSSAnimation(el, attrs, scope, onlyShape) {\n    var animators = el.animators;\n    var len = animators.length;\n    var cssAnimations = [];\n    if (el instanceof CompoundPath) {\n        var animationCfg = createCompoundPathCSSAnimation(el, attrs, scope);\n        if (animationCfg) {\n            cssAnimations.push(animationCfg);\n        }\n        else if (!len) {\n            return;\n        }\n    }\n    else if (!len) {\n        return;\n    }\n    var groupAnimators = {};\n    for (var i = 0; i < len; i++) {\n        var animator = animators[i];\n        var cfgArr = [animator.getMaxTime() / 1000 + 's'];\n        var easing = getEasingFunc(animator.getClip().easing);\n        var delay = animator.getDelay();\n        if (easing) {\n            cfgArr.push(easing);\n        }\n        else {\n            cfgArr.push('linear');\n        }\n        if (delay) {\n            cfgArr.push(delay / 1000 + 's');\n        }\n        if (animator.getLoop()) {\n            cfgArr.push('infinite');\n        }\n        var cfg = cfgArr.join(' ');\n        groupAnimators[cfg] = groupAnimators[cfg] || [cfg, []];\n        groupAnimators[cfg][1].push(animator);\n    }\n    function createSingleCSSAnimation(groupAnimator) {\n        var animators = groupAnimator[1];\n        var len = animators.length;\n        var transformKfs = {};\n        var shapeKfs = {};\n        var finalKfs = {};\n        var animationTimingFunctionAttrName = 'animation-timing-function';\n        function saveAnimatorTrackToCssKfs(animator, cssKfs, toCssAttrName) {\n            var tracks = animator.getTracks();\n            var maxTime = animator.getMaxTime();\n            for (var k = 0; k < tracks.length; k++) {\n                var track = tracks[k];\n                if (track.needsAnimate()) {\n                    var kfs = track.keyframes;\n                    var attrName = track.propName;\n                    toCssAttrName && (attrName = toCssAttrName(attrName));\n                    if (attrName) {\n                        for (var i = 0; i < kfs.length; i++) {\n                            var kf = kfs[i];\n                            var percent = Math.round(kf.time / maxTime * 100) + '%';\n                            var kfEasing = getEasingFunc(kf.easing);\n                            var rawValue = kf.rawValue;\n                            if (isString(rawValue) || isNumber(rawValue)) {\n                                cssKfs[percent] = cssKfs[percent] || {};\n                                cssKfs[percent][attrName] = kf.rawValue;\n                                if (kfEasing) {\n                                    cssKfs[percent][animationTimingFunctionAttrName] = kfEasing;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        for (var i = 0; i < len; i++) {\n            var animator = animators[i];\n            var targetProp = animator.targetName;\n            if (!targetProp) {\n                !onlyShape && saveAnimatorTrackToCssKfs(animator, transformKfs);\n            }\n            else if (targetProp === 'shape') {\n                saveAnimatorTrackToCssKfs(animator, shapeKfs);\n            }\n        }\n        for (var percent in transformKfs) {\n            var transform = {};\n            copyTransform(transform, el);\n            extend(transform, transformKfs[percent]);\n            var str = getSRTTransformString(transform);\n            var timingFunction = transformKfs[percent][animationTimingFunctionAttrName];\n            finalKfs[percent] = str ? {\n                transform: str\n            } : {};\n            setTransformOrigin(finalKfs[percent], transform);\n            if (timingFunction) {\n                finalKfs[percent][animationTimingFunctionAttrName] = timingFunction;\n            }\n        }\n        ;\n        var path;\n        var canAnimateShape = true;\n        for (var percent in shapeKfs) {\n            finalKfs[percent] = finalKfs[percent] || {};\n            var isFirst = !path;\n            var timingFunction = shapeKfs[percent][animationTimingFunctionAttrName];\n            if (isFirst) {\n                path = new PathProxy();\n            }\n            var len_1 = path.len();\n            path.reset();\n            finalKfs[percent].d = buildPathString(el, shapeKfs[percent], path);\n            var newLen = path.len();\n            if (!isFirst && len_1 !== newLen) {\n                canAnimateShape = false;\n                break;\n            }\n            if (timingFunction) {\n                finalKfs[percent][animationTimingFunctionAttrName] = timingFunction;\n            }\n        }\n        ;\n        if (!canAnimateShape) {\n            for (var percent in finalKfs) {\n                delete finalKfs[percent].d;\n            }\n        }\n        if (!onlyShape) {\n            for (var i = 0; i < len; i++) {\n                var animator = animators[i];\n                var targetProp = animator.targetName;\n                if (targetProp === 'style') {\n                    saveAnimatorTrackToCssKfs(animator, finalKfs, function (propName) { return ANIMATE_STYLE_MAP[propName]; });\n                }\n            }\n        }\n        var percents = keys(finalKfs);\n        var allTransformOriginSame = true;\n        var transformOrigin;\n        for (var i = 1; i < percents.length; i++) {\n            var p0 = percents[i - 1];\n            var p1 = percents[i];\n            if (finalKfs[p0][transformOriginKey] !== finalKfs[p1][transformOriginKey]) {\n                allTransformOriginSame = false;\n                break;\n            }\n            transformOrigin = finalKfs[p0][transformOriginKey];\n        }\n        if (allTransformOriginSame && transformOrigin) {\n            for (var percent in finalKfs) {\n                if (finalKfs[percent][transformOriginKey]) {\n                    delete finalKfs[percent][transformOriginKey];\n                }\n            }\n            attrs[transformOriginKey] = transformOrigin;\n        }\n        if (filter(percents, function (percent) { return keys(finalKfs[percent]).length > 0; }).length) {\n            var animationName = addAnimation(finalKfs, scope);\n            return animationName + \" \" + groupAnimator[0] + \" both\";\n        }\n    }\n    for (var key in groupAnimators) {\n        var animationCfg = createSingleCSSAnimation(groupAnimators[key]);\n        if (animationCfg) {\n            cssAnimations.push(animationCfg);\n        }\n    }\n    if (cssAnimations.length) {\n        var className = scope.zrId + '-cls-' + getClassId();\n        scope.cssNodes['.' + className] = {\n            animation: cssAnimations.join(',')\n        };\n        attrs[\"class\"] = className;\n    }\n}\n","import { liftColor } from '../tool/color.js';\nimport { getClassId } from './cssClassId.js';\nexport function createCSSEmphasis(el, attrs, scope) {\n    if (!el.ignore) {\n        if (el.isSilent()) {\n            var style = {\n                'pointer-events': 'none'\n            };\n            setClassAttribute(style, attrs, scope, true);\n        }\n        else {\n            var emphasisStyle = el.states.emphasis && el.states.emphasis.style\n                ? el.states.emphasis.style\n                : {};\n            var fill = emphasisStyle.fill;\n            if (!fill) {\n                var normalFill = el.style && el.style.fill;\n                var selectFill = el.states.select\n                    && el.states.select.style\n                    && el.states.select.style.fill;\n                var fromFill = el.currentStates.indexOf('select') >= 0\n                    ? (selectFill || normalFill)\n                    : normalFill;\n                if (fromFill) {\n                    fill = liftColor(fromFill);\n                }\n            }\n            var lineWidth = emphasisStyle.lineWidth;\n            if (lineWidth) {\n                var scaleX = (!emphasisStyle.strokeNoScale && el.transform)\n                    ? el.transform[0]\n                    : 1;\n                lineWidth = lineWidth / scaleX;\n            }\n            var style = {\n                cursor: 'pointer'\n            };\n            if (fill) {\n                style.fill = fill;\n            }\n            if (emphasisStyle.stroke) {\n                style.stroke = emphasisStyle.stroke;\n            }\n            if (lineWidth) {\n                style['stroke-width'] = lineWidth;\n            }\n            setClassAttribute(style, attrs, scope, true);\n        }\n    }\n}\nfunction setClassAttribute(style, attrs, scope, withHover) {\n    var styleKey = JSON.stringify(style);\n    var className = scope.cssStyleCache[styleKey];\n    if (!className) {\n        className = scope.zrId + '-cls-' + getClassId();\n        scope.cssStyleCache[styleKey] = className;\n        scope.cssNodes['.' + className + (withHover ? ':hover' : '')] = style;\n    }\n    attrs[\"class\"] = attrs[\"class\"] ? (attrs[\"class\"] + ' ' + className) : className;\n}\n","import { adjustTextY, getIdURL, getMatrixStr, getPathPrecision, getShadowKey, getSRTTransformString, hasShadow, isAroundZero, isGradient, isImagePattern, isLinearGradient, isPattern, isRadialGradient, normalizeColor, round4, TEXT_ALIGN_TO_ANCHOR } from './helper.js';\nimport Path from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport { getLineHeight } from '../contain/text.js';\nimport TSpan from '../graphic/TSpan.js';\nimport SVGPathRebuilder from './SVGPathRebuilder.js';\nimport mapStyleToAttrs from './mapStyleToAttrs.js';\nimport { createVNode, vNodeToString, META_DATA_PREFIX } from './core.js';\nimport { assert, clone, isFunction, isString, logError, map, retrieve2 } from '../core/util.js';\nimport { createOrUpdateImage } from '../graphic/helper/image.js';\nimport { createCSSAnimation } from './cssAnimation.js';\nimport { hasSeparateFont, parseFontSize } from '../graphic/Text.js';\nimport { DEFAULT_FONT, DEFAULT_FONT_FAMILY } from '../core/platform.js';\nimport { createCSSEmphasis } from './cssEmphasis.js';\nimport { getElementSSRData } from '../zrender.js';\nvar round = Math.round;\nfunction isImageLike(val) {\n    return val && isString(val.src);\n}\nfunction isCanvasLike(val) {\n    return val && isFunction(val.toDataURL);\n}\nfunction setStyleAttrs(attrs, style, el, scope) {\n    mapStyleToAttrs(function (key, val) {\n        var isFillStroke = key === 'fill' || key === 'stroke';\n        if (isFillStroke && isGradient(val)) {\n            setGradient(style, attrs, key, scope);\n        }\n        else if (isFillStroke && isPattern(val)) {\n            setPattern(el, attrs, key, scope);\n        }\n        else if (isFillStroke && val === 'none') {\n            attrs[key] = 'transparent';\n        }\n        else {\n            attrs[key] = val;\n        }\n    }, style, el, false);\n    setShadow(el, attrs, scope);\n}\nfunction setMetaData(attrs, el) {\n    var metaData = getElementSSRData(el);\n    if (metaData) {\n        metaData.each(function (val, key) {\n            val != null && (attrs[(META_DATA_PREFIX + key).toLowerCase()] = val + '');\n        });\n        if (el.isSilent()) {\n            attrs[META_DATA_PREFIX + 'silent'] = 'true';\n        }\n    }\n}\nfunction noRotateScale(m) {\n    return isAroundZero(m[0] - 1)\n        && isAroundZero(m[1])\n        && isAroundZero(m[2])\n        && isAroundZero(m[3] - 1);\n}\nfunction noTranslate(m) {\n    return isAroundZero(m[4]) && isAroundZero(m[5]);\n}\nfunction setTransform(attrs, m, compress) {\n    if (m && !(noTranslate(m) && noRotateScale(m))) {\n        var mul = compress ? 10 : 1e4;\n        attrs.transform = noRotateScale(m)\n            ? \"translate(\" + round(m[4] * mul) / mul + \" \" + round(m[5] * mul) / mul + \")\" : getMatrixStr(m);\n    }\n}\nfunction convertPolyShape(shape, attrs, mul) {\n    var points = shape.points;\n    var strArr = [];\n    for (var i = 0; i < points.length; i++) {\n        strArr.push(round(points[i][0] * mul) / mul);\n        strArr.push(round(points[i][1] * mul) / mul);\n    }\n    attrs.points = strArr.join(' ');\n}\nfunction validatePolyShape(shape) {\n    return !shape.smooth;\n}\nfunction createAttrsConvert(desc) {\n    var normalizedDesc = map(desc, function (item) {\n        return (typeof item === 'string' ? [item, item] : item);\n    });\n    return function (shape, attrs, mul) {\n        for (var i = 0; i < normalizedDesc.length; i++) {\n            var item = normalizedDesc[i];\n            var val = shape[item[0]];\n            if (val != null) {\n                attrs[item[1]] = round(val * mul) / mul;\n            }\n        }\n    };\n}\nvar builtinShapesDef = {\n    circle: [createAttrsConvert(['cx', 'cy', 'r'])],\n    polyline: [convertPolyShape, validatePolyShape],\n    polygon: [convertPolyShape, validatePolyShape]\n};\nfunction hasShapeAnimation(el) {\n    var animators = el.animators;\n    for (var i = 0; i < animators.length; i++) {\n        if (animators[i].targetName === 'shape') {\n            return true;\n        }\n    }\n    return false;\n}\nexport function brushSVGPath(el, scope) {\n    var style = el.style;\n    var shape = el.shape;\n    var builtinShpDef = builtinShapesDef[el.type];\n    var attrs = {};\n    var needsAnimate = scope.animation;\n    var svgElType = 'path';\n    var strokePercent = el.style.strokePercent;\n    var precision = (scope.compress && getPathPrecision(el)) || 4;\n    if (builtinShpDef\n        && !scope.willUpdate\n        && !(builtinShpDef[1] && !builtinShpDef[1](shape))\n        && !(needsAnimate && hasShapeAnimation(el))\n        && !(strokePercent < 1)) {\n        svgElType = el.type;\n        var mul = Math.pow(10, precision);\n        builtinShpDef[0](shape, attrs, mul);\n    }\n    else {\n        var needBuildPath = !el.path || el.shapeChanged();\n        if (!el.path) {\n            el.createPathProxy();\n        }\n        var path = el.path;\n        if (needBuildPath) {\n            path.beginPath();\n            el.buildPath(path, el.shape);\n            el.pathUpdated();\n        }\n        var pathVersion = path.getVersion();\n        var elExt = el;\n        var svgPathBuilder = elExt.__svgPathBuilder;\n        if (elExt.__svgPathVersion !== pathVersion\n            || !svgPathBuilder\n            || strokePercent !== elExt.__svgPathStrokePercent) {\n            if (!svgPathBuilder) {\n                svgPathBuilder = elExt.__svgPathBuilder = new SVGPathRebuilder();\n            }\n            svgPathBuilder.reset(precision);\n            path.rebuildPath(svgPathBuilder, strokePercent);\n            svgPathBuilder.generateStr();\n            elExt.__svgPathVersion = pathVersion;\n            elExt.__svgPathStrokePercent = strokePercent;\n        }\n        attrs.d = svgPathBuilder.getStr();\n    }\n    setTransform(attrs, el.transform);\n    setStyleAttrs(attrs, style, el, scope);\n    setMetaData(attrs, el);\n    scope.animation && createCSSAnimation(el, attrs, scope);\n    scope.emphasis && createCSSEmphasis(el, attrs, scope);\n    return createVNode(svgElType, el.id + '', attrs);\n}\nexport function brushSVGImage(el, scope) {\n    var style = el.style;\n    var image = style.image;\n    if (image && !isString(image)) {\n        if (isImageLike(image)) {\n            image = image.src;\n        }\n        else if (isCanvasLike(image)) {\n            image = image.toDataURL();\n        }\n    }\n    if (!image) {\n        return;\n    }\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var dw = style.width;\n    var dh = style.height;\n    var attrs = {\n        href: image,\n        width: dw,\n        height: dh\n    };\n    if (x) {\n        attrs.x = x;\n    }\n    if (y) {\n        attrs.y = y;\n    }\n    setTransform(attrs, el.transform);\n    setStyleAttrs(attrs, style, el, scope);\n    setMetaData(attrs, el);\n    scope.animation && createCSSAnimation(el, attrs, scope);\n    return createVNode('image', el.id + '', attrs);\n}\n;\nexport function brushSVGTSpan(el, scope) {\n    var style = el.style;\n    var text = style.text;\n    text != null && (text += '');\n    if (!text || isNaN(style.x) || isNaN(style.y)) {\n        return;\n    }\n    var font = style.font || DEFAULT_FONT;\n    var x = style.x || 0;\n    var y = adjustTextY(style.y || 0, getLineHeight(font), style.textBaseline);\n    var textAlign = TEXT_ALIGN_TO_ANCHOR[style.textAlign]\n        || style.textAlign;\n    var attrs = {\n        'dominant-baseline': 'central',\n        'text-anchor': textAlign\n    };\n    if (hasSeparateFont(style)) {\n        var separatedFontStr = '';\n        var fontStyle = style.fontStyle;\n        var fontSize = parseFontSize(style.fontSize);\n        if (!parseFloat(fontSize)) {\n            return;\n        }\n        var fontFamily = style.fontFamily || DEFAULT_FONT_FAMILY;\n        var fontWeight = style.fontWeight;\n        separatedFontStr += \"font-size:\" + fontSize + \";font-family:\" + fontFamily + \";\";\n        if (fontStyle && fontStyle !== 'normal') {\n            separatedFontStr += \"font-style:\" + fontStyle + \";\";\n        }\n        if (fontWeight && fontWeight !== 'normal') {\n            separatedFontStr += \"font-weight:\" + fontWeight + \";\";\n        }\n        attrs.style = separatedFontStr;\n    }\n    else {\n        attrs.style = \"font: \" + font;\n    }\n    if (text.match(/\\s/)) {\n        attrs['xml:space'] = 'preserve';\n    }\n    if (x) {\n        attrs.x = x;\n    }\n    if (y) {\n        attrs.y = y;\n    }\n    setTransform(attrs, el.transform);\n    setStyleAttrs(attrs, style, el, scope);\n    setMetaData(attrs, el);\n    scope.animation && createCSSAnimation(el, attrs, scope);\n    return createVNode('text', el.id + '', attrs, undefined, text);\n}\nexport function brush(el, scope) {\n    if (el instanceof Path) {\n        return brushSVGPath(el, scope);\n    }\n    else if (el instanceof ZRImage) {\n        return brushSVGImage(el, scope);\n    }\n    else if (el instanceof TSpan) {\n        return brushSVGTSpan(el, scope);\n    }\n}\nfunction setShadow(el, attrs, scope) {\n    var style = el.style;\n    if (hasShadow(style)) {\n        var shadowKey = getShadowKey(el);\n        var shadowCache = scope.shadowCache;\n        var shadowId = shadowCache[shadowKey];\n        if (!shadowId) {\n            var globalScale = el.getGlobalScale();\n            var scaleX = globalScale[0];\n            var scaleY = globalScale[1];\n            if (!scaleX || !scaleY) {\n                return;\n            }\n            var offsetX = style.shadowOffsetX || 0;\n            var offsetY = style.shadowOffsetY || 0;\n            var blur_1 = style.shadowBlur;\n            var _a = normalizeColor(style.shadowColor), opacity = _a.opacity, color = _a.color;\n            var stdDx = blur_1 / 2 / scaleX;\n            var stdDy = blur_1 / 2 / scaleY;\n            var stdDeviation = stdDx + ' ' + stdDy;\n            shadowId = scope.zrId + '-s' + scope.shadowIdx++;\n            scope.defs[shadowId] = createVNode('filter', shadowId, {\n                'id': shadowId,\n                'x': '-100%',\n                'y': '-100%',\n                'width': '300%',\n                'height': '300%'\n            }, [\n                createVNode('feDropShadow', '', {\n                    'dx': offsetX / scaleX,\n                    'dy': offsetY / scaleY,\n                    'stdDeviation': stdDeviation,\n                    'flood-color': color,\n                    'flood-opacity': opacity\n                })\n            ]);\n            shadowCache[shadowKey] = shadowId;\n        }\n        attrs.filter = getIdURL(shadowId);\n    }\n}\nexport function setGradient(style, attrs, target, scope) {\n    var val = style[target];\n    var gradientTag;\n    var gradientAttrs = {\n        'gradientUnits': val.global\n            ? 'userSpaceOnUse'\n            : 'objectBoundingBox'\n    };\n    if (isLinearGradient(val)) {\n        gradientTag = 'linearGradient';\n        gradientAttrs.x1 = val.x;\n        gradientAttrs.y1 = val.y;\n        gradientAttrs.x2 = val.x2;\n        gradientAttrs.y2 = val.y2;\n    }\n    else if (isRadialGradient(val)) {\n        gradientTag = 'radialGradient';\n        gradientAttrs.cx = retrieve2(val.x, 0.5);\n        gradientAttrs.cy = retrieve2(val.y, 0.5);\n        gradientAttrs.r = retrieve2(val.r, 0.5);\n    }\n    else {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('Illegal gradient type.');\n        }\n        return;\n    }\n    var colors = val.colorStops;\n    var colorStops = [];\n    for (var i = 0, len = colors.length; i < len; ++i) {\n        var offset = round4(colors[i].offset) * 100 + '%';\n        var stopColor = colors[i].color;\n        var _a = normalizeColor(stopColor), color = _a.color, opacity = _a.opacity;\n        var stopsAttrs = {\n            'offset': offset\n        };\n        stopsAttrs['stop-color'] = color;\n        if (opacity < 1) {\n            stopsAttrs['stop-opacity'] = opacity;\n        }\n        colorStops.push(createVNode('stop', i + '', stopsAttrs));\n    }\n    var gradientVNode = createVNode(gradientTag, '', gradientAttrs, colorStops);\n    var gradientKey = vNodeToString(gradientVNode);\n    var gradientCache = scope.gradientCache;\n    var gradientId = gradientCache[gradientKey];\n    if (!gradientId) {\n        gradientId = scope.zrId + '-g' + scope.gradientIdx++;\n        gradientCache[gradientKey] = gradientId;\n        gradientAttrs.id = gradientId;\n        scope.defs[gradientId] = createVNode(gradientTag, gradientId, gradientAttrs, colorStops);\n    }\n    attrs[target] = getIdURL(gradientId);\n}\nexport function setPattern(el, attrs, target, scope) {\n    var val = el.style[target];\n    var boundingRect = el.getBoundingRect();\n    var patternAttrs = {};\n    var repeat = val.repeat;\n    var noRepeat = repeat === 'no-repeat';\n    var repeatX = repeat === 'repeat-x';\n    var repeatY = repeat === 'repeat-y';\n    var child;\n    if (isImagePattern(val)) {\n        var imageWidth_1 = val.imageWidth;\n        var imageHeight_1 = val.imageHeight;\n        var imageSrc = void 0;\n        var patternImage = val.image;\n        if (isString(patternImage)) {\n            imageSrc = patternImage;\n        }\n        else if (isImageLike(patternImage)) {\n            imageSrc = patternImage.src;\n        }\n        else if (isCanvasLike(patternImage)) {\n            imageSrc = patternImage.toDataURL();\n        }\n        if (typeof Image === 'undefined') {\n            var errMsg = 'Image width/height must been given explictly in svg-ssr renderer.';\n            assert(imageWidth_1, errMsg);\n            assert(imageHeight_1, errMsg);\n        }\n        else if (imageWidth_1 == null || imageHeight_1 == null) {\n            var setSizeToVNode_1 = function (vNode, img) {\n                if (vNode) {\n                    var svgEl = vNode.elm;\n                    var width = imageWidth_1 || img.width;\n                    var height = imageHeight_1 || img.height;\n                    if (vNode.tag === 'pattern') {\n                        if (repeatX) {\n                            height = 1;\n                            width /= boundingRect.width;\n                        }\n                        else if (repeatY) {\n                            width = 1;\n                            height /= boundingRect.height;\n                        }\n                    }\n                    vNode.attrs.width = width;\n                    vNode.attrs.height = height;\n                    if (svgEl) {\n                        svgEl.setAttribute('width', width);\n                        svgEl.setAttribute('height', height);\n                    }\n                }\n            };\n            var createdImage = createOrUpdateImage(imageSrc, null, el, function (img) {\n                noRepeat || setSizeToVNode_1(patternVNode, img);\n                setSizeToVNode_1(child, img);\n            });\n            if (createdImage && createdImage.width && createdImage.height) {\n                imageWidth_1 = imageWidth_1 || createdImage.width;\n                imageHeight_1 = imageHeight_1 || createdImage.height;\n            }\n        }\n        child = createVNode('image', 'img', {\n            href: imageSrc,\n            width: imageWidth_1,\n            height: imageHeight_1\n        });\n        patternAttrs.width = imageWidth_1;\n        patternAttrs.height = imageHeight_1;\n    }\n    else if (val.svgElement) {\n        child = clone(val.svgElement);\n        patternAttrs.width = val.svgWidth;\n        patternAttrs.height = val.svgHeight;\n    }\n    if (!child) {\n        return;\n    }\n    var patternWidth;\n    var patternHeight;\n    if (noRepeat) {\n        patternWidth = patternHeight = 1;\n    }\n    else if (repeatX) {\n        patternHeight = 1;\n        patternWidth = patternAttrs.width / boundingRect.width;\n    }\n    else if (repeatY) {\n        patternWidth = 1;\n        patternHeight = patternAttrs.height / boundingRect.height;\n    }\n    else {\n        patternAttrs.patternUnits = 'userSpaceOnUse';\n    }\n    if (patternWidth != null && !isNaN(patternWidth)) {\n        patternAttrs.width = patternWidth;\n    }\n    if (patternHeight != null && !isNaN(patternHeight)) {\n        patternAttrs.height = patternHeight;\n    }\n    var patternTransform = getSRTTransformString(val);\n    patternTransform && (patternAttrs.patternTransform = patternTransform);\n    var patternVNode = createVNode('pattern', '', patternAttrs, [child]);\n    var patternKey = vNodeToString(patternVNode);\n    var patternCache = scope.patternCache;\n    var patternId = patternCache[patternKey];\n    if (!patternId) {\n        patternId = scope.zrId + '-p' + scope.patternIdx++;\n        patternCache[patternKey] = patternId;\n        patternAttrs.id = patternId;\n        patternVNode = scope.defs[patternId] = createVNode('pattern', patternId, patternAttrs, [child]);\n    }\n    attrs[target] = getIdURL(patternId);\n}\nexport function setClipPath(clipPath, attrs, scope) {\n    var clipPathCache = scope.clipPathCache, defs = scope.defs;\n    var clipPathId = clipPathCache[clipPath.id];\n    if (!clipPathId) {\n        clipPathId = scope.zrId + '-c' + scope.clipPathIdx++;\n        var clipPathAttrs = {\n            id: clipPathId\n        };\n        clipPathCache[clipPath.id] = clipPathId;\n        defs[clipPathId] = createVNode('clipPath', clipPathId, clipPathAttrs, [brushSVGPath(clipPath, scope)]);\n    }\n    attrs['clip-path'] = getIdURL(clipPathId);\n}\n","export function createTextNode(text) {\n    return document.createTextNode(text);\n}\nexport function createComment(text) {\n    return document.createComment(text);\n}\nexport function insertBefore(parentNode, newNode, referenceNode) {\n    parentNode.insertBefore(newNode, referenceNode);\n}\nexport function removeChild(node, child) {\n    node.removeChild(child);\n}\nexport function appendChild(node, child) {\n    node.appendChild(child);\n}\nexport function parentNode(node) {\n    return node.parentNode;\n}\nexport function nextSibling(node) {\n    return node.nextSibling;\n}\nexport function tagName(elm) {\n    return elm.tagName;\n}\nexport function setTextContent(node, text) {\n    node.textContent = text;\n}\nexport function getTextContent(node) {\n    return node.textContent;\n}\nexport function isElement(node) {\n    return node.nodeType === 1;\n}\nexport function isText(node) {\n    return node.nodeType === 3;\n}\nexport function isComment(node) {\n    return node.nodeType === 8;\n}\n","import { isArray, isObject } from '../core/util.js';\nimport { createElement, createVNode, XMLNS, XML_NAMESPACE, XLINKNS } from './core.js';\nimport * as api from './domapi.js';\nvar colonChar = 58;\nvar xChar = 120;\nvar emptyNode = createVNode('', '');\nfunction isUndef(s) {\n    return s === undefined;\n}\nfunction isDef(s) {\n    return s !== undefined;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var map = {};\n    for (var i = beginIdx; i <= endIdx; ++i) {\n        var key = children[i].key;\n        if (key !== undefined) {\n            if (process.env.NODE_ENV !== 'production') {\n                if (map[key] != null) {\n                    console.error(\"Duplicate key \" + key);\n                }\n            }\n            map[key] = i;\n        }\n    }\n    return map;\n}\nfunction sameVnode(vnode1, vnode2) {\n    var isSameKey = vnode1.key === vnode2.key;\n    var isSameTag = vnode1.tag === vnode2.tag;\n    return isSameTag && isSameKey;\n}\nfunction createElm(vnode) {\n    var i;\n    var children = vnode.children;\n    var tag = vnode.tag;\n    if (isDef(tag)) {\n        var elm = (vnode.elm = createElement(tag));\n        updateAttrs(emptyNode, vnode);\n        if (isArray(children)) {\n            for (i = 0; i < children.length; ++i) {\n                var ch = children[i];\n                if (ch != null) {\n                    api.appendChild(elm, createElm(ch));\n                }\n            }\n        }\n        else if (isDef(vnode.text) && !isObject(vnode.text)) {\n            api.appendChild(elm, api.createTextNode(vnode.text));\n        }\n    }\n    else {\n        vnode.elm = api.createTextNode(vnode.text);\n    }\n    return vnode.elm;\n}\nfunction addVnodes(parentElm, before, vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        var ch = vnodes[startIdx];\n        if (ch != null) {\n            api.insertBefore(parentElm, createElm(ch), before);\n        }\n    }\n}\nfunction removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        var ch = vnodes[startIdx];\n        if (ch != null) {\n            if (isDef(ch.tag)) {\n                var parent_1 = api.parentNode(ch.elm);\n                api.removeChild(parent_1, ch.elm);\n            }\n            else {\n                api.removeChild(parentElm, ch.elm);\n            }\n        }\n    }\n}\nexport function updateAttrs(oldVnode, vnode) {\n    var key;\n    var elm = vnode.elm;\n    var oldAttrs = oldVnode && oldVnode.attrs || {};\n    var attrs = vnode.attrs || {};\n    if (oldAttrs === attrs) {\n        return;\n    }\n    for (key in attrs) {\n        var cur = attrs[key];\n        var old = oldAttrs[key];\n        if (old !== cur) {\n            if (cur === true) {\n                elm.setAttribute(key, '');\n            }\n            else if (cur === false) {\n                elm.removeAttribute(key);\n            }\n            else {\n                if (key === 'style') {\n                    elm.style.cssText = cur;\n                }\n                else if (key.charCodeAt(0) !== xChar) {\n                    elm.setAttribute(key, cur);\n                }\n                else if (key === 'xmlns:xlink' || key === 'xmlns') {\n                    elm.setAttributeNS(XMLNS, key, cur);\n                }\n                else if (key.charCodeAt(3) === colonChar) {\n                    elm.setAttributeNS(XML_NAMESPACE, key, cur);\n                }\n                else if (key.charCodeAt(5) === colonChar) {\n                    elm.setAttributeNS(XLINKNS, key, cur);\n                }\n                else {\n                    elm.setAttribute(key, cur);\n                }\n            }\n        }\n    }\n    for (key in oldAttrs) {\n        if (!(key in attrs)) {\n            elm.removeAttribute(key);\n        }\n    }\n}\nfunction updateChildren(parentElm, oldCh, newCh) {\n    var oldStartIdx = 0;\n    var newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx;\n    var idxInOld;\n    var elmToMove;\n    var before;\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            oldStartVnode = oldCh[++oldStartIdx];\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newStartVnode)) {\n            patchVnode(oldStartVnode, newStartVnode);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (sameVnode(oldEndVnode, newEndVnode)) {\n            patchVnode(oldEndVnode, newEndVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newEndVnode)) {\n            patchVnode(oldStartVnode, newEndVnode);\n            api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldEndVnode, newStartVnode)) {\n            patchVnode(oldEndVnode, newStartVnode);\n            api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            if (isUndef(oldKeyToIdx)) {\n                oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n            }\n            idxInOld = oldKeyToIdx[newStartVnode.key];\n            if (isUndef(idxInOld)) {\n                api.insertBefore(parentElm, createElm(newStartVnode), oldStartVnode.elm);\n            }\n            else {\n                elmToMove = oldCh[idxInOld];\n                if (elmToMove.tag !== newStartVnode.tag) {\n                    api.insertBefore(parentElm, createElm(newStartVnode), oldStartVnode.elm);\n                }\n                else {\n                    patchVnode(elmToMove, newStartVnode);\n                    oldCh[idxInOld] = undefined;\n                    api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n                }\n            }\n            newStartVnode = newCh[++newStartIdx];\n        }\n    }\n    if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n        if (oldStartIdx > oldEndIdx) {\n            before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n            addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx);\n        }\n        else {\n            removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n        }\n    }\n}\nfunction patchVnode(oldVnode, vnode) {\n    var elm = (vnode.elm = oldVnode.elm);\n    var oldCh = oldVnode.children;\n    var ch = vnode.children;\n    if (oldVnode === vnode) {\n        return;\n    }\n    updateAttrs(oldVnode, vnode);\n    if (isUndef(vnode.text)) {\n        if (isDef(oldCh) && isDef(ch)) {\n            if (oldCh !== ch) {\n                updateChildren(elm, oldCh, ch);\n            }\n        }\n        else if (isDef(ch)) {\n            if (isDef(oldVnode.text)) {\n                api.setTextContent(elm, '');\n            }\n            addVnodes(elm, null, ch, 0, ch.length - 1);\n        }\n        else if (isDef(oldCh)) {\n            removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n        }\n        else if (isDef(oldVnode.text)) {\n            api.setTextContent(elm, '');\n        }\n    }\n    else if (oldVnode.text !== vnode.text) {\n        if (isDef(oldCh)) {\n            removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n        }\n        api.setTextContent(elm, vnode.text);\n    }\n}\nexport default function patch(oldVnode, vnode) {\n    if (sameVnode(oldVnode, vnode)) {\n        patchVnode(oldVnode, vnode);\n    }\n    else {\n        var elm = oldVnode.elm;\n        var parent_2 = api.parentNode(elm);\n        createElm(vnode);\n        if (parent_2 !== null) {\n            api.insertBefore(parent_2, vnode.elm, api.nextSibling(elm));\n            removeVnodes(parent_2, [oldVnode], 0, 0);\n        }\n    }\n    return vnode;\n}\n","import { brush, setClipPath, setGradient, setPattern } from './graphic.js';\nimport { createElement, createVNode, vNodeToString, getCssString, createBrushScope, createSVGVNode } from './core.js';\nimport { normalizeColor, encodeBase64, isGradient, isPattern } from './helper.js';\nimport { extend, keys, logError, map, noop, retrieve2 } from '../core/util.js';\nimport patch, { updateAttrs } from './patch.js';\nimport { getSize } from '../canvas/helper.js';\nvar svgId = 0;\nvar SVGPainter = (function () {\n    function SVGPainter(root, storage, opts) {\n        this.type = 'svg';\n        this.refreshHover = createMethodNotSupport('refreshHover');\n        this.configLayer = createMethodNotSupport('configLayer');\n        this.storage = storage;\n        this._opts = opts = extend({}, opts);\n        this.root = root;\n        this._id = 'zr' + svgId++;\n        this._oldVNode = createSVGVNode(opts.width, opts.height);\n        if (root && !opts.ssr) {\n            var viewport = this._viewport = document.createElement('div');\n            viewport.style.cssText = 'position:relative;overflow:hidden';\n            var svgDom = this._svgDom = this._oldVNode.elm = createElement('svg');\n            updateAttrs(null, this._oldVNode);\n            viewport.appendChild(svgDom);\n            root.appendChild(viewport);\n        }\n        this.resize(opts.width, opts.height);\n    }\n    SVGPainter.prototype.getType = function () {\n        return this.type;\n    };\n    SVGPainter.prototype.getViewportRoot = function () {\n        return this._viewport;\n    };\n    SVGPainter.prototype.getViewportRootOffset = function () {\n        var viewportRoot = this.getViewportRoot();\n        if (viewportRoot) {\n            return {\n                offsetLeft: viewportRoot.offsetLeft || 0,\n                offsetTop: viewportRoot.offsetTop || 0\n            };\n        }\n    };\n    SVGPainter.prototype.getSvgDom = function () {\n        return this._svgDom;\n    };\n    SVGPainter.prototype.refresh = function () {\n        if (this.root) {\n            var vnode = this.renderToVNode({\n                willUpdate: true\n            });\n            vnode.attrs.style = 'position:absolute;left:0;top:0;user-select:none';\n            patch(this._oldVNode, vnode);\n            this._oldVNode = vnode;\n        }\n    };\n    SVGPainter.prototype.renderOneToVNode = function (el) {\n        return brush(el, createBrushScope(this._id));\n    };\n    SVGPainter.prototype.renderToVNode = function (opts) {\n        opts = opts || {};\n        var list = this.storage.getDisplayList(true);\n        var width = this._width;\n        var height = this._height;\n        var scope = createBrushScope(this._id);\n        scope.animation = opts.animation;\n        scope.willUpdate = opts.willUpdate;\n        scope.compress = opts.compress;\n        scope.emphasis = opts.emphasis;\n        var children = [];\n        var bgVNode = this._bgVNode = createBackgroundVNode(width, height, this._backgroundColor, scope);\n        bgVNode && children.push(bgVNode);\n        var mainVNode = !opts.compress\n            ? (this._mainVNode = createVNode('g', 'main', {}, [])) : null;\n        this._paintList(list, scope, mainVNode ? mainVNode.children : children);\n        mainVNode && children.push(mainVNode);\n        var defs = map(keys(scope.defs), function (id) { return scope.defs[id]; });\n        if (defs.length) {\n            children.push(createVNode('defs', 'defs', {}, defs));\n        }\n        if (opts.animation) {\n            var animationCssStr = getCssString(scope.cssNodes, scope.cssAnims, { newline: true });\n            if (animationCssStr) {\n                var styleNode = createVNode('style', 'stl', {}, [], animationCssStr);\n                children.push(styleNode);\n            }\n        }\n        return createSVGVNode(width, height, children, opts.useViewBox);\n    };\n    SVGPainter.prototype.renderToString = function (opts) {\n        opts = opts || {};\n        return vNodeToString(this.renderToVNode({\n            animation: retrieve2(opts.cssAnimation, true),\n            emphasis: retrieve2(opts.cssEmphasis, true),\n            willUpdate: false,\n            compress: true,\n            useViewBox: retrieve2(opts.useViewBox, true)\n        }), { newline: true });\n    };\n    SVGPainter.prototype.setBackgroundColor = function (backgroundColor) {\n        this._backgroundColor = backgroundColor;\n    };\n    SVGPainter.prototype.getSvgRoot = function () {\n        return this._mainVNode && this._mainVNode.elm;\n    };\n    SVGPainter.prototype._paintList = function (list, scope, out) {\n        var listLen = list.length;\n        var clipPathsGroupsStack = [];\n        var clipPathsGroupsStackDepth = 0;\n        var currentClipPathGroup;\n        var prevClipPaths;\n        var clipGroupNodeIdx = 0;\n        for (var i = 0; i < listLen; i++) {\n            var displayable = list[i];\n            if (!displayable.invisible) {\n                var clipPaths = displayable.__clipPaths;\n                var len = clipPaths && clipPaths.length || 0;\n                var prevLen = prevClipPaths && prevClipPaths.length || 0;\n                var lca = void 0;\n                for (lca = Math.max(len - 1, prevLen - 1); lca >= 0; lca--) {\n                    if (clipPaths && prevClipPaths\n                        && clipPaths[lca] === prevClipPaths[lca]) {\n                        break;\n                    }\n                }\n                for (var i_1 = prevLen - 1; i_1 > lca; i_1--) {\n                    clipPathsGroupsStackDepth--;\n                    currentClipPathGroup = clipPathsGroupsStack[clipPathsGroupsStackDepth - 1];\n                }\n                for (var i_2 = lca + 1; i_2 < len; i_2++) {\n                    var groupAttrs = {};\n                    setClipPath(clipPaths[i_2], groupAttrs, scope);\n                    var g = createVNode('g', 'clip-g-' + clipGroupNodeIdx++, groupAttrs, []);\n                    (currentClipPathGroup ? currentClipPathGroup.children : out).push(g);\n                    clipPathsGroupsStack[clipPathsGroupsStackDepth++] = g;\n                    currentClipPathGroup = g;\n                }\n                prevClipPaths = clipPaths;\n                var ret = brush(displayable, scope);\n                if (ret) {\n                    (currentClipPathGroup ? currentClipPathGroup.children : out).push(ret);\n                }\n            }\n        }\n    };\n    SVGPainter.prototype.resize = function (width, height) {\n        var opts = this._opts;\n        var root = this.root;\n        var viewport = this._viewport;\n        width != null && (opts.width = width);\n        height != null && (opts.height = height);\n        if (root && viewport) {\n            viewport.style.display = 'none';\n            width = getSize(root, 0, opts);\n            height = getSize(root, 1, opts);\n            viewport.style.display = '';\n        }\n        if (this._width !== width || this._height !== height) {\n            this._width = width;\n            this._height = height;\n            if (viewport) {\n                var viewportStyle = viewport.style;\n                viewportStyle.width = width + 'px';\n                viewportStyle.height = height + 'px';\n            }\n            if (!isPattern(this._backgroundColor)) {\n                var svgDom = this._svgDom;\n                if (svgDom) {\n                    svgDom.setAttribute('width', width);\n                    svgDom.setAttribute('height', height);\n                }\n                var bgEl = this._bgVNode && this._bgVNode.elm;\n                if (bgEl) {\n                    bgEl.setAttribute('width', width);\n                    bgEl.setAttribute('height', height);\n                }\n            }\n            else {\n                this.refresh();\n            }\n        }\n    };\n    SVGPainter.prototype.getWidth = function () {\n        return this._width;\n    };\n    SVGPainter.prototype.getHeight = function () {\n        return this._height;\n    };\n    SVGPainter.prototype.dispose = function () {\n        if (this.root) {\n            this.root.innerHTML = '';\n        }\n        this._svgDom =\n            this._viewport =\n                this.storage =\n                    this._oldVNode =\n                        this._bgVNode =\n                            this._mainVNode = null;\n    };\n    SVGPainter.prototype.clear = function () {\n        if (this._svgDom) {\n            this._svgDom.innerHTML = null;\n        }\n        this._oldVNode = null;\n    };\n    SVGPainter.prototype.toDataURL = function (base64) {\n        var str = this.renderToString();\n        var prefix = 'data:image/svg+xml;';\n        if (base64) {\n            str = encodeBase64(str);\n            return str && prefix + 'base64,' + str;\n        }\n        return prefix + 'charset=UTF-8,' + encodeURIComponent(str);\n    };\n    return SVGPainter;\n}());\nfunction createMethodNotSupport(method) {\n    return function () {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('In SVG mode painter not support method \"' + method + '\"');\n        }\n    };\n}\nfunction createBackgroundVNode(width, height, backgroundColor, scope) {\n    var bgVNode;\n    if (backgroundColor && backgroundColor !== 'none') {\n        bgVNode = createVNode('rect', 'bg', {\n            width: width,\n            height: height,\n            x: '0',\n            y: '0'\n        });\n        if (isGradient(backgroundColor)) {\n            setGradient({ fill: backgroundColor }, bgVNode.attrs, 'fill', scope);\n        }\n        else if (isPattern(backgroundColor)) {\n            setPattern({\n                style: {\n                    fill: backgroundColor\n                },\n                dirty: noop,\n                getBoundingRect: function () { return ({ width: width, height: height }); }\n            }, bgVNode.attrs, 'fill', scope);\n        }\n        else {\n            var _a = normalizeColor(backgroundColor), color = _a.color, opacity = _a.opacity;\n            bgVNode.attrs.fill = color;\n            opacity < 1 && (bgVNode.attrs['fill-opacity'] = opacity);\n        }\n    }\n    return bgVNode;\n}\nexport default SVGPainter;\n","import { __extends } from \"tslib\";\nimport * as util from '../core/util.js';\nimport { devicePixelRatio } from '../config.js';\nimport Eventful from '../core/Eventful.js';\nimport { getCanvasGradient } from './helper.js';\nimport { createCanvasPattern } from './graphic.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { REDRAW_BIT } from '../graphic/constants.js';\nimport { platformApi } from '../core/platform.js';\nfunction createDom(id, painter, dpr) {\n    var newDom = platformApi.createCanvas();\n    var width = painter.getWidth();\n    var height = painter.getHeight();\n    var newDomStyle = newDom.style;\n    if (newDomStyle) {\n        newDomStyle.position = 'absolute';\n        newDomStyle.left = '0';\n        newDomStyle.top = '0';\n        newDomStyle.width = width + 'px';\n        newDomStyle.height = height + 'px';\n        newDom.setAttribute('data-zr-dom-id', id);\n    }\n    newDom.width = width * dpr;\n    newDom.height = height * dpr;\n    return newDom;\n}\n;\nvar Layer = (function (_super) {\n    __extends(Layer, _super);\n    function Layer(id, painter, dpr) {\n        var _this = _super.call(this) || this;\n        _this.motionBlur = false;\n        _this.lastFrameAlpha = 0.7;\n        _this.dpr = 1;\n        _this.virtual = false;\n        _this.config = {};\n        _this.incremental = false;\n        _this.zlevel = 0;\n        _this.maxRepaintRectCount = 5;\n        _this.__dirty = true;\n        _this.__firstTimePaint = true;\n        _this.__used = false;\n        _this.__drawIndex = 0;\n        _this.__startIndex = 0;\n        _this.__endIndex = 0;\n        _this.__prevStartIndex = null;\n        _this.__prevEndIndex = null;\n        var dom;\n        dpr = dpr || devicePixelRatio;\n        if (typeof id === 'string') {\n            dom = createDom(id, painter, dpr);\n        }\n        else if (util.isObject(id)) {\n            dom = id;\n            id = dom.id;\n        }\n        _this.id = id;\n        _this.dom = dom;\n        var domStyle = dom.style;\n        if (domStyle) {\n            util.disableUserSelect(dom);\n            dom.onselectstart = function () { return false; };\n            domStyle.padding = '0';\n            domStyle.margin = '0';\n            domStyle.borderWidth = '0';\n        }\n        _this.painter = painter;\n        _this.dpr = dpr;\n        return _this;\n    }\n    Layer.prototype.getElementCount = function () {\n        return this.__endIndex - this.__startIndex;\n    };\n    Layer.prototype.afterBrush = function () {\n        this.__prevStartIndex = this.__startIndex;\n        this.__prevEndIndex = this.__endIndex;\n    };\n    Layer.prototype.initContext = function () {\n        this.ctx = this.dom.getContext('2d');\n        this.ctx.dpr = this.dpr;\n    };\n    Layer.prototype.setUnpainted = function () {\n        this.__firstTimePaint = true;\n    };\n    Layer.prototype.createBackBuffer = function () {\n        var dpr = this.dpr;\n        this.domBack = createDom('back-' + this.id, this.painter, dpr);\n        this.ctxBack = this.domBack.getContext('2d');\n        if (dpr !== 1) {\n            this.ctxBack.scale(dpr, dpr);\n        }\n    };\n    Layer.prototype.createRepaintRects = function (displayList, prevList, viewWidth, viewHeight) {\n        if (this.__firstTimePaint) {\n            this.__firstTimePaint = false;\n            return null;\n        }\n        var mergedRepaintRects = [];\n        var maxRepaintRectCount = this.maxRepaintRectCount;\n        var full = false;\n        var pendingRect = new BoundingRect(0, 0, 0, 0);\n        function addRectToMergePool(rect) {\n            if (!rect.isFinite() || rect.isZero()) {\n                return;\n            }\n            if (mergedRepaintRects.length === 0) {\n                var boundingRect = new BoundingRect(0, 0, 0, 0);\n                boundingRect.copy(rect);\n                mergedRepaintRects.push(boundingRect);\n            }\n            else {\n                var isMerged = false;\n                var minDeltaArea = Infinity;\n                var bestRectToMergeIdx = 0;\n                for (var i = 0; i < mergedRepaintRects.length; ++i) {\n                    var mergedRect = mergedRepaintRects[i];\n                    if (mergedRect.intersect(rect)) {\n                        var pendingRect_1 = new BoundingRect(0, 0, 0, 0);\n                        pendingRect_1.copy(mergedRect);\n                        pendingRect_1.union(rect);\n                        mergedRepaintRects[i] = pendingRect_1;\n                        isMerged = true;\n                        break;\n                    }\n                    else if (full) {\n                        pendingRect.copy(rect);\n                        pendingRect.union(mergedRect);\n                        var aArea = rect.width * rect.height;\n                        var bArea = mergedRect.width * mergedRect.height;\n                        var pendingArea = pendingRect.width * pendingRect.height;\n                        var deltaArea = pendingArea - aArea - bArea;\n                        if (deltaArea < minDeltaArea) {\n                            minDeltaArea = deltaArea;\n                            bestRectToMergeIdx = i;\n                        }\n                    }\n                }\n                if (full) {\n                    mergedRepaintRects[bestRectToMergeIdx].union(rect);\n                    isMerged = true;\n                }\n                if (!isMerged) {\n                    var boundingRect = new BoundingRect(0, 0, 0, 0);\n                    boundingRect.copy(rect);\n                    mergedRepaintRects.push(boundingRect);\n                }\n                if (!full) {\n                    full = mergedRepaintRects.length >= maxRepaintRectCount;\n                }\n            }\n        }\n        for (var i = this.__startIndex; i < this.__endIndex; ++i) {\n            var el = displayList[i];\n            if (el) {\n                var shouldPaint = el.shouldBePainted(viewWidth, viewHeight, true, true);\n                var prevRect = el.__isRendered && ((el.__dirty & REDRAW_BIT) || !shouldPaint)\n                    ? el.getPrevPaintRect()\n                    : null;\n                if (prevRect) {\n                    addRectToMergePool(prevRect);\n                }\n                var curRect = shouldPaint && ((el.__dirty & REDRAW_BIT) || !el.__isRendered)\n                    ? el.getPaintRect()\n                    : null;\n                if (curRect) {\n                    addRectToMergePool(curRect);\n                }\n            }\n        }\n        for (var i = this.__prevStartIndex; i < this.__prevEndIndex; ++i) {\n            var el = prevList[i];\n            var shouldPaint = el && el.shouldBePainted(viewWidth, viewHeight, true, true);\n            if (el && (!shouldPaint || !el.__zr) && el.__isRendered) {\n                var prevRect = el.getPrevPaintRect();\n                if (prevRect) {\n                    addRectToMergePool(prevRect);\n                }\n            }\n        }\n        var hasIntersections;\n        do {\n            hasIntersections = false;\n            for (var i = 0; i < mergedRepaintRects.length;) {\n                if (mergedRepaintRects[i].isZero()) {\n                    mergedRepaintRects.splice(i, 1);\n                    continue;\n                }\n                for (var j = i + 1; j < mergedRepaintRects.length;) {\n                    if (mergedRepaintRects[i].intersect(mergedRepaintRects[j])) {\n                        hasIntersections = true;\n                        mergedRepaintRects[i].union(mergedRepaintRects[j]);\n                        mergedRepaintRects.splice(j, 1);\n                    }\n                    else {\n                        j++;\n                    }\n                }\n                i++;\n            }\n        } while (hasIntersections);\n        this._paintRects = mergedRepaintRects;\n        return mergedRepaintRects;\n    };\n    Layer.prototype.debugGetPaintRects = function () {\n        return (this._paintRects || []).slice();\n    };\n    Layer.prototype.resize = function (width, height) {\n        var dpr = this.dpr;\n        var dom = this.dom;\n        var domStyle = dom.style;\n        var domBack = this.domBack;\n        if (domStyle) {\n            domStyle.width = width + 'px';\n            domStyle.height = height + 'px';\n        }\n        dom.width = width * dpr;\n        dom.height = height * dpr;\n        if (domBack) {\n            domBack.width = width * dpr;\n            domBack.height = height * dpr;\n            if (dpr !== 1) {\n                this.ctxBack.scale(dpr, dpr);\n            }\n        }\n    };\n    Layer.prototype.clear = function (clearAll, clearColor, repaintRects) {\n        var dom = this.dom;\n        var ctx = this.ctx;\n        var width = dom.width;\n        var height = dom.height;\n        clearColor = clearColor || this.clearColor;\n        var haveMotionBLur = this.motionBlur && !clearAll;\n        var lastFrameAlpha = this.lastFrameAlpha;\n        var dpr = this.dpr;\n        var self = this;\n        if (haveMotionBLur) {\n            if (!this.domBack) {\n                this.createBackBuffer();\n            }\n            this.ctxBack.globalCompositeOperation = 'copy';\n            this.ctxBack.drawImage(dom, 0, 0, width / dpr, height / dpr);\n        }\n        var domBack = this.domBack;\n        function doClear(x, y, width, height) {\n            ctx.clearRect(x, y, width, height);\n            if (clearColor && clearColor !== 'transparent') {\n                var clearColorGradientOrPattern = void 0;\n                if (util.isGradientObject(clearColor)) {\n                    var shouldCache = clearColor.global || (clearColor.__width === width\n                        && clearColor.__height === height);\n                    clearColorGradientOrPattern = shouldCache\n                        && clearColor.__canvasGradient\n                        || getCanvasGradient(ctx, clearColor, {\n                            x: 0,\n                            y: 0,\n                            width: width,\n                            height: height\n                        });\n                    clearColor.__canvasGradient = clearColorGradientOrPattern;\n                    clearColor.__width = width;\n                    clearColor.__height = height;\n                }\n                else if (util.isImagePatternObject(clearColor)) {\n                    clearColor.scaleX = clearColor.scaleX || dpr;\n                    clearColor.scaleY = clearColor.scaleY || dpr;\n                    clearColorGradientOrPattern = createCanvasPattern(ctx, clearColor, {\n                        dirty: function () {\n                            self.setUnpainted();\n                            self.painter.refresh();\n                        }\n                    });\n                }\n                ctx.save();\n                ctx.fillStyle = clearColorGradientOrPattern || clearColor;\n                ctx.fillRect(x, y, width, height);\n                ctx.restore();\n            }\n            if (haveMotionBLur) {\n                ctx.save();\n                ctx.globalAlpha = lastFrameAlpha;\n                ctx.drawImage(domBack, x, y, width, height);\n                ctx.restore();\n            }\n        }\n        ;\n        if (!repaintRects || haveMotionBLur) {\n            doClear(0, 0, width, height);\n        }\n        else if (repaintRects.length) {\n            util.each(repaintRects, function (rect) {\n                doClear(rect.x * dpr, rect.y * dpr, rect.width * dpr, rect.height * dpr);\n            });\n        }\n    };\n    return Layer;\n}(Eventful));\nexport default Layer;\n","import { devicePixelRatio } from '../config.js';\nimport * as util from '../core/util.js';\nimport Layer from './Layer.js';\nimport requestAnimationFrame from '../animation/requestAnimationFrame.js';\nimport env from '../core/env.js';\nimport { brush, brushSingle } from './graphic.js';\nimport { REDRAW_BIT } from '../graphic/constants.js';\nimport { getSize } from './helper.js';\nvar HOVER_LAYER_ZLEVEL = 1e5;\nvar CANVAS_ZLEVEL = 314159;\nvar EL_AFTER_INCREMENTAL_INC = 0.01;\nvar INCREMENTAL_INC = 0.001;\nfunction isLayerValid(layer) {\n    if (!layer) {\n        return false;\n    }\n    if (layer.__builtin__) {\n        return true;\n    }\n    if (typeof (layer.resize) !== 'function'\n        || typeof (layer.refresh) !== 'function') {\n        return false;\n    }\n    return true;\n}\nfunction createRoot(width, height) {\n    var domRoot = document.createElement('div');\n    domRoot.style.cssText = [\n        'position:relative',\n        'width:' + width + 'px',\n        'height:' + height + 'px',\n        'padding:0',\n        'margin:0',\n        'border-width:0'\n    ].join(';') + ';';\n    return domRoot;\n}\nvar CanvasPainter = (function () {\n    function CanvasPainter(root, storage, opts, id) {\n        this.type = 'canvas';\n        this._zlevelList = [];\n        this._prevDisplayList = [];\n        this._layers = {};\n        this._layerConfig = {};\n        this._needsManuallyCompositing = false;\n        this.type = 'canvas';\n        var singleCanvas = !root.nodeName\n            || root.nodeName.toUpperCase() === 'CANVAS';\n        this._opts = opts = util.extend({}, opts || {});\n        this.dpr = opts.devicePixelRatio || devicePixelRatio;\n        this._singleCanvas = singleCanvas;\n        this.root = root;\n        var rootStyle = root.style;\n        if (rootStyle) {\n            util.disableUserSelect(root);\n            root.innerHTML = '';\n        }\n        this.storage = storage;\n        var zlevelList = this._zlevelList;\n        this._prevDisplayList = [];\n        var layers = this._layers;\n        if (!singleCanvas) {\n            this._width = getSize(root, 0, opts);\n            this._height = getSize(root, 1, opts);\n            var domRoot = this._domRoot = createRoot(this._width, this._height);\n            root.appendChild(domRoot);\n        }\n        else {\n            var rootCanvas = root;\n            var width = rootCanvas.width;\n            var height = rootCanvas.height;\n            if (opts.width != null) {\n                width = opts.width;\n            }\n            if (opts.height != null) {\n                height = opts.height;\n            }\n            this.dpr = opts.devicePixelRatio || 1;\n            rootCanvas.width = width * this.dpr;\n            rootCanvas.height = height * this.dpr;\n            this._width = width;\n            this._height = height;\n            var mainLayer = new Layer(rootCanvas, this, this.dpr);\n            mainLayer.__builtin__ = true;\n            mainLayer.initContext();\n            layers[CANVAS_ZLEVEL] = mainLayer;\n            mainLayer.zlevel = CANVAS_ZLEVEL;\n            zlevelList.push(CANVAS_ZLEVEL);\n            this._domRoot = root;\n        }\n    }\n    CanvasPainter.prototype.getType = function () {\n        return 'canvas';\n    };\n    CanvasPainter.prototype.isSingleCanvas = function () {\n        return this._singleCanvas;\n    };\n    CanvasPainter.prototype.getViewportRoot = function () {\n        return this._domRoot;\n    };\n    CanvasPainter.prototype.getViewportRootOffset = function () {\n        var viewportRoot = this.getViewportRoot();\n        if (viewportRoot) {\n            return {\n                offsetLeft: viewportRoot.offsetLeft || 0,\n                offsetTop: viewportRoot.offsetTop || 0\n            };\n        }\n    };\n    CanvasPainter.prototype.refresh = function (paintAll) {\n        var list = this.storage.getDisplayList(true);\n        var prevList = this._prevDisplayList;\n        var zlevelList = this._zlevelList;\n        this._redrawId = Math.random();\n        this._paintList(list, prevList, paintAll, this._redrawId);\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            var layer = this._layers[z];\n            if (!layer.__builtin__ && layer.refresh) {\n                var clearColor = i === 0 ? this._backgroundColor : null;\n                layer.refresh(clearColor);\n            }\n        }\n        if (this._opts.useDirtyRect) {\n            this._prevDisplayList = list.slice();\n        }\n        return this;\n    };\n    CanvasPainter.prototype.refreshHover = function () {\n        this._paintHoverList(this.storage.getDisplayList(false));\n    };\n    CanvasPainter.prototype._paintHoverList = function (list) {\n        var len = list.length;\n        var hoverLayer = this._hoverlayer;\n        hoverLayer && hoverLayer.clear();\n        if (!len) {\n            return;\n        }\n        var scope = {\n            inHover: true,\n            viewWidth: this._width,\n            viewHeight: this._height\n        };\n        var ctx;\n        for (var i = 0; i < len; i++) {\n            var el = list[i];\n            if (el.__inHover) {\n                if (!hoverLayer) {\n                    hoverLayer = this._hoverlayer = this.getLayer(HOVER_LAYER_ZLEVEL);\n                }\n                if (!ctx) {\n                    ctx = hoverLayer.ctx;\n                    ctx.save();\n                }\n                brush(ctx, el, scope, i === len - 1);\n            }\n        }\n        if (ctx) {\n            ctx.restore();\n        }\n    };\n    CanvasPainter.prototype.getHoverLayer = function () {\n        return this.getLayer(HOVER_LAYER_ZLEVEL);\n    };\n    CanvasPainter.prototype.paintOne = function (ctx, el) {\n        brushSingle(ctx, el);\n    };\n    CanvasPainter.prototype._paintList = function (list, prevList, paintAll, redrawId) {\n        if (this._redrawId !== redrawId) {\n            return;\n        }\n        paintAll = paintAll || false;\n        this._updateLayerStatus(list);\n        var _a = this._doPaintList(list, prevList, paintAll), finished = _a.finished, needsRefreshHover = _a.needsRefreshHover;\n        if (this._needsManuallyCompositing) {\n            this._compositeManually();\n        }\n        if (needsRefreshHover) {\n            this._paintHoverList(list);\n        }\n        if (!finished) {\n            var self_1 = this;\n            requestAnimationFrame(function () {\n                self_1._paintList(list, prevList, paintAll, redrawId);\n            });\n        }\n        else {\n            this.eachLayer(function (layer) {\n                layer.afterBrush && layer.afterBrush();\n            });\n        }\n    };\n    CanvasPainter.prototype._compositeManually = function () {\n        var ctx = this.getLayer(CANVAS_ZLEVEL).ctx;\n        var width = this._domRoot.width;\n        var height = this._domRoot.height;\n        ctx.clearRect(0, 0, width, height);\n        this.eachBuiltinLayer(function (layer) {\n            if (layer.virtual) {\n                ctx.drawImage(layer.dom, 0, 0, width, height);\n            }\n        });\n    };\n    CanvasPainter.prototype._doPaintList = function (list, prevList, paintAll) {\n        var _this = this;\n        var layerList = [];\n        var useDirtyRect = this._opts.useDirtyRect;\n        for (var zi = 0; zi < this._zlevelList.length; zi++) {\n            var zlevel = this._zlevelList[zi];\n            var layer = this._layers[zlevel];\n            if (layer.__builtin__\n                && layer !== this._hoverlayer\n                && (layer.__dirty || paintAll)) {\n                layerList.push(layer);\n            }\n        }\n        var finished = true;\n        var needsRefreshHover = false;\n        var _loop_1 = function (k) {\n            var layer = layerList[k];\n            var ctx = layer.ctx;\n            var repaintRects = useDirtyRect\n                && layer.createRepaintRects(list, prevList, this_1._width, this_1._height);\n            var start = paintAll ? layer.__startIndex : layer.__drawIndex;\n            var useTimer = !paintAll && layer.incremental && Date.now;\n            var startTime = useTimer && Date.now();\n            var clearColor = layer.zlevel === this_1._zlevelList[0]\n                ? this_1._backgroundColor : null;\n            if (layer.__startIndex === layer.__endIndex) {\n                layer.clear(false, clearColor, repaintRects);\n            }\n            else if (start === layer.__startIndex) {\n                var firstEl = list[start];\n                if (!firstEl.incremental || !firstEl.notClear || paintAll) {\n                    layer.clear(false, clearColor, repaintRects);\n                }\n            }\n            if (start === -1) {\n                console.error('For some unknown reason. drawIndex is -1');\n                start = layer.__startIndex;\n            }\n            var i;\n            var repaint = function (repaintRect) {\n                var scope = {\n                    inHover: false,\n                    allClipped: false,\n                    prevEl: null,\n                    viewWidth: _this._width,\n                    viewHeight: _this._height\n                };\n                for (i = start; i < layer.__endIndex; i++) {\n                    var el = list[i];\n                    if (el.__inHover) {\n                        needsRefreshHover = true;\n                    }\n                    _this._doPaintEl(el, layer, useDirtyRect, repaintRect, scope, i === layer.__endIndex - 1);\n                    if (useTimer) {\n                        var dTime = Date.now() - startTime;\n                        if (dTime > 15) {\n                            break;\n                        }\n                    }\n                }\n                if (scope.prevElClipPaths) {\n                    ctx.restore();\n                }\n            };\n            if (repaintRects) {\n                if (repaintRects.length === 0) {\n                    i = layer.__endIndex;\n                }\n                else {\n                    var dpr = this_1.dpr;\n                    for (var r = 0; r < repaintRects.length; ++r) {\n                        var rect = repaintRects[r];\n                        ctx.save();\n                        ctx.beginPath();\n                        ctx.rect(rect.x * dpr, rect.y * dpr, rect.width * dpr, rect.height * dpr);\n                        ctx.clip();\n                        repaint(rect);\n                        ctx.restore();\n                    }\n                }\n            }\n            else {\n                ctx.save();\n                repaint();\n                ctx.restore();\n            }\n            layer.__drawIndex = i;\n            if (layer.__drawIndex < layer.__endIndex) {\n                finished = false;\n            }\n        };\n        var this_1 = this;\n        for (var k = 0; k < layerList.length; k++) {\n            _loop_1(k);\n        }\n        if (env.wxa) {\n            util.each(this._layers, function (layer) {\n                if (layer && layer.ctx && layer.ctx.draw) {\n                    layer.ctx.draw();\n                }\n            });\n        }\n        return {\n            finished: finished,\n            needsRefreshHover: needsRefreshHover\n        };\n    };\n    CanvasPainter.prototype._doPaintEl = function (el, currentLayer, useDirtyRect, repaintRect, scope, isLast) {\n        var ctx = currentLayer.ctx;\n        if (useDirtyRect) {\n            var paintRect = el.getPaintRect();\n            if (!repaintRect || paintRect && paintRect.intersect(repaintRect)) {\n                brush(ctx, el, scope, isLast);\n                el.setPrevPaintRect(paintRect);\n            }\n        }\n        else {\n            brush(ctx, el, scope, isLast);\n        }\n    };\n    CanvasPainter.prototype.getLayer = function (zlevel, virtual) {\n        if (this._singleCanvas && !this._needsManuallyCompositing) {\n            zlevel = CANVAS_ZLEVEL;\n        }\n        var layer = this._layers[zlevel];\n        if (!layer) {\n            layer = new Layer('zr_' + zlevel, this, this.dpr);\n            layer.zlevel = zlevel;\n            layer.__builtin__ = true;\n            if (this._layerConfig[zlevel]) {\n                util.merge(layer, this._layerConfig[zlevel], true);\n            }\n            else if (this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC]) {\n                util.merge(layer, this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC], true);\n            }\n            if (virtual) {\n                layer.virtual = virtual;\n            }\n            this.insertLayer(zlevel, layer);\n            layer.initContext();\n        }\n        return layer;\n    };\n    CanvasPainter.prototype.insertLayer = function (zlevel, layer) {\n        var layersMap = this._layers;\n        var zlevelList = this._zlevelList;\n        var len = zlevelList.length;\n        var domRoot = this._domRoot;\n        var prevLayer = null;\n        var i = -1;\n        if (layersMap[zlevel]) {\n            if (process.env.NODE_ENV !== 'production') {\n                util.logError('ZLevel ' + zlevel + ' has been used already');\n            }\n            return;\n        }\n        if (!isLayerValid(layer)) {\n            if (process.env.NODE_ENV !== 'production') {\n                util.logError('Layer of zlevel ' + zlevel + ' is not valid');\n            }\n            return;\n        }\n        if (len > 0 && zlevel > zlevelList[0]) {\n            for (i = 0; i < len - 1; i++) {\n                if (zlevelList[i] < zlevel\n                    && zlevelList[i + 1] > zlevel) {\n                    break;\n                }\n            }\n            prevLayer = layersMap[zlevelList[i]];\n        }\n        zlevelList.splice(i + 1, 0, zlevel);\n        layersMap[zlevel] = layer;\n        if (!layer.virtual) {\n            if (prevLayer) {\n                var prevDom = prevLayer.dom;\n                if (prevDom.nextSibling) {\n                    domRoot.insertBefore(layer.dom, prevDom.nextSibling);\n                }\n                else {\n                    domRoot.appendChild(layer.dom);\n                }\n            }\n            else {\n                if (domRoot.firstChild) {\n                    domRoot.insertBefore(layer.dom, domRoot.firstChild);\n                }\n                else {\n                    domRoot.appendChild(layer.dom);\n                }\n            }\n        }\n        layer.painter || (layer.painter = this);\n    };\n    CanvasPainter.prototype.eachLayer = function (cb, context) {\n        var zlevelList = this._zlevelList;\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            cb.call(context, this._layers[z], z);\n        }\n    };\n    CanvasPainter.prototype.eachBuiltinLayer = function (cb, context) {\n        var zlevelList = this._zlevelList;\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            var layer = this._layers[z];\n            if (layer.__builtin__) {\n                cb.call(context, layer, z);\n            }\n        }\n    };\n    CanvasPainter.prototype.eachOtherLayer = function (cb, context) {\n        var zlevelList = this._zlevelList;\n        for (var i = 0; i < zlevelList.length; i++) {\n            var z = zlevelList[i];\n            var layer = this._layers[z];\n            if (!layer.__builtin__) {\n                cb.call(context, layer, z);\n            }\n        }\n    };\n    CanvasPainter.prototype.getLayers = function () {\n        return this._layers;\n    };\n    CanvasPainter.prototype._updateLayerStatus = function (list) {\n        this.eachBuiltinLayer(function (layer, z) {\n            layer.__dirty = layer.__used = false;\n        });\n        function updatePrevLayer(idx) {\n            if (prevLayer) {\n                if (prevLayer.__endIndex !== idx) {\n                    prevLayer.__dirty = true;\n                }\n                prevLayer.__endIndex = idx;\n            }\n        }\n        if (this._singleCanvas) {\n            for (var i_1 = 1; i_1 < list.length; i_1++) {\n                var el = list[i_1];\n                if (el.zlevel !== list[i_1 - 1].zlevel || el.incremental) {\n                    this._needsManuallyCompositing = true;\n                    break;\n                }\n            }\n        }\n        var prevLayer = null;\n        var incrementalLayerCount = 0;\n        var prevZlevel;\n        var i;\n        for (i = 0; i < list.length; i++) {\n            var el = list[i];\n            var zlevel = el.zlevel;\n            var layer = void 0;\n            if (prevZlevel !== zlevel) {\n                prevZlevel = zlevel;\n                incrementalLayerCount = 0;\n            }\n            if (el.incremental) {\n                layer = this.getLayer(zlevel + INCREMENTAL_INC, this._needsManuallyCompositing);\n                layer.incremental = true;\n                incrementalLayerCount = 1;\n            }\n            else {\n                layer = this.getLayer(zlevel + (incrementalLayerCount > 0 ? EL_AFTER_INCREMENTAL_INC : 0), this._needsManuallyCompositing);\n            }\n            if (!layer.__builtin__) {\n                util.logError('ZLevel ' + zlevel + ' has been used by unkown layer ' + layer.id);\n            }\n            if (layer !== prevLayer) {\n                layer.__used = true;\n                if (layer.__startIndex !== i) {\n                    layer.__dirty = true;\n                }\n                layer.__startIndex = i;\n                if (!layer.incremental) {\n                    layer.__drawIndex = i;\n                }\n                else {\n                    layer.__drawIndex = -1;\n                }\n                updatePrevLayer(i);\n                prevLayer = layer;\n            }\n            if ((el.__dirty & REDRAW_BIT) && !el.__inHover) {\n                layer.__dirty = true;\n                if (layer.incremental && layer.__drawIndex < 0) {\n                    layer.__drawIndex = i;\n                }\n            }\n        }\n        updatePrevLayer(i);\n        this.eachBuiltinLayer(function (layer, z) {\n            if (!layer.__used && layer.getElementCount() > 0) {\n                layer.__dirty = true;\n                layer.__startIndex = layer.__endIndex = layer.__drawIndex = 0;\n            }\n            if (layer.__dirty && layer.__drawIndex < 0) {\n                layer.__drawIndex = layer.__startIndex;\n            }\n        });\n    };\n    CanvasPainter.prototype.clear = function () {\n        this.eachBuiltinLayer(this._clearLayer);\n        return this;\n    };\n    CanvasPainter.prototype._clearLayer = function (layer) {\n        layer.clear();\n    };\n    CanvasPainter.prototype.setBackgroundColor = function (backgroundColor) {\n        this._backgroundColor = backgroundColor;\n        util.each(this._layers, function (layer) {\n            layer.setUnpainted();\n        });\n    };\n    CanvasPainter.prototype.configLayer = function (zlevel, config) {\n        if (config) {\n            var layerConfig = this._layerConfig;\n            if (!layerConfig[zlevel]) {\n                layerConfig[zlevel] = config;\n            }\n            else {\n                util.merge(layerConfig[zlevel], config, true);\n            }\n            for (var i = 0; i < this._zlevelList.length; i++) {\n                var _zlevel = this._zlevelList[i];\n                if (_zlevel === zlevel || _zlevel === zlevel + EL_AFTER_INCREMENTAL_INC) {\n                    var layer = this._layers[_zlevel];\n                    util.merge(layer, layerConfig[zlevel], true);\n                }\n            }\n        }\n    };\n    CanvasPainter.prototype.delLayer = function (zlevel) {\n        var layers = this._layers;\n        var zlevelList = this._zlevelList;\n        var layer = layers[zlevel];\n        if (!layer) {\n            return;\n        }\n        layer.dom.parentNode.removeChild(layer.dom);\n        delete layers[zlevel];\n        zlevelList.splice(util.indexOf(zlevelList, zlevel), 1);\n    };\n    CanvasPainter.prototype.resize = function (width, height) {\n        if (!this._domRoot.style) {\n            if (width == null || height == null) {\n                return;\n            }\n            this._width = width;\n            this._height = height;\n            this.getLayer(CANVAS_ZLEVEL).resize(width, height);\n        }\n        else {\n            var domRoot = this._domRoot;\n            domRoot.style.display = 'none';\n            var opts = this._opts;\n            var root = this.root;\n            width != null && (opts.width = width);\n            height != null && (opts.height = height);\n            width = getSize(root, 0, opts);\n            height = getSize(root, 1, opts);\n            domRoot.style.display = '';\n            if (this._width !== width || height !== this._height) {\n                domRoot.style.width = width + 'px';\n                domRoot.style.height = height + 'px';\n                for (var id in this._layers) {\n                    if (this._layers.hasOwnProperty(id)) {\n                        this._layers[id].resize(width, height);\n                    }\n                }\n                this.refresh(true);\n            }\n            this._width = width;\n            this._height = height;\n        }\n        return this;\n    };\n    CanvasPainter.prototype.clearLayer = function (zlevel) {\n        var layer = this._layers[zlevel];\n        if (layer) {\n            layer.clear();\n        }\n    };\n    CanvasPainter.prototype.dispose = function () {\n        this.root.innerHTML = '';\n        this.root =\n            this.storage =\n                this._domRoot =\n                    this._layers = null;\n    };\n    CanvasPainter.prototype.getRenderedCanvas = function (opts) {\n        opts = opts || {};\n        if (this._singleCanvas && !this._compositeManually) {\n            return this._layers[CANVAS_ZLEVEL].dom;\n        }\n        var imageLayer = new Layer('image', this, opts.pixelRatio || this.dpr);\n        imageLayer.initContext();\n        imageLayer.clear(false, opts.backgroundColor || this._backgroundColor);\n        var ctx = imageLayer.ctx;\n        if (opts.pixelRatio <= this.dpr) {\n            this.refresh();\n            var width_1 = imageLayer.dom.width;\n            var height_1 = imageLayer.dom.height;\n            this.eachLayer(function (layer) {\n                if (layer.__builtin__) {\n                    ctx.drawImage(layer.dom, 0, 0, width_1, height_1);\n                }\n                else if (layer.renderToCanvas) {\n                    ctx.save();\n                    layer.renderToCanvas(ctx);\n                    ctx.restore();\n                }\n            });\n        }\n        else {\n            var scope = {\n                inHover: false,\n                viewWidth: this._width,\n                viewHeight: this._height\n            };\n            var displayList = this.storage.getDisplayList(true);\n            for (var i = 0, len = displayList.length; i < len; i++) {\n                var el = displayList[i];\n                brush(ctx, el, scope, i === len - 1);\n            }\n        }\n        return imageLayer.dom;\n    };\n    CanvasPainter.prototype.getWidth = function () {\n        return this._width;\n    };\n    CanvasPainter.prototype.getHeight = function () {\n        return this._height;\n    };\n    return CanvasPainter;\n}());\nexport default CanvasPainter;\n;\n"],"names":["Browser","this","firefox","ie","edge","newEdge","weChat","env","browser","node","wxa","worker","svgSupported","touchEventsSupported","pointerEventsSupported","domSupported","transformSupported","transform3dSupported","hasGlobalWindow","window","wx","getSystemInfoSync","document","self","navigator","userAgent","indexOf","ua","match","test","version","split","SVGRect","style","documentElement","WebKitCSSMatrix","detect","env$1","DEFAULT_FONT_SIZE","DEFAULT_FONT_FAMILY","DEFAULT_FONT","_ctx","_cachedFont","DEFAULT_TEXT_WIDTH_MAP","mapStr","map","JSON","i","length","char","String","fromCharCode","size","charCodeAt","getTextWidthMap","platformApi","createCanvas","createElement","measureText","text","font","canvas","getContext","res","exec","fontSize","width","preCalcWidth","loadImage","src","onload","onerror","image","Image","setPlatformAPI","newPlatformApis","key","BUILTIN_OBJECT","reduce","obj","val","TYPED_ARRAY","objToString","Object","prototype","toString","arrayProto","Array","nativeForEach","forEach","nativeFilter","filter","nativeSlice","slice","nativeMap","ctorFunction","constructor","protoFunction","protoKey","idStart","guid","logError","args","_i","arguments","clone","source","result","typeStr","call","isPrimitive","len","Ctor","from","isDom","hasOwnProperty","merge","target","overwrite","isObject","targetProp","sourceProp","isArray","isBuiltInObject","mergeAll","targetAndSources","extend","assign","defaults","overlay","keysArr","keys","array","value","inherits","clazz","baseClazz","clazzPrototype","F","prop","superClass","mixin","override","getOwnPropertyNames","keyList","isArrayLike","data","each","arr","cb","context","push","memo","find","bind","isFunction","func","apply","concat","curry","isString","isStringSafe","isNumber","type","isTypedArray","nodeType","ownerDocument","isGradientObject","colorStops","isImagePatternObject","isRegExp","eqNaN","retrieve","retrieve2","value0","value1","retrieve3","value2","normalizeCssArray","assert","condition","message","Error","trim","str","replace","primitiveKey","setAsPrimitive","MapPolyfill","existed","has","get","set","callback","isNativeMapSupported","Map","HashMap","isArr","thisMap","visit","hasKey","removeKey","createHashMap","concatArray","a","b","newArray","offset","createObject","proto","properties","create","StyleCtor","disableUserSelect","dom","domStyle","webkitUserSelect","userSelect","webkitTapHighlightColor","hasOwn","own","noop","RADIAN_TO_DEGREE","Math","PI","x","y","copy","out","v","add","v1","v2","scaleAndAdd","sub","sqrt","lenSquare","lengthSquare","scale","s","normalize","d","distance","dist","distanceSquare","distSquare","lerp","t","applyTransform","m","min","max","Param","e","topTarget","Draggable$1","Draggable","handler","on","_dragStart","_drag","_dragEnd","draggingTarget","draggable","parent","__hostTarget","_draggingTarget","dragging","_x","offsetX","_y","offsetY","dispatchToElement","event","dx","dy","drift","dropTarget","findHover","lastDropTarget","_dropTarget","Eventful$1","Eventful","eventProcessors","_$eventProcessor","query","_$handlers","_h","eventProcessor","normalizeQuery","h","wrap","ctx","callAtLast","zrEventfulCallAtLast","lastIndex","lastWrap","splice","isSilent","eventName","off","eventType","newList","l","trigger","argLen","hItem","afterTrigger","triggerWithContext","LN2","log","determinant","rows","rank","rowStart","rowMask","colMask","detCache","cacheKey","fullRank","colStart","round","subRowMask","subRowStart","sum","j","colLocalIdx","colTag","buildTransformer","dest","mA","det","vh","srcPointX","srcPointY","pk","EVENT_SAVED_PROP","_calcOut","transformLocalCoord","elFrom","elTarget","inX","inY","transformCoordWithViewport","el","inverse","getBoundingClientRect","isCanvasEl","saved","markers","propLR","propTB","marker","idxLR","idxTB","cssText","join","appendChild","prepareCoordMarkers","transformer","transformerName","oldSrcCoords","srcCoords","destCoords","oldCoordTheSame","rect","ii","left","top","offsetLeft","offsetTop","preparePointerTransformer","nodeName","toUpperCase","replaceReg","replaceMap","encodeHTML","c","MOUSE_EVENT_REG","firefoxNotSupportOffsetXY","clientToLocal","calculate","calculateZrXY","layerX","zrX","zrY","layerY","ex","clientX","ey","clientY","box","getNativeEvent","normalizeEvent","touch","targetTouches","changedTouches","wheelDelta","rawWheelDelta","deltaX","deltaY","abs","getWheelDeltaMayPolyfill","zrDelta","detail","button","which","addEventListener","name","opt","stop","preventDefault","stopPropagation","cancelBubble","isMiddleOrRightButtonOnMouseUpDown","GestureMgr","_track","recognize","root","_doTrack","_recognize","clear","touches","trackItem","points","pos","eventUtil.clientToLocal","recognizers","gestureInfo","pointPair","pinch","tracks","trackLen","pinchEnd","pinchPre","pinchScale","isFinite","pinchCenter","pinchX","pinchY","identity","mul","m1","m2","out0","out1","out2","out3","out4","out5","translate","rotate","rad","pivot","aa","ac","atx","ab","ad","aty","st","sin","ct","cos","vx","vy","invert","Point$1","Point","other","equal","scalar","dot","negate","transform","toArray","fromArray","input","p","p2","p0","p1","onet","mathMin","mathMax","lt","rb","lb","rt","minTv","maxTv","BoundingRect$1","BoundingRect","height","union","calculateTransform","sx","sy","matrix.scale","matrix.translate","intersect","mtv","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","overlap","dMin","Infinity","dMax","d0","d1","d2","d3","contain","plain","isZero","tx","ty","maxX","maxY","SILENT","stopEvent","eventTool.stop","EmptyProxy","_super","_this","__extends","dispose","setCursor","HoveredResult","handlerNames","tmpRect","Handler","storage","painter","proxy","painterRoot","pointerSize","_hovered","_pointerSize","setHandlerProxy","_draggingMgr","mousemove","isOutside","isOutsideBoundary","lastHovered","lastHoveredTarget","__zr","hovered","hoveredTarget","cursor","mouseout","eventControl","zrEventControl","resize","dispatch","eventArgs","setCursorStyle","cursorStyle","targetInfo","silent","eventKey","eventPacket","eveType","gestureEvent","zrByTouch","makeEventPacket","eachOtherLayer","layer","exclude","list","getDisplayList","setHoverTarget","candidates","targetSizeHalf","pointerRect","ignore","ignoreCoarsePointer","tmpRect$1","getBoundingRect","thetaStep","PI2","r","theta","processGesture","stage","_gestureMgr","gestureMgr","isHover","displayable","rectHover","ignoreClip","clipPath","getClipPath","hostEl","hoverCheckResult","handlerInstance","getWidth","getHeight","util.each","_downEl","_downPoint","_upEl","vec2.dist","Handler$1","DEFAULT_MIN_MERGE","DEFAULT_MIN_GALLOPING","makeAscendingRun","lo","hi","compare","runHi","reverseRun","binaryInsertionSort","start","mid","right","n","gallopLeft","hint","lastOffset","maxOffset","tmp","gallopRight","TimSort","runStart","runLength","minGallop","stackSize","mergeAt","start1","length1","start2","length2","k","cursor1","cursor2","count1","count2","exit","_minGallop","mergeLow","customCursor","customDest","mergeHigh","mergeRuns","forceMergeRuns","pushRun","_runStart","_runLength","sort","remaining","ts","minRun","minRunLength","force","REDRAW_BIT","SHAPE_CHANGED_BIT","invalidZErrorLogged","logInvalidZError","shapeCompareFunc","zlevel","z","z2","Storage$1","Storage","_roots","_displayList","_displayListLen","displayableSortFunc","traverse","update","includeIgnore","displayList","updateDisplayList","roots","_updateAndAddDisplayable","timsort","clipPaths","beforeUpdate","afterUpdate","userSetClipPath","currentClipPath","parentClipPath","updateTransform","childrenRef","children","child","__dirty","disp","__clipPaths","isNaN","decalEl","getDecalElement","textGuide","getTextGuideLine","textEl","getTextContent","addRoot","delRoot","idx","util.indexOf","delAllRoots","getRoots","requestAnimationFrame$1","requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","setTimeout","easingFuncs","linear","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","sinusoidalOut","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","circularOut","circularInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","easingFuncs$1","mathPow","mathSqrt","EPSILON","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","v2Create","_v1","_v2","isAroundZero","isNotAroundZero","cubicAt","p3","cubicDerivativeAt","cubicRootAt","A","B","C","t1","disc","K","t2","discSqrt","Y1","Y2","T","acos","ASqrt","t3","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","x0","y0","x1","y1","x2","y2","x3","y3","prev","next","interval","_t","v2DistSquare","cubicLength","iteration","px","py","step","quadraticAt","quadraticDerivativeAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","quadraticLength","regexp","createCubicEasingFunc","cubicEasingStr","cubic","a_1","b_1","c_1","d_1","roots_1","Clip$1","Clip","opts","_inited","_startTime","_pausedTime","_paused","_life","life","_delay","delay","loop","onframe","ondestroy","onrestart","easing","setEasing","globalTime","deltaTime","elapsedTime","percent","easingFunc","schedule","remainder","pause","resume","Entry","LinkedList","_len","insert","entry","insertEntry","head","tail","remove","LRU$1","LRU","maxSize","_list","_maxSize","_map","put","removed","_lastRemovedEntry","leastUsedEntry","kCSSColorTable","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","clampCssByte","clampCssFloat","f","parseCssInt","charAt","parseFloat","parseInt","parseCssFloat","cssHueToRgb","lerpNumber","setRgba","g","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","parse","cached","toLowerCase","iv","strLen","op","ep","fname","substr","params","alpha","pop","hsla2rgba","hsla","rgba","lift","color","level","colorArr","stringify","fastLerp","normalizedValue","colors","leftIndex","floor","rightIndex","ceil","leftColor","rightColor","dv","fastMapToColor","fullOutput","mapToColor","modifyHSL","H","S","R","G","vMin","vMax","delta","L","deltaR","deltaG","deltaB","rgba2hsla","modifyAlpha","arrColor","lum","backgroundLum","liftedColorCache","liftColor","liftedColor","ret","random","mathRound","normalizeColor","opacity","round3","round4","TEXT_ALIGN_TO_ANCHOR","center","middle","isImagePattern","isPattern","svgElement","isSVGPattern","isLinearGradient","isRadialGradient","isGradient","getIdURL","id","getPathPrecision","getGlobalScale","getSRTTransformString","rotation","scaleX","scaleY","skewX","skewY","encodeBase64","btoa","unescape","encodeURIComponent","Buffer","arraySlice","interpolateNumber","interpolate1DArray","add1DArray","sign","add2DArray","len2","fillColorStops","val0","val1","len0","len1","shorterArr","shorterLen","last","fillArray","arrDim","arr0","arr1","arr0Len","arr1Len","cloneValue","rgba2String","isGradientValueType","valType","isArrayValueType","tmpRgba","Track","propName","keyframes","discrete","_invalid","_needsSort","_lastFr","_lastFrP","isFinished","_finished","setFinished","_additiveTrack","needsAnimate","getAdditiveTrack","addKeyframe","time","rawValue","arrayDim","guessArrayDim","colorArray","color.parse","parsedGradient","colorStop","kf","prepare","maxTime","additiveTrack","kfs","kfsLen","lastKf","isDiscrete","lastValue","startValue","additiveValue","frameIdx","frame","nextFrame","isAdditive","valueKey","kfsNum","isValueColor","lastFrame","w","targetArr","_additiveValue","interpolate2DArray","nextVal_1","isLinearGradient_1","nextColorStop","global","_addToTarget","Animator","allowDiscreteAnimation","additiveTo","_tracks","_trackKeys","_maxTime","_started","_clip","_target","_loop","_additiveAnimators","_allowDiscrete","getMaxTime","getDelay","getLoop","getTarget","changeTarget","when","props","whenWithKeys","propNames","track","initialValue","_getAdditiveTrack","addtiveTrackKfs","lastFinalKf","isPaused","duration","_force","_doneCallback","_setTracksFinished","doneList","_doneCbs","_abortedCallback","animation","abortedList","_abortedCbs","removeClip","tracksKeys","trackName","additiveAnimators","getTrack","clip","stillHasAdditiveAnimator","onframeList","_onframeCbs","addClip","forwardToLast","during","done","aborted","getClip","getTracks","stopTracks","allAborted","saveTo","trackKeys","firstOrLast","__changeFinalValue","finalProps","getTime","Date","Animation$1","Animation","_running","_time","_pauseStart","_head","_tail","addAnimator","animator","removeAnimator","notTriggerFrameAndStageUpdate","nextClip","_startLoop","animate","options","mouseHandlerNames","pointerEventNameMap","globalEventSupported","localNativeListenerNames","pointerdown","pointerup","pointermove","pointerout","mouse","pointer","zrUtil.map","nm","globalNativeListenerNames","wheelEventSupported","isPointerFromTouch","pointerType","markTouch","isLocalEl","instance","elTmp","isLocal","domBelongToZr","parentNode","FakeGlobalEvent","zrUtil.noop","stopImmediatePropagation","currentTarget","localDOMHandlers","mousedown","__mayPointerCapture","downPoint","__togglePointerCapture","mouseup","toElement","relatedTarget","__pointerCapturing","wheel","mousewheel","touchstart","__lastTouchMoment","touchmove","touchend","click","zrUtil.each","globalDOMHandlers","pointerCaptureReleasing","mountLocalDOMEventListeners","scope","domHandlers","nativeEventName","mountSingleDOMEventListener","touching","touchTimer","clearTimeout","setTouchTimer","mountGlobalDOMEventListeners","mount","normalizeGlobalEvent","capture","listener","mounted","listenerOpts","domTarget","unmountDOMEventListeners","removeEventListener","DOMHandlerScope","HandlerProxy","HandlerDomProxy","_localHandlerScope","_globalHandlerScope","isPointerCapturing","globalHandlerScope","dpr","devicePixelRatio","screen","deviceXDPI","logicalXDPI","DARK_LABEL_COLOR","LIGHT_LABEL_COLOR","mIdentity","matrix.identity","scaleTmp","tmpTransform","originTransform","Transformable","getLocalTransform","setPosition","setScale","setSkew","setOrigin","originX","originY","needLocalTransform","parentTransform","matrix.copy","_resolveGlobalScaleRatio","invTransform","globalScaleRatio","relX","relY","getComputedTransform","transformNode","ancestors","setLocalTransform","atan2","shearX","decomposeTransform","ox","oy","transformCoordToLocal","transformCoordToGlobal","getLineScale","copyTransform","ax","anchorX","ay","anchorY","matrix.rotate","initDefaultProps","TRANSFORMABLE_PROPS","Transformable$1","textWidthCache","cacheOfFont","innerGetBoundingRect","textAlign","textBaseline","getLineHeight","adjustTextX","adjustTextY","textLines","uniondRect","verticalAlign","parsePercent","maxValue","lastIndexOf","calculateTextPosition","textPosition","position","halfHeight","textVerticalAlign","align","PRESERVED_NORMAL_STATE","PRIMARY_STATES_KEYS","DEFAULT_ANIMATABLE_MAP","tmpTextPosCalcRes","tmpBoundingRect","Element","animators","currentStates","states","_init","attr","markRedraw","updateInnerText","forceUpdate","_textContent","textConfig","local","innerTransformable","textStyleChanged","innerOrigin","layoutRect","textOrigin","origin","relOriginX","relOriginY","textOffset","isInside","inside","innerTextDefaultStyle","_innerTextDefaultStyle","textFill","textStroke","autoStroke","canBeInsideText","insideFill","insideStroke","getInsideTextFill","getInsideTextStroke","outsideFill","outsideStroke","getOutsideFill","getOutsideStroke","fill","stroke","setDefaultTextStyle","dirtyStyle","isDarkMode","backgroundColor","getBackgroundColor","isDark","attrKV","setTextConfig","setTextContent","setClipPath","extra","hide","show","keyOrObj","saveCurrentToNormalState","toState","_innerSaveToNormal","normalState","_normalState","fromStateTransition","__fromStateTransition","targetName","_savePrimaryToNormal","primaryKeys","hasState","getState","ensureState","clearStates","noAnimation","useState","stateName","keepCurrentStates","forceUseHoverLayer","toNormalState","animationCfg","stateTransition","state","stateProxy","useHoverLayer","hoverLayer","_toggleHoverLayerFlag","_applyStateObj","__inHover","textContent","_textGuide","_updateAnimationTargets","useStates","stateObjects","notChange","stateObj","lastStateObj","mergedState","_mergeStates","ancestor","removeState","replaceState","oldState","newState","forceAdd","newStateExists","toggleState","enable","mergedTextConfig","transition","needsRestoreToNormal","transitionTarget","hasTransition","propNeedsTransition","_transitionState","_attachComponent","componentEl","zr","addSelfToZr","_detachComponent","removeSelfFromZr","_clipPath","removeClipPath","previousTextContent","removeTextContent","cfg","removeTextConfig","setTextGuideLine","guideLine","removeTextGuideLine","refreshHover","refresh","dirty","inHover","updateDuringAnimation","wakeUp","stopAnimation","leftAnimators","animateTo","animationProps","animateFrom","getPaintRect","elProto","createLegacyProperty","privateKey","xKey","yKey","enhanceArray","defineProperty","isGroup","animatable","reverse","animateToShallow","finishCount","doneHappened","cfgDone","cfgAborted","doneCb","abortedCb","copyArrShallow","copyValue","sourceArr","topKey","animateObj","targetKeys","additive","setToFinal","animateAll","existsAnimators","animationKeys","innerKey","targetVal","keyLen","val2","is1DArraySame","revertedSource","reversedTarget","sourceClone","Element$1","Group","_children","childAt","childOfName","childCount","_doAdd","addBefore","nextSibling","oldChild","newChild","zrUtil.indexOf","replaceAt","index","old","removeAll","eachChild","stopped","includeChildren","tmpMat","invisible","childRect","Group$1","painterCtors","instances","ssrDataGetter","ZRender","_sleepAfterStill","_stillFrameAccum","_needsRefresh","_needsRefreshHover","_darkMode","rendererType","renderer","zrUtil.keys","useDirtyRect","ssrMode","ssr","ssrOnly","handlerProxy","getViewportRoot","useCoarsePointer","zrUtil.retrieve2","_flush","_disposed","configLayer","zLevel","config","setBackgroundColor","_backgroundColor","totalLum","setDarkMode","darkMode","refreshImmediately","fromInside","flush","triggerRendered","refreshHoverImmediately","end","setSleepAfterStill","stillFramesCount","getType","clearAnimation","eventHandler","init","zrUtil.guid","registerPainter","getElementSSRData","registerSSRDataGetter","getter","globalImageCache","findExistImage","newImageOrSrc","cachedImgObj","createOrUpdateImage","cbPayload","__zrImageSrc","pendingWrap","isImageReady","pending","imageOnLoad","__cachedImgObj","STYLE_REG","truncateText","containerWidth","ellipsis","prepareTruncateOptions","truncateSingleLine","preparedOpts","maxIterations","minChar","cnCharWidth","ascCharWidth","placeholder","contentWidth","ellipsisWidth","textLine","lineWidth","subLength","estimateLength","charCode","RichTextToken","RichTextLine","tokens","RichTextContentBlock","contentHeight","outerWidth","outerHeight","lines","pushTokens","block","wrapInfo","styleName","strLines","linesWidths","isEmptyStr","tokenStyle","rich","newLine","tokenPadding","padding","tokenPaddingH","outerWidth_1","accumWidth","wrapText","breakAll","token","isLineHolder","tokensLen","breakCharMap","ch","isWordBreakChar","code","isAlphabeticLetter","isBreakAll","lastAccumWidth","line","currentWord","currentWordWidth","chWidth","inWord","STYLE_MAGIC_KEY","DEFAULT_COMMON_STYLE","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","blend","DEFAULT_COMMON_ANIMATION_PROPS","PRIMARY_STATES_KEYS_IN_HOVER_LAYER","Displayable","dispProto","useStyle","beforeBrush","afterBrush","innerBeforeBrush","innerAfterBrush","shouldBePainted","viewWidth","viewHeight","considerClipPath","considerAncestors","culling","viewRect","isDisplayableCulled","isZeroArea","parent_1","rectContain","coord","_paintRect","elRect","shadowSize","tolerance","dirtyRectTolerance","setPrevPaintRect","paintRect","_prevPaintRect","getPrevPaintRect","animateStyle","targetKey","setStyle","notRedraw","_rect","styleChanged","styleUpdated","createStyle","__hoverStyle","isStyleObject","_mergeStyle","targetStyle","sourceStyle","changedKeys","getAnimationStyleProps","statesKeys","mergedStyle","incremental","Displayable$1","mathSin","mathCos","vec2.create","extremity","fromPoints","bottom","fromLine","xDim","yDim","fromCubic","curve.cubicExtrema","curve.cubicAt","fromQuadratic","curve.quadraticExtremum","curve.quadraticAt","fromArc","rx","ry","startAngle","endAngle","anticlockwise","vec2Min","vec2.min","vec2Max","vec2.max","diff","angle","CMD","M","Q","Z","tmpOutX","tmpOutY","min2","max2","mathAbs","hasTypedArray","Float32Array","tmpAngles","modPI2","radian","normalizeArcAngles","angles","newStartAngle","newEndAngle","PathProxy","notSaveData","_xi","_yi","_x0","_y0","_saveData","increaseVersion","_version","getVersion","segmentIgnoreThreshold","_ux","_uy","setDPR","setContext","beginPath","reset","_pathSegLen","_pathLen","moveTo","_drawPendingPt","addData","lineTo","exceedUnit","_pendingPtDist","_pendingPtX","_pendingPtY","bezierCurveTo","quadraticCurveTo","arc","cx","cy","arcTo","radius","closePath","toStatic","setData","appendPath","path","appendSize","appendPathData","cmd","_expandData","newData","Number","MAX_VALUE","xi","yi","isFirst","min$1","max$1","_calculateLength","ux","uy","pathSegLen","pathTotalLen","segCount","rebuildPath","displayedLength","pendingPtX","pendingPtY","drawPart","accumLength","pendingPtDist","psi","isEllipse","breakBuild","ellipse","newProxy","containStroke","_l","_a","curve.cubicProjectPoint","normalizeRadian","windingLine","dir","x_","windingCubic","nRoots","curve.cubicRootAt","nExtrema","y0_","y1_","unit","windingQuadratic","curve.quadraticRootAt","y_","windingArc","dTheta","tmp_1","containPath","isStroke","line.containStroke","cubic.containStroke","quadratic.containStroke","arc.containStroke","DEFAULT_PATH_STYLE","strokePercent","fillOpacity","strokeOpacity","lineDashOffset","lineCap","miterLimit","strokeNoScale","strokeFirst","DEFAULT_PATH_ANIMATION_PROPS","pathCopyParams","Path$1","Path","pathProto","decal","_decalEl","buildPath","shape","decalElStyle","getDefaultShape","defaultStyle","getDefaultStyle","hasFill","pathFill","fillLum","shapeCfg","inBatch","pathUpdated","getUpdatedPathProxy","createPathProxy","hasStroke","needsUpdateRect","firstInvoke","rectStroke","_rectStroke","lineScale","strokeContainThreshold","localPos","pathProxy","pathContain.containStroke","pathContain.contain","dirtyShape","animateShape","setShape","shapeChanged","targetShape","targetShapePrimaryProps","shapeKeys","mergedShape","defaultProps","Sub","subPixelOptimize","autoBatch","DEFAULT_TSPAN_STYLE","TSpan","setBoundingRect","TSpan$1","DEFAULT_IMAGE_STYLE","DEFAULT_IMAGE_ANIMATION_PROPS","sWidth","sHeight","ZRImage","_getSize","dim","imageSource","__image","otherDim","otherDimSize","ZRImage$1","subPixelOptimizeLine","outputShape","inputShape","subPixelOptimizeRect","originWidth","originHeight","positiveOrNegative","doubledPosition","RectShape","subPixelOptimizeOutputShape","Rect","optimizedShape","r1","r2","r3","r4","total","roundRectHelper.buildPath","Rect$1","DEFAULT_RICH_TEXT_COLOR","DEFAULT_TEXT_ANIMATION_PROPS","lineHeight","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","borderColor","borderWidth","borderRadius","ZRText","_defaultStyle","_updateSubTexts","_childCursor","normalizeStyle","_updateRichTexts","_updatePlainTexts","defaultTextStyle","sourceRich","targetRich","_mergeRich","richNames","richName","_getOrCreateChild","textFont","textPadding","contentBlock","overflow","truncate","calculatedLineHeight","bgColorDrawn","truncateLineOverflow","lineOverflow","lineCount","truncateMinChar","parsePlainText","getStyleText","needDrawBg","needDrawBackground","baseX","baseY","textX","textY","boxX","boxY","_renderBackground","getTextXForPadding","defaultLineWidth","useDefaultFill","getFill","getStroke","hasShadow","fixedBoundingRect","subElStyle","lineDash","setSeparateFont","topWidth","topHeight","matchedIndex","substring","pendingList","calculatedHeight","calculatedWidth","stlPadding","truncateLine","finishLine","outer","paddingH","tokenHeight","innerHeight","styleTokenWidth","tokenWidthNotSpecified","percentWidth","textBackgroundColor","bgImg","imageHelper.isImageReady","imageHelper.findExistImage","remainTruncWidth","parseRichText","xLeft","lineTop","xRight","tokenCount","remainedWidth","lineXLeft","lineXRight","_placeToken","parentBgColorDrawn","textWidth","textHeight","topStyle","rectEl","imgEl","rectStyle","textBorderWidth","textBorderColor","isImageBg","isPlainOrGradientBg","textBorderRadius","rectShape","imgStyle","borderDash","borderDashOffset","commonStyle","makeFont","hasSeparateFont","fontStyle","fontWeight","parseFontSize","fontFamily","VALID_TEXT_ALIGN","VALID_TEXT_VERTICAL_ALIGN","FONT_PARTS","fontProp","ZRText$1","mathAtan2","transformPath","nPoint","p_1","vMag","vRatio","u","vAngle","processArc","fa","fs","psiDeg","xp","yp","lambda","cxp","cyp","commandReg","numberReg","SVGPath","isPathProxy","createPathOptions","prevCmd","cpx","cpy","subpathX","subpathY","cmdList","cmdText","cmdStr","pLen","ctlPtx","ctlPty","pathData","createPathProxyFromString","innerOpts","createFromString","extendFromString","defaultOpts","mergePath","pathEls","pathList","pathEl","pathBundle","clonePath","sourcePath","bakeTransform","toLocal","CircleShape","Circle","Circle$1","EllipseShape","Ellipse","Ellipse$1","mathACos","mathATan2","computeCornerTangents","cr","clockwise","x01","y01","x11","y11","x10","y10","x00","y00","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","innerRadius","r0","hasRadius","mod","icrStart","icrEnd","ocrStart","ocrEnd","ocrs","ocre","icrs","icre","ocrMax","icrMax","limitedOcrMax","limitedIcrMax","xre","yre","xirs","yirs","xrs","yrs","xire","yire","hasArc","cornerRadius","normalizeCornerRadius","halfRd","it_1","dx10","dy10","dx32","dy32","crStart","crEnd","ct0","ct1","SectorShape","Sector","roundSectorHelper.buildPath","Sector$1","RingShape","Ring","Ring$1","smooth","controlPoints","isLoop","constraint","prevPoint","nextPoint","cps","v2Min","v2Max","point","v2Clone","scale$1","v2Distance","cp0","v2Add","cp1","shift","smoothBezier","smoothConstraint","cp2","PolygonShape","Polygon","Polygon$1","PolylineShape","Polyline","Polyline$1","LineShape","Line","pointAt","Line$1","BezierCurveShape","cpx1","cpy1","someVectorAt","isTangent","cpx2","cpy2","BezierCurve","tangentAt","vec2.normalize","BezierCurve$1","ArcShape","Arc","unitX","unitY","Arc$1","CompoundPath$1","CompoundPath","_updatePathDirty","paths","dirtyPath","Gradient$1","Gradient","addColorStop","LinearGradient$1","LinearGradient","globalCoord","RadialGradient$1","RadialGradient","extent","extent2","OrientedBoundingRect$1","OrientedBoundingRect","_corners","_axes","_origin","fromBoundingRect","corners","axes","overlapped","noMtv","_intersectCheckOneSide","axis","_getProjMinMaxOnAxis","dist0","dist1","proj","proj_1","IncrementalDisplayable$1","IncrementalDisplayable","notClear","_displayables","_temporaryDisplayables","_cursor","getCursor","clearDisplaybles","clearTemporalDisplayables","addDisplayable","notPersistent","addDisplayables","displayables","getDisplayables","getTemporalDisplayables","eachPendingDisplayable","Displayble","wmUniqueIndex","supportDefineProperty","WeakMap$1","WeakMap","_id","_guard","enumerable","configurable","TypeError","isSafeNum","num","getCanvasGradient","canvasGradient","createRadialGradient","createLinearGradient","parseInt10","getSize","whIdx","wh","cwh","plt","prb","stl","defaultView","getComputedStyle","getLineDash","lineType","lineScale_1","rawVal","pathProxyForDraw","styleHasStroke","isValidStrokeFillStyle","strokeOrFill","styleHasFill","doFillPath","originalGlobalAlpha","globalAlpha","doStrokePath","createCanvasPattern","pattern","canvasPattern","createPattern","repeat","DOMMatrix","setTransform","matrix","translateSelf","rotateSelf","scaleSelf","SHADOW_NUMBER_PROPS","STROKE_PROPS","bindCommonProps","prevStyle","forceSetAll","flushPathDrawn","globalCompositeOperation","bindPathAndTextCommonStyle","prevEl","getStyle","fillStyle","strokeStyle","newLineWidth","setContextTransform","DRAW_TYPE_PATH","DRAW_TYPE_IMAGE","DRAW_TYPE_TEXT","DRAW_TYPE_INCREMENTAL","batchFill","batchStroke","brushSingle","brush$1","brush","isLast","__isRendered","prevElClipPaths","forceSetTransform","forceSetStyle","prevClipPaths","isClipPathChanged","restore","allClipped","save","updateClipStatus","m0","canBatchPath","canPathBatch","lastDrawType","strokePart","firstDraw","dirtyFlag","hasFillGradient","hasStrokeGradient","hasFillPattern","hasStrokePattern","fillGradient","strokeGradient","fillPattern","strokePattern","__canvasFillGradient","__canvasStrokeGradient","__canvasFillPattern","__canvasStrokePattern","setLineDash","needsRebuild","brushPath","strokeText","fillText","brushText","bindImageStyle","aspect","drawImage","brushImage","temporalDisplayables","innerScope","i_1","len_1","brushIncremental","nodeParsers","isAroundEqual","parseXML","svg","DOMParser","parseFromString","svgNode","firstChild","INHERITABLE_STYLE_ATTRIBUTES_MAP","visibility","display","INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS","SELF_STYLE_ATTRIBUTES_MAP","SELF_STYLE_ATTRIBUTES_MAP_KEYS","SVGParser","_defs","_root","xml","_defsUsePending","named","viewBox","getAttribute","parseAttributes","viewBoxRect","viewBoxTransform","_parseNode","defs","defsUsePending","item","applyDefs","viewBoxArr","splitNumberSequence","makeViewBoxTransform","ignoreViewBox","elRoot","ignoreRootClip","xmlNode","parentGroup","namedFrom","isInDefs","isInText","namedFromForSub","parser_1","nameAttr","newNamed","svgNodeTagLower","parser","paintServerParsers","def","_parseText","_textX","_textY","inheritStyle","parentSelfStyle","__selfStyle","zrTextBaseline","parentInheritedStyle","__inheritedStyle","zrTextAlign","applyTextAlignment","textStyle","internalField","circle","polygon","pointsArr","pointsStr","parsePoints","polyline","img","tspan","lineargradient","gradient","parsePaintServerUnit","parseGradientColorStops","radialgradient","toLocaleLowerCase","offsetStr","styleVals","stopColor","pointsString","onlyInlineStyle","isTextGroup","inheritedStyle","selfStyle","transformOps_1","mt","transformRegex","valueArr","DEGREE_TO_ANGLE","parseTransformAttribute","parseInlineStyle","inheritableStyleResult","selfStyleResult","svgAttrName","attrValue","parseAttributeStyle","getFillStrokeStyle","urlRegex","method","urlMatch","url","rawStr","styleRegex","styleRegResult","svgStlAttr","zrInheritableStlAttr","zrSelfStlAttr","boundingRect","parseSVG","aroundEqual","pathToBezierCurves","currentSubpath","c1","s1","c2","s2","x4","y4","hx","hy","bezierArrayGroups","createNewSubpath","addLine","nextAngle","adpativeBezier","PIXEL_DISTANCE","PIXEL_DISTANCE_SQR","dx2","dy2","cp1LenSqr","cp2LenSqr","projLen1","projLen2","tmpSegX","tmpSegY","getDividingGrids","dimSize","rowDim","count","rowSize","columnSize","ratio","rowCount","columnCount","grids","remained","divideSector","sectorShape","outShapes","arcLen","isAngleRow","row","column","newShape","crossProduct2d","lineLineIntersect","a1x","a1y","a2x","a2y","b1x","b1y","b2x","b2y","mx","my","nx","ny","nmCrossProduct","projPtOnLine","pt","lineA","lineB","dir2","addToPoly","poly","binaryDividePolygon","polygonShape","pt0","pt1","intersections","intersectionPt","projPt","splitPt0","splitPt1","splitPt0Arr","splitPt1Arr","newPolyA","newPolyB","splitPolygonByLine","binaryDivideRecursive","OutShapeCtor","isHorizontalRow","rowSizeDim","columnSizeDim","columnDim","divideRect","polygons","beziers","pathToPolygons","polygonConvert","polygonCount","totalArea_1","items","area","selfCount","subPath","alignSubpath","subpath1","subpath2","shorterPath","shorterBezierCount","eachCurveSubDivCount","newSubpath","actualSubDivCount","createSubpath","lastSubpathSubpath","otherSubpath","lastX","lastY","centroid","signedArea","findBestRingOffset","fromSubBeziers","toSubBeziers","fromCp","toCp","bezierCount","bestScore","bestOffset","cursorOffset","score","newArr","isCombineMorphing","__isCombineMorphing","SAVED_METHOD_PREFIX","saveAndModifyMethod","methodName","modifiers","savedMethodName","originalMethod","after","before","restoreMethod","applyTransformOnBeziers","bezierCurves","mm","subBeziers","prepareMorphPath","fromPath","toPath","fromPathProxy","toPathProxy","array1","array2","lastSubpath1","lastSubpath2","newArray1","newArray2","newSubpath1","newSubpath2","alignBezierCurves","fromBezierCurves","toBezierCurves","fromPathTransform","toPathTransform","morphingData","fromArr","toArr","searchAngleIteration","searchAngleRange","fromNeedsReverse","fromSubpathBezier","toSubpathBezier","newFromSubpathBezier","newToSubpathBezier","bestAngle","tmpArr","sa","ca","newX1","newY1","to","findBestMorphingRotation","__morphT","newCp","lerp$1","x0_1","y0_1","morphPath","animationOpts","oldDone","oldDuring","hilbert","minX","minY","sortPaths","xMin","yMin","xMax","yMax","cp","defaultDividePath","param","combineMorph","fromList","fromPathList","addFromPath","separateCount","fromIndividuals","toIndividuals","toSubPathList","dividePath","individualDelay","identityTransform","addToSubPathListToZr","restoreToPath","toLen","animating_1","eachDone","indivdualAnimationOpts","separateMorph","toPathList","fromLen","degree","SVGPathRebuilder$1","SVGPathRebuilder","precision","_start","_d","_str","_p","_add","dThetaPositive","isCircle","unifiedTheta","large","xRot","dTheta_1","vals","generateStr","getStr","NONE","strokeProps","svgStrokeProps","mapStyleToAttrs","updateAttr","pathHasFill","pathHasStroke","strokeScale","strokeWidth","SVGNS","XLINKNS","XMLNS","XML_NAMESPACE","META_DATA_PREFIX","createElementNS","createVNode","tag","attrs","vNodeToString","newline","convertElToString","attrsStr","part","createElementOpen","createBrushScope","zrId","shadowCache","patternCache","gradientCache","clipPathCache","cssNodes","cssAnims","cssStyleCache","cssAnimIdx","shadowIdx","gradientIdx","patternIdx","clipPathIdx","createSVGVNode","useViewBox","xmlns","baseProfile","cssClassIdx","getClassId","EASING_MAP","transformOriginKey","buildPathString","kfShape","svgPathBuilder","setTransformOrigin","ANIMATE_STYLE_MAP","addAnimation","cssAnim","animationName","getEasingFunc","createCSSAnimation","onlyShape","cssAnimations","cssAnimationCfg","cssAnimationName","composedAnim","subScope","animNames","lastAnim","className","createCompoundPathCSSAnimation","groupAnimators","cfgArr","createSingleCSSAnimation","groupAnimator","transformKfs","shapeKfs","finalKfs","animationTimingFunctionAttrName","saveAnimatorTrackToCssKfs","cssKfs","toCssAttrName","attrName","kfEasing","timingFunction","canAnimateShape","newLen","transformOrigin","percents","allTransformOriginSame","setClassAttribute","withHover","styleKey","isImageLike","isCanvasLike","toDataURL","setStyleAttrs","isFillStroke","setGradient","setPattern","shadowKey","globalScale","toFixed","getShadowKey","shadowId","blur_1","stdDeviation","setShadow","setMetaData","metaData","noRotateScale","compress","noTranslate","getMatrixStr","convertPolyShape","strArr","validatePolyShape","desc","normalizedDesc","builtinShapesDef","brushSVGPath","builtinShpDef","svgElType","willUpdate","hasShapeAnimation","needBuildPath","pathVersion","elExt","__svgPathBuilder","__svgPathVersion","__svgPathStrokePercent","emphasis","emphasisStyle","normalFill","selectFill","select","fromFill","createCSSEmphasis","href","brushSVGImage","separatedFontStr","brushSVGTSpan","gradientTag","gradientAttrs","gradientUnits","stopsAttrs","gradientKey","gradientId","patternAttrs","noRepeat","repeatX","repeatY","imageWidth_1","imageWidth","imageHeight_1","imageHeight","imageSrc","patternImage","errMsg","setSizeToVNode_1","vNode","svgEl","elm","setAttribute","createdImage","patternVNode","svgWidth","svgHeight","patternWidth","patternHeight","patternUnits","patternTransform","patternKey","patternId","clipPathId","clipPathAttrs","createTextNode","insertBefore","newNode","referenceNode","removeChild","colonChar","xChar","emptyNode","isUndef","isDef","createKeyToOldIdx","beginIdx","endIdx","sameVnode","vnode1","vnode2","isSameKey","createElm","vnode","updateAttrs","api.appendChild","api.createTextNode","addVnodes","parentElm","vnodes","startIdx","api.insertBefore","removeVnodes","api.parentNode","oldVnode","oldAttrs","cur","removeAttribute","setAttributeNS","patchVnode","oldCh","newCh","oldKeyToIdx","idxInOld","elmToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","api.nextSibling","updateChildren","api.setTextContent","svgId","SVGPainter$1","SVGPainter","_opts","_oldVNode","viewport","_viewport","svgDom","_svgDom","getViewportRootOffset","viewportRoot","getSvgDom","renderToVNode","parent_2","patch","renderOneToVNode","_width","_height","bgVNode","_bgVNode","createBackgroundVNode","mainVNode","_mainVNode","_paintList","animationCssStr","selectorNodes","animationNodes","bracketBegin","bracketEnd","selectors","animations","getCssString","styleNode","renderToString","cssAnimation","cssEmphasis","getSvgRoot","currentClipPathGroup","listLen","clipPathsGroupsStack","clipPathsGroupsStackDepth","clipGroupNodeIdx","prevLen","lca","i_2","groupAttrs","viewportStyle","bgEl","innerHTML","base64","prefix","createDom","newDom","newDomStyle","Layer$1","Layer","motionBlur","lastFrameAlpha","virtual","maxRepaintRectCount","__firstTimePaint","__used","__drawIndex","__startIndex","__endIndex","__prevStartIndex","__prevEndIndex","util.isObject","util.disableUserSelect","onselectstart","margin","getElementCount","initContext","setUnpainted","createBackBuffer","domBack","ctxBack","createRepaintRects","prevList","hasIntersections","mergedRepaintRects","full","pendingRect","addRectToMergePool","isMerged","minDeltaArea","bestRectToMergeIdx","mergedRect","pendingRect_1","aArea","bArea","deltaArea","shouldPaint","prevRect","curRect","_paintRects","debugGetPaintRects","clearAll","clearColor","repaintRects","haveMotionBLur","doClear","clearRect","clearColorGradientOrPattern","util.isGradientObject","__width","__height","__canvasGradient","util.isImagePatternObject","fillRect","HOVER_LAYER_ZLEVEL","CANVAS_ZLEVEL","EL_AFTER_INCREMENTAL_INC","CanvasPainter$1","CanvasPainter","_zlevelList","_prevDisplayList","_layers","_layerConfig","_needsManuallyCompositing","singleCanvas","util.extend","_singleCanvas","zlevelList","layers","rootCanvas","mainLayer","__builtin__","_domRoot","domRoot","createRoot","isSingleCanvas","paintAll","_redrawId","_paintHoverList","_hoverlayer","getLayer","getHoverLayer","paintOne","redrawId","_updateLayerStatus","_doPaintList","finished","needsRefreshHover","_compositeManually","eachLayer","self_1","eachBuiltinLayer","layerList","zi","_loop_1","this_1","useTimer","now","startTime","firstEl","repaint","repaintRect","_doPaintEl","draw","currentLayer","util.merge","insertLayer","layersMap","prevLayer","isLayerValid","prevDom","getLayers","updatePrevLayer","prevZlevel","incrementalLayerCount","util.logError","_clearLayer","layerConfig","_zlevel","delLayer","clearLayer","getRenderedCanvas","imageLayer","pixelRatio","width_1","height_1","renderToCanvas"],"mappings":"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,EAAQK,IAAS,EAAG,CAElC,IADPE,EAAYlkB,EAASgkB,EACdja,EAASma,GAAaX,EAAQle,EAAOD,EAAMue,EAAQK,EAAOja,IAAW,GAC3Dka,EAAAla,GACbA,EAAyB,GAAfA,GAAU,KACN,IACDA,EAAAma,GAGbna,EAASma,IACAna,EAAAma,GAECD,GAAAD,EACJja,GAAAia,CACb,KACI,CAEM,IADPE,EAAYF,EAAO,EACZja,EAASma,GAAaX,EAAQle,EAAOD,EAAMue,EAAQK,EAAOja,KAAY,GAC5Dka,EAAAla,GACbA,EAAyB,GAAfA,GAAU,KACN,IACDA,EAAAma,GAGbna,EAASma,IACAna,EAAAma,GAEb,IAAIC,EAAMF,EACVA,EAAaD,EAAOja,EACpBA,EAASia,EAAOG,CACnB,CAED,IADAF,IACOA,EAAala,GAAQ,CACpB0C,IAAAA,EAAIwX,GAAcla,EAASka,IAAe,GAC1CV,EAAQle,EAAOD,EAAMue,EAAQlX,IAAM,EACnCwX,EAAaxX,EAAI,EAGRA,EAAAA,CAEhB,CACM,OAAA1C,CACX,CACA,SAASqa,GAAY/e,EAAOD,EAAOue,EAAO3jB,EAAQgkB,EAAMT,GACpD,IAAIU,EAAa,EACbC,EAAY,EACZna,EAAS,EACb,GAAIwZ,EAAQle,EAAOD,EAAMue,EAAQK,IAAS,EAAG,CAElC,IADPE,EAAYF,EAAO,EACZja,EAASma,GAAaX,EAAQle,EAAOD,EAAMue,EAAQK,EAAOja,IAAW,GAC3Dka,EAAAla,GACbA,EAAyB,GAAfA,GAAU,KACN,IACDA,EAAAma,GAGbna,EAASma,IACAna,EAAAma,GAEb,IAAIC,EAAMF,EACVA,EAAaD,EAAOja,EACpBA,EAASia,EAAOG,CACnB,KACI,CAEM,IADPD,EAAYlkB,EAASgkB,EACdja,EAASma,GAAaX,EAAQle,EAAOD,EAAMue,EAAQK,EAAOja,KAAY,GAC5Dka,EAAAla,GACbA,EAAyB,GAAfA,GAAU,KACN,IACDA,EAAAma,GAGbna,EAASma,IACAna,EAAAma,GAECD,GAAAD,EACJja,GAAAia,CACb,CAED,IADAC,IAC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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94]}