import{r as x,j as t}from"./react-0fb5d424.js";import v from"./index-444c7847.js";import{P as k,v as N}from"./index-fad10ce8.js";import"./dayjs-e40d92c3.js";import O from"./SetPrint-0243b550.js";import P from"./SetTable-b8040002.js";import{j as I,B as m,s as q}from"./antd-e92fabd5.js";import{a7 as A,am as M,an as D,ao as $,M as F,ap as K}from"./@ant-design-595a63b1.js";import"./@babel-25fffde3.js";import"./_utils-622a59ec.js";import"./lodash-a5a67b6f.js";import"./btns-00e868e8.js";import"./react-dom-0d6193a3.js";import"./scheduler-765c72db.js";import"./react-router-dom-57ec7c88.js";import"./react-router-460b03e0.js";import"./@remix-run-ac850e23.js";import"./react-redux-54c164ec.js";import"./use-sync-external-store-29364900.js";import"./mock-52f1b85d.js";import"./mockjs-9c967a30.js";import"./@reduxjs-c09949f6.js";import"./redux-ea15d17b.js";import"./reselect-8f3bbdd7.js";import"./redux-thunk-f771c803.js";import"./axios-4a70c6fc.js";import"./qs-0173dd19.js";import"./side-channel-5b5a05bd.js";import"./get-intrinsic-45907aec.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-61637ca6.js";import"./has-57b382c3.js";import"./call-bind-c38f6426.js";import"./object-inspect-42714f7a.js";import"./vite-plugin-mock-d7a8ead1.js";import"./path-to-regexp-31db6522.js";import"./rc-util-48ba7f71.js";import"./react-is-e8e5dbb3.js";import"./classnames-fe2c27d8.js";import"./rc-resize-observer-745b2131.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./rc-motion-eb90ae56.js";import"./rc-picker-6e445fc6.js";import"./@rc-component-ed6c637d.js";import"./@ctrl-fb5a5473.js";import"./rc-tabs-3b6d1d00.js";import"./rc-dropdown-3ade4447.js";import"./rc-menu-83466686.js";import"./rc-overflow-114563da.js";import"./rc-trigger-8e81b561.js";import"./rc-align-3928b621.js";import"./dom-align-ecb06dd6.js";import"./rc-cascader-5bc29b89.js";import"./rc-select-3f77be03.js";import"./rc-virtual-list-27fe0724.js";import"./rc-tree-586f51e7.js";import"./rc-input-number-83428087.js";import"./rc-collapse-62224ade.js";import"./rc-drawer-f0808ac3.js";import"./rc-field-form-10847344.js";import"./async-validator-dee29e8b.js";import"./scroll-into-view-if-needed-640b7801.js";import"./compute-scroll-into-view-50f8bc03.js";import"./rc-image-1fde4eb3.js";import"./rc-dialog-fa40b945.js";import"./rc-notification-3e0c56c9.js";import"./rc-tooltip-f3685bbd.js";import"./rc-rate-49702ee4.js";import"./rc-slider-a4dd6cf2.js";import"./rc-steps-fcee3d43.js";import"./rc-switch-9e1e6b4a.js";import"./rc-table-dcede9bc.js";import"./rc-pagination-88d89b42.js";import"./throttle-debounce-87e7e444.js";import"./rc-checkbox-d7b3fa29.js";import"./rc-input-3e170e62.js";import"./rc-textarea-3d294471.js";import"./rc-upload-215eca2a.js";import"./rc-progress-48fe049f.js";import"./@emotion-c0b5c018.js";import"./stylis-c78c9806.js";import"./index-7cf152b6.js";import"./_config-ba79d20b.js";const L={print:{title:"打印",icon:t.jsx(M,{})},colSet:{title:"设置",icon:t.jsx(D,{})}},R=[{key:"1",label:t.jsx(m,{icon:t.jsx($,{}),type:"primary",ghost:!0,children:"全选"})},{key:"2",label:t.jsx(m,{icon:t.jsx(F,{}),type:"primary",ghost:!0,children:"反选"})},{key:"3",label:t.jsx(m,{icon:t.jsx(K,{}),type:"primary",ghost:!0,children:"全不选"})}],gr=({className:j="",allColumns:n=[],columns:i=[],setColumns:s,btns:l=[],tools:u=["colSet"],onClick:g,seledNum:c=0,batchBtn:y=!1,total:S=0,...b})=>{const{openPopup:h}=x.useContext(k);N(l),x.useEffect(()=>{},[]);function C(r){r==="print"?h("打印设置",t.jsx(O,{}),"modal"):r==="colSet"&&h("表格设置",t.jsx(P,{onShowChange:w,onExportChange:B,onSortChange:E,allColumns:n,columns:i,resetColumns:()=>s(n.slice())}),"drawer")}function w(r,o,e){if(o){let p=-1;i.findIndex((a,d)=>{const f=n.findIndex(T=>T.name===a.name);if(f>e)return p=d,!0;if(f<e)return d===i.length-1?(p=i.length,!0):!1}),i.splice(p,0,n[e]),s(i.slice())}else{const p=i.findIndex(a=>a.name===r);i.splice(p,1),s(i.slice())}}function B(r,o,e){console.log(r,o,"handleExportChange-------")}function E(r,o,e){console.log(r,o,"handleSortChange-------")}return t.jsxs("div",{className:`${j} f-sb-fe`,...b,children:[t.jsxs("div",{className:"f-1 f-fs-fs-w",children:[l.map((r,o)=>t.jsx(v,{className:"mb-h",onClick:g,btn:r},o)),y&&t.jsx(I,{trigger:["hover"],menu:{items:R,selectable:!0},children:t.jsxs(m,{icon:t.jsx(A,{}),className:"mb-h",type:"primary",disabled:!S,children:["批量操作",c?` (${c})`:""]})})]}),t.jsx("div",{className:"f-0 ml-h",children:u.map((r,o)=>{const e=L[r];return t.jsx(q,{title:e.title,children:t.jsx(m,{className:"mb-h",onClick:()=>C(r),type:"primary",shape:"circle",icon:e.icon,style:o===0?{marginLeft:"auto"}:void 0,ghost:!0})},o)})})]})};export{gr as default};
