{"version":3,"file":"index-e5c26965.js","sources":["../../../src/components/BaseCopy/index.tsx"],"sourcesContent":["/**\r\n * 组件 - BaseCopy\r\n */\r\n\r\nimport { CSSProperties } from \"react\";\r\nimport { StrNum } from \"@/vite-env\";\r\nimport { Tooltip } from \"antd\";\r\nimport { showMessage } from \"@/components/_utils\";\r\nimport { CopyOutlined } from \"@ant-design/icons\";\r\nimport s from \"./index.module.less\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n  style?: CSSProperties;\r\n  line?: StrNum;\r\n  text?: StrNum;\r\n  char?: string; //空位符\r\n  clickIconCopy?: boolean; //是否只当点击图标时才复制文本\r\n  stop?: boolean; //是否阻止点击事件的冒泡\r\n  [key: string]: any;\r\n}\r\nexport default ({\r\n  className = \"\",\r\n  line = 1,\r\n  text = \"\",\r\n  children = text,\r\n  char = \"-\",\r\n  clickIconCopy,\r\n  stop = true,\r\n  ...restProps\r\n}: Props) => {\r\n  function handleClick(e: Event) {\r\n    if (!children) return;\r\n    const { tagName, classList } = e.target as any;\r\n    if (clickIconCopy && tagName !== \"svg\" && !classList.contains(s.icon)) return;\r\n    stop && e.stopPropagation();\r\n    const input = document.createElement(\"input\");\r\n    input.setAttribute(\"value\", children as string);\r\n    document.body.appendChild(input);\r\n    input.select();\r\n    const copyText = document.execCommand(\"copy\");\r\n    if (copyText) showMessage(\"复制成功！\");\r\n    document.body.removeChild(input);\r\n  }\r\n  return (\r\n    <div\r\n      onClick={handleClick}\r\n      className={`${className} ${s[\"base-copy\"]} ${Number(line) > 0 ? \"f-fs-c\" : \"\"} ${\r\n        children && !clickIconCopy ? s.hover : \"\"\r\n      }`}\r\n      {...restProps}\r\n    >\r\n      <span className={`line-${line}`}>{children || char}</span>\r\n      {children && (\r\n        <Tooltip title=\"点击复制\">\r\n          <CopyOutlined className={`${s.icon} ${s.hover} f-0 ml-4`} />\r\n        </Tooltip>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":["BaseCopy","className","line","text","children","char","clickIconCopy","stop","restProps","handleClick","e","tagName","classList","s","input","showMessage","jsxs","jsx","Tooltip","CopyOutlined"],"mappings":"iUAqBAA,EAAe,CAAC,CACd,UAAAC,EAAY,GACZ,KAAAC,EAAO,EACP,KAAAC,EAAO,GACP,SAAAC,EAAWD,EACX,KAAAE,EAAO,IACP,cAAAC,EACA,KAAAC,EAAO,GACP,GAAGC,CACL,IAAa,CACX,SAASC,EAAYC,EAAU,CAC7B,GAAI,CAACN,EAAU,OACf,KAAM,CAAE,QAAAO,EAAS,UAAAC,GAAcF,EAAE,OACjC,GAAIJ,GAAiBK,IAAY,OAAS,CAACC,EAAU,SAASC,EAAE,IAAI,EAAG,OACvEN,GAAQG,EAAE,kBACJ,MAAAI,EAAQ,SAAS,cAAc,OAAO,EACtCA,EAAA,aAAa,QAASV,CAAkB,EACrC,SAAA,KAAK,YAAYU,CAAK,EAC/BA,EAAM,OAAO,EACI,SAAS,YAAY,MAAM,GAC9BC,EAAY,OAAO,EACxB,SAAA,KAAK,YAAYD,CAAK,CACjC,CAEE,OAAAE,EAAA,KAAC,MAAA,CACC,QAASP,EACT,UAAW,GAAGR,KAAaY,EAAE,WAAW,KAAK,OAAOX,CAAI,EAAI,EAAI,SAAW,MACzEE,GAAY,CAACE,EAAgBO,EAAE,MAAQ,KAExC,GAAGL,EAEJ,SAAA,CAAAS,EAAAA,IAAC,OAAK,CAAA,UAAW,QAAQf,IAAS,YAAYG,EAAK,EAClDD,GACCa,EAAAA,IAACC,EAAQ,CAAA,MAAM,OACb,SAAAD,EAAA,IAACE,EAAa,CAAA,UAAW,GAAGN,EAAE,QAAQA,EAAE,gBAAkB,CAAA,EAC5D,CAAA,CAAA,CAAA,CAIR"}