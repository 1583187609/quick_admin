{"version":3,"file":"Model-b83611af.js","sources":["../../../src/views/system/menu/AddEdit/_components/IconPicker/Model.tsx"],"sourcesContent":["import { CSSProperties } from \"react\";\r\nimport * as Icons from \"@ant-design/icons\";\r\nimport BaseIcon, { IconNames } from \"@/components/BaseIcon\";\r\nimport { useCallback, useState } from \"react\";\r\nimport { Input, Tabs } from \"antd\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nimport BaseCopy from \"@/components/BaseCopy\";\r\nimport { debounce } from \"@/utils\";\r\nimport s from \"./index.module.less\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n  style?: CSSProperties;\r\n  [key: string]: any;\r\n}\r\n\r\nconst icons: string[] = Object.keys(Icons);\r\nconst tabs: CommonObj = [\r\n  { text: \"所有图标\", list: [] },\r\n  { text: \"线框风格\", list: [] },\r\n  { text: \"实底风格\", list: [] },\r\n  { text: \"双色风格\", list: [] },\r\n];\r\nicons.forEach((icon, ind: number) => {\r\n  if (icon.endsWith(\"Outlined\")) {\r\n    tabs[0].list.push(icon);\r\n    tabs[1].list.push(icon);\r\n  } else if (icon.endsWith(\"Filled\")) {\r\n    tabs[0].list.push(icon);\r\n    tabs[2].list.push(icon);\r\n  } else if (icon.endsWith(\"TwoTone\")) {\r\n    tabs[0].list.push(icon);\r\n    tabs[3].list.push(icon);\r\n  } else {\r\n    // 可以通过使用 getTwoToneColor() 和 setTwoToneColor(colorString) 来全局设置图标主色。\r\n  }\r\n});\r\n\r\nexport default ({ className = \"\", onChange, children, ...restProps }: Props) => {\r\n  const [activeKey, setActiveKey] = useState(\"0\");\r\n  const [value, setValue] = useState(\"\");\r\n  const [filterIcons, setFilterIcons] = useState<IconNames[]>(tabs[activeKey].list);\r\n  function handleClickIcon(name: IconNames | \"\") {\r\n    onChange?.(name);\r\n    setValue(name);\r\n  }\r\n  const handleInputChange = useCallback((e: any) => {\r\n    const icons = getFilterIcons(e.target.value);\r\n    setFilterIcons(icons);\r\n  }, []);\r\n  function getFilterIcons(searchVal: string) {\r\n    const names = tabs[activeKey].list;\r\n    if (!searchVal) return names;\r\n    return names.filter((it: IconNames) => {\r\n      const val = searchVal.toLowerCase();\r\n      return it.toLowerCase().includes(val);\r\n    });\r\n  }\r\n  return (\r\n    <>\r\n      <Tabs\r\n        activeKey={activeKey}\r\n        onTabClick={(key: string) => {\r\n          setActiveKey(key);\r\n          setFilterIcons(tabs[key].list);\r\n        }}\r\n        tabBarExtraContent={<Input onChange={debounce(handleInputChange, false, 500)} placeholder=\"请输入图标名称\" allowClear />}\r\n        items={tabs.map((tab: CommonObj, ind: number) => {\r\n          return {\r\n            label: <>{tab.text}</>,\r\n            key: String(ind),\r\n          };\r\n        })}\r\n        {...restProps}\r\n      />\r\n      <ul className={`${s.list} f-fs-fs-w all-hide-scroll`}>\r\n        <li onClick={() => handleClickIcon(\"\")} className={`${s.item} ${value === \"\" ? s.active : \"\"} f-c-c-c`}>\r\n          <span className=\"f-c-c\" style={{ height: \"32px\", width: \"32px\", fontSize: \"22px\" }}>\r\n            无\r\n          </span>\r\n          <span className={`${s.text} line-1`}>none</span>\r\n        </li>\r\n        {filterIcons.map((name: any, ind: number) => {\r\n          return (\r\n            <li onClick={() => handleClickIcon(name)} className={`${s.item} ${value === name ? s.active : \"\"} f-c-c-c`} key={ind}>\r\n              <BaseIcon size={34} name={name} />\r\n              <BaseCopy className={`${s.text} line-1`} text={name} clickIconCopy />\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n"],"names":["icons","Icons","tabs","icon","ind","Model","className","onChange","children","restProps","activeKey","setActiveKey","useState","value","setValue","filterIcons","setFilterIcons","handleClickIcon","name","handleInputChange","useCallback","e","getFilterIcons","searchVal","names","it","val","jsxs","Fragment","jsx","Tabs","key","Input","debounce","tab","s","BaseIcon","BaseCopy"],"mappings":"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"}