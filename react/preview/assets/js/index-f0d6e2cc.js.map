{"version":3,"file":"index-f0d6e2cc.js","sources":["../../../src/components/BaseCrud/_components/QueryForm/index.tsx","../../../src/components/BaseBtn/btns.tsx","../../../src/components/BaseBtn/_utils.tsx","../../../src/components/BaseBtn/index.tsx","../../../src/components/BaseCrud/_components/OperateBtns/index.tsx","../../../src/components/BaseText/index.tsx","../../../src/components/table/_utils.tsx","../../../src/components/BaseCrud/_components/QueryTable/index.tsx","../../../src/components/BaseCrud/_components/SetPrint.tsx","../../../src/components/BaseCrud/_components/SetTable.tsx","../../../src/components/BaseCrud/_components/ExtraBtns/index.tsx","../../../src/components/BaseCrud/_components/ImportModal.tsx","../../../src/components/BaseCrud/_config.ts","../../../src/components/BaseCrud/_components/StrongText/index.tsx","../../../src/components/BaseCrud/_utils.tsx","../../../src/components/BaseCrud/index.tsx"],"sourcesContent":["/**\r\n * 增删改查-查询条件-表单组件\r\n * xs\t屏幕 < 576px\r\n * sm\t屏幕 ≥ 576px\r\n * md\t屏幕 ≥ 768px\r\n * lg\t屏幕 ≥ 992px\r\n * xl\t屏幕 ≥ 1200px\r\n * xxl\t屏幕 ≥ 1600px\r\n */\r\n\r\nimport { useState, forwardRef } from \"react\";\r\nimport { Button, Form, Col } from \"antd\";\r\nimport { CSSProperties } from \"react\";\r\nimport BaseFormItem, { FormField, FormFieldAttrs } from \"@/components/BaseFormItem\";\r\nimport { RedoOutlined, SearchOutlined, DownOutlined } from \"@ant-design/icons\";\r\nimport { getMaxLength, getScreenSizeType } from \"@/components/_utils\";\r\nimport { useEventListener } from \"@/hooks\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nimport { useInitForm } from \"@/components/form/_hooks\";\r\nimport s from \"./index.module.less\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n  style?: CSSProperties;\r\n  initialValues?: CommonObj;\r\n  labelCol?: CommonObj;\r\n  wrapperCol?: CommonObj;\r\n  fields?: FormField[];\r\n  rowNum?: number; //筛选条件默认以几行展示\r\n  extraParams?: CommonObj; //额外的请求参数\r\n  onValuesChange?: (changedVals: CommonObj, allVals: CommonObj) => void;\r\n  onFieldsChange?: (changedVals: CommonObj, allVals: CommonObj) => void;\r\n  onSubmit?: (data: CommonObj, cb: () => void) => void;\r\n  onReset?: () => void;\r\n  [key: string]: any;\r\n}\r\nconst colSpanAttrs: CommonObj = {\r\n  xs: 24, // <576\r\n  sm: 24, // >=576\r\n  md: 12, // >=768\r\n  lg: 8, // >=992\r\n  xl: 6, // >=1200\r\n  xxl: 4, // >=1600\r\n};\r\n//设置屏幕宽度类型\r\nfunction getColNum() {\r\n  const colNumMap: CommonObj = {};\r\n  for (let key in colSpanAttrs) {\r\n    colNumMap[key] = 24 / colSpanAttrs[key];\r\n  }\r\n  return colNumMap[getScreenSizeType()];\r\n}\r\nexport default forwardRef((props: Props, ref: any) => {\r\n  const {\r\n    className,\r\n    rowNum = 2,\r\n    onReset,\r\n    loading,\r\n    submitButton,\r\n    resetButton,\r\n    fields,\r\n    pureText,\r\n    readOnly,\r\n    formAttrs,\r\n  } = useInitForm(props, ref);\r\n  const labelWidth = getMaxLength(fields) + \"em\";\r\n  const [colNum, setColNum] = useState(2);\r\n  const [isFold, setIsFold] = useState(true);\r\n  const sliceEndInd = isFold ? (colNum > 1 ? colNum * rowNum - 1 : 1 * rowNum) : undefined;\r\n  useEventListener(\"resize\", () => setColNum(getColNum()), [], true);\r\n  function handleReset() {\r\n    formAttrs.form.resetFields();\r\n    onReset?.();\r\n  }\r\n  return (\r\n    <>\r\n      {fields.length > 0 && (\r\n        <Form className={`${className} ${s[\"query-form\"]} f-fs-s-c`} {...formAttrs}>\r\n          <div\r\n            className={`${s.bodyer} f-fs-fs-w all-hide-scroll`}\r\n            style={{\r\n              maxHeight: isFold ? (colNum > 1 ? rowNum : rowNum + 1) * 40 + \"px\" : \"50vh\",\r\n            }}\r\n          >\r\n            {fields.slice(0, sliceEndInd).map((field: FormField, ind: number) => {\r\n              if (!field) return null;\r\n              return (\r\n                <Col {...colSpanAttrs} key={ind}>\r\n                  <BaseFormItem field={field as FormFieldAttrs} style={{ marginBottom: \"8px\" }} labelWidth={labelWidth} />\r\n                </Col>\r\n              );\r\n            })}\r\n            <Col style={{ marginLeft: \"auto\" }} className=\"mb-8 f-fe-c\" {...colSpanAttrs}>\r\n              <Button loading={loading} icon={<SearchOutlined />} type=\"primary\" htmlType=\"submit\">\r\n                查询\r\n              </Button>\r\n              <Button icon={<RedoOutlined />} onClick={handleReset} disabled={loading}>\r\n                {resetButton}\r\n              </Button>\r\n              {fields.length > colNum * rowNum - 1 && (\r\n                <Button\r\n                  icon={<DownOutlined className={`${isFold ? \"\" : \"rotate-180\"} ${s[\"icon-fold\"]}`} />}\r\n                  onClick={() => setIsFold(!isFold)}\r\n                  style={{ padding: 0 }}\r\n                  type=\"link\"\r\n                  disabled={loading}\r\n                >\r\n                  折叠\r\n                </Button>\r\n              )}\r\n            </Col>\r\n          </div>\r\n        </Form>\r\n      )}\r\n    </>\r\n  );\r\n});\r\n","import {\r\n  PlusOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  EyeOutlined,\r\n  UndoOutlined,\r\n  CloudDownloadOutlined,\r\n  VerticalAlignTopOutlined,\r\n  VerticalAlignBottomOutlined,\r\n  FileTextOutlined,\r\n  StopOutlined,\r\n  CheckCircleOutlined,\r\n  CheckOutlined,\r\n  CloseOutlined,\r\n  CloudUploadOutlined,\r\n  RedoOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { CommonObj } from \"@/vite-env\";\r\n\r\nexport const btnsMap: CommonObj = {\r\n  add: {\r\n    name: \"add\",\r\n    text: \"新增\",\r\n    order: 0,\r\n    auth: [],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <PlusOutlined />,\r\n      ghost: false,\r\n    },\r\n  },\r\n  delete: {\r\n    name: \"delete\",\r\n    text: \"删除\",\r\n    order: 1,\r\n    auth: [0, 1, 2],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <DeleteOutlined />,\r\n      danger: true,\r\n    },\r\n    popconfirm: true,\r\n  },\r\n  edit: {\r\n    name: \"edit\",\r\n    text: \"编辑\",\r\n    order: 2,\r\n    auth: [0, 1, 2],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <EditOutlined />,\r\n      ghost: true,\r\n    },\r\n  },\r\n  view: {\r\n    name: \"view\",\r\n    text: \"查看\",\r\n    order: 3,\r\n    auth: [],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <EyeOutlined />,\r\n      ghost: true,\r\n    },\r\n  },\r\n  upload: {\r\n    name: \"upload\",\r\n    text: \"上传\",\r\n    order: 4,\r\n    auth: [0, 1, 2],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <CloudUploadOutlined />,\r\n    },\r\n  },\r\n  download: {\r\n    name: \"download\",\r\n    text: \"下载\",\r\n    order: 5,\r\n    auth: [],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <CloudDownloadOutlined />,\r\n      ghost: true,\r\n    },\r\n  },\r\n  import: {\r\n    name: \"import\",\r\n    text: \"导入\",\r\n    order: 10,\r\n    auth: [0, 1, 2],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <VerticalAlignTopOutlined />,\r\n    },\r\n  },\r\n  export: {\r\n    name: \"export\",\r\n    text: \"导出\",\r\n    order: 11,\r\n    auth: [],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <VerticalAlignBottomOutlined />,\r\n      ghost: true,\r\n    },\r\n  },\r\n  enable: {\r\n    name: \"enable\",\r\n    text: \"启用\",\r\n    order: 12,\r\n    auth: [0, 1, 2],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <CheckCircleOutlined />,\r\n    },\r\n    popconfirm: true,\r\n  },\r\n  forbid: {\r\n    name: \"forbid\",\r\n    text: \"禁用\",\r\n    order: 13,\r\n    auth: [0, 1, 2],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <StopOutlined />,\r\n      ghost: true,\r\n    },\r\n    popconfirm: true,\r\n  },\r\n  repeal: {\r\n    name: \"repeal\",\r\n    text: \"撤销\",\r\n    order: 20,\r\n    auth: [0, 1, 2],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <UndoOutlined />,\r\n      ghost: true,\r\n      danger: true,\r\n    },\r\n  },\r\n  log: {\r\n    name: \"log\",\r\n    text: \"日志\",\r\n    order: 21,\r\n    auth: [],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <FileTextOutlined />,\r\n      ghost: true,\r\n    },\r\n  },\r\n  submit: {\r\n    name: \"submit\",\r\n    text: \"提交\",\r\n    order: 30,\r\n    auth: [],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <CloudUploadOutlined />,\r\n      // ghost: true,\r\n    },\r\n  },\r\n  reset: {\r\n    name: \"reset\",\r\n    text: \"重置\",\r\n    order: 31,\r\n    auth: [],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <RedoOutlined />,\r\n      ghost: true,\r\n    },\r\n  },\r\n  pass: {\r\n    name: \"pass\",\r\n    text: \"通过\",\r\n    order: 31,\r\n    auth: [],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <CheckOutlined />,\r\n    },\r\n  },\r\n  reject: {\r\n    name: \"reject\",\r\n    text: \"驳回\",\r\n    order: 31,\r\n    auth: [],\r\n    attrs: {\r\n      type: \"primary\",\r\n      icon: <CloseOutlined />,\r\n      danger: true,\r\n      ghost: true,\r\n    },\r\n  },\r\n  empty: {\r\n    name: \"empty\",\r\n    text: \"empty\",\r\n    auth: [],\r\n    attrs: {\r\n      danger: true,\r\n    },\r\n  },\r\n};\r\n","import { typeOf } from \"@/components/_utils\";\r\nimport { merge } from \"lodash\";\r\nimport { btnsMap } from \"./btns\";\r\nimport { BaseBtnType, BtnItem, BtnName, BtnFn } from \"./_types\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nimport BaseIcon, { IconNames } from \"../BaseIcon\";\r\n// import { ExclamationCircleOutlined } from \"@ant-design/icons\";\r\n\r\n/**\r\n * 获取popconfirm的属性对象\r\n * @param popconfirm string boolean object\r\n * @param text string 按钮文字\r\n */\r\nexport function getPopconfirmAttrs(popconfirm: string | boolean | CommonObj, text: string) {\r\n  if (!popconfirm) return;\r\n  //如果自定义popconfirm属性时忘记了加title属性，则自动加上，这个在antd中是必传的，如果为空，也会导致样式有点错乱\r\n  if (typeOf(popconfirm) === \"Object\") return Object.assign({ title: \"温馨提示\" }, popconfirm);\r\n  return {\r\n    title: \"温馨提示\",\r\n    description: `确认是否${text}？`,\r\n    // icon: <ExclamationCircleOutlined className=\"color-danger\" />,\r\n    okButtonProps: {\r\n      danger: true,\r\n    },\r\n    cancelButtonProps: {},\r\n  };\r\n}\r\n\r\n/**\r\n * 根据按钮名或按钮对象获取按钮对象\r\n * @param btn string | object | function 按钮名或按钮对象或方法函数\r\n */\r\nexport function getBtnObj(btn: BaseBtnType, btnItem?: BtnItem, row?: CommonObj): BtnItem {\r\n  const t = typeOf(btn);\r\n  let btnObj: BtnItem = { name: \"\" };\r\n  if (t === \"String\") {\r\n    // icon 经过 JSON.parse(JSON.stringify())之后，重新渲染时会报错，故做此处理\r\n    const currBtn = btnsMap[btn as BtnName];\r\n    if (currBtn) {\r\n      const { icon } = currBtn.attrs ?? {};\r\n      btnObj = JSON.parse(JSON.stringify(currBtn));\r\n      if (icon && btnObj?.attrs) {\r\n        btnObj.attrs.icon = icon;\r\n      }\r\n    } else {\r\n      btnObj = Object.assign({}, btnsMap.empty, { text: btn });\r\n    }\r\n  } else if (t === \"Object\") {\r\n    btnObj = merge({}, btnsMap[(btn as BtnItem).name as BtnName], btn as BtnItem);\r\n  } else if (t === \"Function\") {\r\n    btnObj = getBtnObj((btn as BtnFn)(row), undefined, row);\r\n  }\r\n  if (btnObj.popconfirm) {\r\n    const { popconfirm, text } = btnObj;\r\n    btnObj.popconfirm = getPopconfirmAttrs(popconfirm, text as string);\r\n  }\r\n  merge(btnObj, btnItem);\r\n  const { type, icon } = btnObj!.attrs!;\r\n  // 当type为link时，需要删除ghost属性，不然会触发警告\r\n  if (type === \"link\") {\r\n    delete btnObj!.attrs!.ghost;\r\n  }\r\n  if (typeof icon === \"string\") {\r\n    btnObj!.attrs!.icon = <BaseIcon name={icon as IconNames} />;\r\n  }\r\n  return btnObj;\r\n}\r\n","/**\r\n * 系统内置基础按钮\r\n */\r\n\r\nimport { Button, Popconfirm } from \"antd\";\r\nimport { ButtonSize } from \"antd/es/button\";\r\nimport { ButtonType } from \"antd/lib/button\";\r\nimport { CSSProperties } from \"react\";\r\nimport { BaseBtnType, BtnItem, BtnName, PopconfirmAttrs } from \"./_types\";\r\nimport { getBtnObj } from \"./_utils\";\r\nimport { useRouter } from \"@/hooks\";\r\nimport { showMessage } from \"../_utils\";\r\n\r\nexport * from \"./_types\";\r\nexport * from \"./_utils\";\r\nexport * from \"./btns\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n  style?: CSSProperties;\r\n  children?: string;\r\n  btn: BaseBtnType;\r\n  attrs?: {\r\n    size?: ButtonSize;\r\n    type?: ButtonType;\r\n  };\r\n  onClick?: (name: BtnName) => void;\r\n  [key: string]: any;\r\n}\r\n\r\nexport default ({ className = \"\", style, btn, attrs, onClick, children, ...restProps }: Props) => {\r\n  const router = useRouter();\r\n  const newBtn: BtnItem = getBtnObj(btn, { attrs } as BtnItem);\r\n  //处理点击事件\r\n  function handleClick() {\r\n    const { name, text, to } = newBtn;\r\n    if (to) return router.push(to);\r\n    if (onClick) return onClick(name);\r\n    showMessage(`暂未处理 【${text}】按钮 - ${name}`, \"error\");\r\n  }\r\n\r\n  return newBtn.popconfirm ? (\r\n    <Popconfirm onConfirm={handleClick} {...(newBtn.popconfirm as PopconfirmAttrs)}>\r\n      <Button className={`${className}`} style={style} icon={newBtn.icon} {...restProps} {...newBtn.attrs}>\r\n        {children ?? newBtn.text}\r\n      </Button>\r\n    </Popconfirm>\r\n  ) : (\r\n    <Button onClick={handleClick} className={`${className}`} style={style} icon={newBtn.icon} {...restProps} {...newBtn.attrs}>\r\n      {children ?? newBtn.text}\r\n    </Button>\r\n  );\r\n};\r\n","/**\r\n * BaseCrud 增删改查组件 - 操作栏 - 按钮组\r\n */\r\n\r\nimport { Button, Dropdown } from \"antd\";\r\nimport BaseBtn, { BtnName, BtnItem } from \"@/components/BaseBtn\";\r\nimport { DownOutlined } from \"@ant-design/icons\";\r\nimport { CSSProperties, useState } from \"react\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nimport { defaultGroupBtnsMaxNum } from \"@/components/_utils\";\r\nimport { ButtonSize, ButtonType } from \"antd/es/button\";\r\nimport s from \"./index.module.less\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n  style?: CSSProperties;\r\n  btns?: BtnItem[];\r\n  maxNum?: number;\r\n  onClick?: (name: BtnName) => void;\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface DefaultBaseBtnAttrs {\r\n  maxNum: number;\r\n  size: ButtonSize;\r\n  type: ButtonType;\r\n}\r\n\r\nexport const defaultBaseBtnAttrs: DefaultBaseBtnAttrs = {\r\n  maxNum: defaultGroupBtnsMaxNum,\r\n  size: \"small\",\r\n  type: \"link\",\r\n};\r\n\r\nexport const btnGapMap: CommonObj = {\r\n  small: {\r\n    btnPadding: 12,\r\n    btnMargin: 10,\r\n    fontSize: 14,\r\n  },\r\n  middle: {\r\n    btnPadding: 12,\r\n    btnMargin: 10,\r\n    fontSize: 14,\r\n  },\r\n  large: {\r\n    btnPadding: 12,\r\n    btnMargin: 10,\r\n    fontSize: 14,\r\n  },\r\n};\r\n\r\nexport default ({\r\n  className = \"\",\r\n  btns = [],\r\n  maxNum = defaultBaseBtnAttrs.maxNum,\r\n  size = defaultBaseBtnAttrs.size,\r\n  type = defaultBaseBtnAttrs.type,\r\n  onClick,\r\n  ...restProps\r\n}: Props) => {\r\n  const [show, setShow] = useState(false);\r\n  const isOver = btns.length > maxNum;\r\n  const btnAttrs = { size, type };\r\n  return (\r\n    <div className={`${className} ${s[\"operate-btns\"]}`} {...restProps}>\r\n      {btns.slice(0, isOver ? maxNum - 1 : maxNum).map((btn, ind: number) => {\r\n        return <BaseBtn attrs={btnAttrs} className={s.btn} btn={btn} onClick={onClick} key={ind} />;\r\n      })}\r\n      {isOver && (\r\n        <Dropdown\r\n          open={show}\r\n          onOpenChange={(visible: boolean) => setShow(visible)}\r\n          trigger={[\"click\"]}\r\n          menu={{\r\n            selectable: true,\r\n            items: btns.slice(maxNum - 1).map((btn, ind: number) => {\r\n              return {\r\n                key: ind,\r\n                label: (\r\n                  <BaseBtn\r\n                    attrs={btnAttrs}\r\n                    className={s.btn}\r\n                    btn={btn}\r\n                    onClick={(name: BtnName) => {\r\n                      setShow(false);\r\n                      onClick?.(name);\r\n                    }}\r\n                  />\r\n                ),\r\n              };\r\n            }),\r\n          }}\r\n        >\r\n          <Button icon={<DownOutlined />} {...btnAttrs} type=\"text\">\r\n            更多\r\n          </Button>\r\n        </Dropdown>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * 文件说明-模板文件\r\n */\r\n\r\nimport { StrNum } from \"@/vite-env\";\r\nimport { CSSProperties, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { PopupContext } from \"@/components/provider/PopupProvider\";\r\nimport { getIsOver } from \"@/components/_utils\";\r\nimport s from \"./index.module.less\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n  style?: CSSProperties;\r\n  maxLine?: StrNum; //最多显示几行，可选值：1~5 必须为整数\r\n  title?: string;\r\n  width?: StrNum;\r\n  [key: string]: any;\r\n}\r\nexport default ({ className = \"\", maxLine = 5, title = \"详情\", width = \"500px\", children, ...restProps }: Props) => {\r\n  const { openPopup } = useContext(PopupContext);\r\n  const baseTextRef = useRef<any>(null);\r\n  const [isOver, setIsOver] = useState<boolean>(false);\r\n  useEffect(() => {\r\n    setIsOver(getIsOver(baseTextRef.current));\r\n  }, []);\r\n  function handleClick(e: any) {\r\n    if (isOver) openPopup({ title, width }, e.target.innerText);\r\n  }\r\n  return (\r\n    <div\r\n      className={`${className} ${s[\"base-text\"]} line-${maxLine} ${isOver ? s.over : \"\"}`}\r\n      onClick={handleClick}\r\n      ref={baseTextRef}\r\n      {...restProps}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import { defaultColumnAttrs } from \"./_config\";\r\nimport { CommonObj } from \"@/vite-env\";\r\nimport { MenuOutlined } from \"@ant-design/icons\";\r\nimport { TableColAttrs, SpecialColKeys, InnerColName, OutterColName } from \"./_types\";\r\nimport UserInfo from \"@/views/_components/UserInfo\";\r\nimport BaseImg from \"@/components/BaseImg\";\r\nimport BaseText from \"@/components/BaseText\";\r\nimport BaseTag from \"@/components/BaseTag\";\r\nimport { Switch } from \"antd\";\r\nimport { emptyVals, showMessage } from \"../_utils\";\r\nimport BaseCopy from \"../BaseCopy\";\r\n\r\nexport const specialColMap: { [key in SpecialColKeys | InnerColName | OutterColName]: TableColAttrs } = {\r\n  //序号列\r\n  index: {\r\n    dataIndex: \"$index\",\r\n    title: \"序号\",\r\n    width: 60,\r\n    fixed: \"left\",\r\n    render: (text: any, row: CommonObj, ind: number) => ind + 1,\r\n  },\r\n  //排序列\r\n  sort: {\r\n    dataIndex: \"$sort\",\r\n    title: \"排序\",\r\n    width: 60,\r\n    fixed: \"left\",\r\n    render: (text: any) => <MenuOutlined style={{ touchAction: \"none\", cursor: \"move\" }} />,\r\n  },\r\n  //操作列\r\n  operate: {\r\n    dataIndex: \"$operate\",\r\n    title: \"操作\",\r\n    // width: 260,\r\n    fixed: \"right\",\r\n    ...defaultColumnAttrs,\r\n  },\r\n  //id：唯一标识id\r\n  id: { dataIndex: \"id\", title: \"ID\", width: 70, fixed: \"left\" },\r\n  //备注列\r\n  remark: { dataIndex: \"remark\", title: \"备注\", width: 140 },\r\n  //创建列\r\n  create: {\r\n    dataIndex: [\"create_name\", \"create_time\"],\r\n    title: \"创建时间\",\r\n    width: 160,\r\n    render: (text: string | [string, string]) => {\r\n      if (Array.isArray(text)) {\r\n        const [name, time] = text;\r\n        return (\r\n          <>\r\n            <div>{emptyVals.includes(name) ? \"-\" : name}</div>\r\n            <div>{emptyVals.includes(time) ? \"-\" : time}</div>\r\n          </>\r\n        );\r\n      }\r\n      return emptyVals.includes(text) ? \"-\" : text;\r\n    },\r\n  },\r\n  //修改列\r\n  update: {\r\n    dataIndex: [\"update_name\", \"update_time\"],\r\n    title: \"修改时间\",\r\n    width: 160,\r\n    render: (text: string | [string, string]) => {\r\n      if (Array.isArray(text)) {\r\n        const [name, time] = text;\r\n        return (\r\n          <>\r\n            <div>{emptyVals.includes(name) ? \"-\" : name}</div>\r\n            <div>{emptyVals.includes(time) ? \"-\" : time}</div>\r\n          </>\r\n        );\r\n      }\r\n      return emptyVals.includes(text) ? \"-\" : text;\r\n    },\r\n  },\r\n  //switch开关\r\n  switch: {\r\n    dataIndex: \"status\",\r\n    title: \"启用状态\",\r\n    width: 80,\r\n    render: (value: any) => (\r\n      <Switch\r\n        checkedChildren=\"启用\"\r\n        unCheckedChildren=\"禁用\"\r\n        checked={value === 1}\r\n        onChange={(checked: boolean) => showMessage(\"暂未联调\", \"info\")}\r\n      />\r\n    ),\r\n  },\r\n  //是否启用状态\r\n  BaseTag: {\r\n    dataIndex: \"status\",\r\n    title: \"状态\",\r\n    width: 90,\r\n    render: (value: any) => <BaseTag name=\"EnableStatus\" value={value} />,\r\n  },\r\n  //图片\r\n  BaseImg: {\r\n    dataIndex: \"imgUrl\",\r\n    title: \"图片\",\r\n    width: 136,\r\n    render: (value: any) => <BaseImg size={120} src={value} />,\r\n  },\r\n  //文本省略显示，点击查看更多\r\n  BaseText: {\r\n    dataIndex: \"content\",\r\n    title: \"内容\",\r\n    width: 250,\r\n    render: (value: any) => <BaseText size={120}>{value}</BaseText>,\r\n  },\r\n  // 文本复制\r\n  BaseCopy: {\r\n    dataIndex: \"desc\",\r\n    title: \"简介\",\r\n    width: 200,\r\n    render: (text, row, index) => <BaseCopy text={text} />,\r\n  },\r\n  //用户信息\r\n  UserInfo: {\r\n    dataIndex: \"userData\",\r\n    title: \"用户信息\",\r\n    fixed: \"left\",\r\n    width: 440, // 222,\r\n    render: (value: any) => <UserInfo data={value} />,\r\n  },\r\n};\r\n","/**\r\n * 文件说明-模板文件\r\n */\r\nimport React, { useRef, useImperativeHandle, forwardRef, useContext, CSSProperties, ReactNode } from \"react\";\r\nimport { Table } from \"antd\";\r\nimport OperateBtns, { DefaultBaseBtnAttrs, btnGapMap, defaultBaseBtnAttrs } from \"../OperateBtns\";\r\nimport { BtnName, BaseBtnType, BtnItem, getBtnObj } from \"@/components/BaseBtn\";\r\nimport { btnsMap } from \"@/components/BaseBtn\";\r\nimport { emptyVals, getChinaCharLength, isDev, propsJoinChar, showMessage } from \"@/components/_utils\";\r\nimport { ClosePopupType, PopupContext } from \"@/components/provider/PopupProvider\";\r\nimport { TableCol, TableColAttrs, RowKeyType, StandardTableColAttrs, SpecialColKeys } from \"@/components/table/_types\";\r\nimport { defaultColumnAttrs, defaultTableAttrs, defaultPagination } from \"@/components/table/_config\";\r\nimport { specialColMap } from \"@/components/table/_utils\";\r\nimport { CommonObj, FinallyNext } from \"@/vite-env\";\r\nimport s from \"./index.module.less\";\r\nimport BaseQuestionPopover from \"@/components/BaseQuestionPopover\";\r\n\r\nexport interface PaginationAttrs {\r\n  defaultPageSize?: number;\r\n  defaultCurrent?: number;\r\n  size?: \"default\" | \"small\"; //small, default\r\n  showSizeChanger?: boolean;\r\n  showTotal?: (total: number, range: number) => string;\r\n  showQuickJumper?: boolean; //是否可以快速跳转至某页\r\n  pageSizeOptions?: (string | number)[]; //指定每页可以显示多少条\r\n  hideOnSinglePage?: boolean; //只有一页时是否隐藏分页器\r\n  responsive?: boolean; //当 size 未指定时，根据屏幕宽度自动调整尺寸\r\n}\r\ninterface Props {\r\n  /**\r\n   * 以下是antd的属性\r\n   */\r\n  className?: string;\r\n  style?: CSSProperties;\r\n  bordered?: boolean;\r\n  columns?: TableCol[];\r\n  dataSource?: CommonObj[];\r\n  rowKey?: string;\r\n  loading?: boolean;\r\n  pagination?: PaginationAttrs;\r\n  /**\r\n   * 以下是新增的属性\r\n   */\r\n  sort?: boolean;\r\n  index?: boolean;\r\n  selection?: boolean;\r\n  total?: number;\r\n  operateBtns?: BaseBtnType[];\r\n  operateBtnsAttrs?: DefaultBaseBtnAttrs;\r\n  filterBtnsByAuth: (btns: BtnItem[]) => BtnItem[];\r\n  onPageChange?: (currPage: number, pageSize: number) => void;\r\n  onPageSizeChange?: (currPage: number, pageSize: number) => void;\r\n  onOperateBtn?: (name: BtnName, row: CommonObj, next: FinallyNext) => void;\r\n  selectedRowKeys?: React.Key[];\r\n  onSelectionChange?: (seledKeys: React.Key[], seledRows: CommonObj[]) => void;\r\n  onSelectionSelect?: (record: CommonObj, selected: boolean, seledRows: CommonObj[]) => void;\r\n  onSelectionSelectAll?: (selected: boolean, seledRows: CommonObj[], changeRows: CommonObj[]) => void;\r\n  [key: string]: any;\r\n}\r\n\r\nconst cellPadding = 8;\r\nlet opeColWidth = 0; // 操作栏的宽度\r\n\r\n// 该列是否已联调\r\nconst getIsHandle = (prop: string, rows: CommonObj[]) => {\r\n  if (!isDev) return true; // 只允许开发环境下，存在未联调的状态，然后进行表格头部标红处理\r\n  if (!rows?.length || prop.startsWith(\"$\")) return true;\r\n  const row = rows[0];\r\n  if (!prop.includes(propsJoinChar)) return row[prop] !== undefined;\r\n  return prop.split(propsJoinChar).some((key: string) => row[key] !== undefined);\r\n};\r\nexport default forwardRef(\r\n  (\r\n    {\r\n      className = \"\",\r\n      columns = [],\r\n      dataSource = [],\r\n      rowKey = \"id\",\r\n      loading,\r\n      pagination,\r\n      sort = false,\r\n      index = false,\r\n      selection = false,\r\n      total = 0,\r\n      operateBtns = [],\r\n      operateBtnsAttrs,\r\n      filterBtnsByAuth,\r\n      onPageChange,\r\n      onPageSizeChange,\r\n      onOperateBtn,\r\n      selectedRowKeys,\r\n      onSelectionChange,\r\n      onSelectionSelect,\r\n      onSelectionSelectAll,\r\n      ...restProps\r\n    }: Props,\r\n    ref: any\r\n  ) => {\r\n    let rowSelection: undefined | CommonObj;\r\n    const dateKeysArr: [string, string][] = [];\r\n    const tableRef = useRef(null);\r\n    const { closePopup } = useContext(PopupContext);\r\n    const tableAttrs = Object.assign({}, defaultTableAttrs, restProps);\r\n    const colKeys: string[] = [];\r\n    const opeBtnsAttrs = Object.assign({}, operateBtnsAttrs, defaultBaseBtnAttrs);\r\n    const rowsBtns: BtnItem[][] = dataSource.map((row: CommonObj, ind: number) => getOperateBtnsOfRow(row, ind));\r\n    const newCols = getNewCols(opeColWidth);\r\n    function getNewCols(width: number) {\r\n      let cols = columns.filter(it => !!it) as TableColAttrs[];\r\n      cols = cols.map((item: TableColAttrs) => {\r\n        const { type, title, otherAttrs, ...restCol } = item;\r\n        let newTitle: ReactNode = title;\r\n        const specialCol = type ? specialColMap[type as SpecialColKeys] ?? undefined : undefined;\r\n        const hasRender = !!(item.render || specialCol?.render);\r\n        let dataKey = restCol.dataIndex ?? (specialCol?.dataIndex as string);\r\n        if (Array.isArray(dataKey)) {\r\n          dateKeysArr.push(dataKey);\r\n          dataKey = dataKey.join(propsJoinChar);\r\n        }\r\n        colKeys.push(dataKey as string);\r\n        const col = Object.assign(\r\n          typeof title === \"string\" ? { width: title.includes(\"时间\") ? 160 : 100 } : {},\r\n          defaultColumnAttrs,\r\n          specialCol,\r\n          restCol,\r\n          { dataIndex: dataKey },\r\n          hasRender ? undefined : { render: (text: any) => (emptyVals.includes(text) ? \"-\" : text) }\r\n        );\r\n        const isHandle = getIsHandle(dataKey, dataSource);\r\n        if (otherAttrs?.popover) {\r\n          newTitle = (\r\n            <>\r\n              {title}\r\n              <BaseQuestionPopover type={isHandle ? undefined : \"danger\"} content={otherAttrs.popover} />\r\n            </>\r\n          );\r\n        }\r\n        if (!isHandle) newTitle = <div className=\"color-danger\">{newTitle}</div>;\r\n        col.title = newTitle;\r\n        return col;\r\n      });\r\n      if (index) cols.unshift(specialColMap.index);\r\n      if (sort) cols.unshift(specialColMap.sort);\r\n      if (operateBtns?.length) {\r\n        const col = Object.assign({ width }, specialColMap.operate, {\r\n          render: (text: any, row: CommonObj, ind: number) => (\r\n            <OperateBtns onClick={(name: BtnName) => handleOperateBtn(name, row, ind)} btns={rowsBtns[ind]} />\r\n          ),\r\n        });\r\n        cols.push(col as TableColAttrs);\r\n      }\r\n      return cols;\r\n    }\r\n    const newRows = dataSource.map((item: CommonObj, ind: number) => {\r\n      if (!item[rowKey]) item[rowKey] = ind;\r\n      dateKeysArr.forEach((arr: [string, string]) => {\r\n        item[arr.join(propsJoinChar)] = [item[arr[0]], item[arr[1]]];\r\n        delete item[arr[0]];\r\n        delete item[arr[1]];\r\n      });\r\n      return item;\r\n    });\r\n    if (selection) {\r\n      rowSelection = {\r\n        selectedRowKeys,\r\n        onChange(seledKeys: string[], seledRows: CommonObj[]) {\r\n          onSelectionChange?.(seledKeys, seledRows);\r\n        },\r\n        onSelect(row: CommonObj, isSeled: boolean, seledRows: CommonObj[]) {\r\n          onSelectionSelect?.(row, isSeled, seledRows);\r\n        },\r\n        onSelectAll(isSeled: boolean, seledRows: CommonObj[], changeRows: CommonObj[]) {\r\n          onSelectionSelectAll?.(isSeled, seledRows, changeRows);\r\n        },\r\n      };\r\n    }\r\n    useImperativeHandle(ref, () => ({ tableRef }), [tableRef]);\r\n    // 处理点击操作栏的按钮\r\n    function handleOperateBtn(name: BtnName, row: CommonObj, ind: number) {\r\n      const { text } = btnsMap[name] ?? {};\r\n      if (!onOperateBtn) return showMessage(`暂未处理【${text}】按钮 - ${name}`, \"error\");\r\n      onOperateBtn(\r\n        name,\r\n        { ...row, $index: ind },\r\n        (msg: string = `${text}成功!`, closeType?: ClosePopupType, cb?: () => void, isRefresh?: boolean) => {\r\n          showMessage(msg);\r\n          closePopup(closeType);\r\n          cb?.();\r\n        }\r\n      );\r\n    }\r\n    // 获取每一行的分组按钮\r\n    function getOperateBtnsOfRow(row: CommonObj, ind: number) {\r\n      const tempBtns = operateBtns.map((btn: BaseBtnType) => getBtnObj(btn, undefined, row));\r\n      const filterBtns = filterBtnsByAuth(tempBtns);\r\n      const width = getOperateColWidth(filterBtns);\r\n      if (ind < dataSource.length - 1) {\r\n        if (opeColWidth < width) opeColWidth = width;\r\n      } else {\r\n        if (opeColWidth < 30) opeColWidth = getOperateColWidth(); //如果操作栏没有按钮，则按照最小宽度展示操作栏，例如新增按钮\r\n      }\r\n      return filterBtns;\r\n    }\r\n    // 获取操作栏的宽度\r\n    function getOperateColWidth(btns?: BtnItem[]) {\r\n      const { maxNum, size } = opeBtnsAttrs;\r\n      const { fontSize, btnPadding, btnMargin, iconMarginRight } = btnGapMap[size as string];\r\n      //最小宽度\r\n      if (!btns) return 3 * fontSize + 1 * btnPadding * 2 + cellPadding * 2;\r\n      let em = 0; //按钮文字字符数量\r\n      let width = 0;\r\n      if (btns.length > maxNum) {\r\n        btns = btns.slice(0, maxNum - 1).concat([{ text: \"更多\" } as BtnItem]);\r\n      }\r\n      // if (vertical) {\r\n      //   btns.forEach((item: BtnItem) => {\r\n      //     em = getChinaCharLength(item.text) + 1; //文字加图标 (全角符算1个，半角符算0.5个字符)\r\n      //     const currWidth = em * fontSize + btnPadding * 2 + cellPadding * 2; //字符的宽度 + 按钮左右padding值 + 各个按钮之间的margin值 + 单元格的左右padding值\r\n      //     if (currWidth > width)  width = currWidth;\r\n      //   });\r\n      // } else {\r\n      btns.forEach((item: BtnItem) => {\r\n        em += getChinaCharLength(item.text) + 1; //文字加图标 (全角符算1个，半角符算0.5个字符)\r\n      });\r\n      width = em * fontSize + btns.length * btnPadding * 2 + (btns.length - 1) * btnMargin + cellPadding * 2; //字符的宽度 + 按钮左右padding值 + 各个按钮之间的margin值 + 单元格的左右padding值\r\n      // }\r\n      return width;\r\n    }\r\n    return (\r\n      <Table\r\n        className={`${className} ${s[\"query-table\"]}`}\r\n        rowKey={rowKey as RowKeyType}\r\n        rowSelection={rowSelection}\r\n        columns={newCols as StandardTableColAttrs[]}\r\n        scroll={{ x: 1, y: 1 }} //加上这个属性，表格头便能够被固定了\r\n        pagination={{\r\n          ...Object.assign({}, defaultPagination, pagination),\r\n          total,\r\n          onChange: onPageChange,\r\n          onShowSizeChange: onPageSizeChange,\r\n        }}\r\n        dataSource={newRows}\r\n        loading={loading && { tip: \"玩命加载中……\", size: \"large\" }}\r\n        {...tableAttrs}\r\n      />\r\n    );\r\n  }\r\n);\r\n","import { CSSProperties, ReactNode } from \"react\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n  style?: CSSProperties;\r\n  children?: ReactNode;\r\n  [key: string]: any;\r\n}\r\n\r\nexport default ({ className = \"\", style, children, ...restProps }: Props) => {\r\n  return (\r\n    <div className={`${className} f-c-c-c`} style={{ width: \"500px\", ...style }} {...restProps}>\r\n      <div>根据组件宽度自动撑开，设置了宽度500px</div>\r\n      <div>这是打印设置页面</div>\r\n      <div>水平、垂直方向居中</div>\r\n    </div>\r\n  );\r\n};\r\n","import { CSSProperties, useContext, useMemo, useState } from \"react\";\r\nimport BaseTable from \"@/components/table/BaseTable\";\r\nimport BaseBtn from \"@/components/BaseBtn\";\r\nimport { Switch } from \"antd\";\r\nimport { PopupContext } from \"@/components/provider/PopupProvider\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { TableColAttrs } from \"@/components/table/_types\";\r\nimport { showMessage, storage } from \"@/components/_utils\";\r\nimport { CommonObj } from \"@/vite-env\";\r\n\r\nexport interface SetTableRowItem {\r\n  colName: string;\r\n  colText: string;\r\n  isShow: boolean;\r\n  isExport: boolean;\r\n  isOrder: boolean;\r\n}\r\ninterface Props {\r\n  className?: string;\r\n  style?: CSSProperties;\r\n  allColumns?: TableColAttrs[];\r\n  columns?: TableColAttrs[];\r\n  resetColumns?: () => void;\r\n  onShowChange: (name: string, val: boolean, ind: number) => void;\r\n  onExportChange: (name: string, val: boolean, ind: number) => void;\r\n  onSortChange: (name: string, val: boolean, ind: number) => void;\r\n  [key: string]: any;\r\n}\r\n\r\nfunction getCols({ onShowChange, onExportChange, onSortChange }: CommonObj): TableColAttrs[] {\r\n  return [\r\n    { dataIndex: \"colText\", title: \"列名称\", width: 200 },\r\n    { dataIndex: \"colName\", title: \"属性名\", width: 120 },\r\n    {\r\n      dataIndex: \"isShow\",\r\n      title: \"是否显示\",\r\n      width: 80,\r\n      render(text: string, row: CommonObj, ind: number) {\r\n        return (\r\n          <Switch\r\n            checkedChildren=\"是\"\r\n            unCheckedChildren=\"否\"\r\n            defaultChecked={row.isShow}\r\n            onChange={val => onShowChange(row.colName, val, ind)}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      dataIndex: \"isExport\",\r\n      title: \"是否导出\",\r\n      width: 80,\r\n      render(text: string, row: CommonObj, ind: number) {\r\n        return (\r\n          <Switch\r\n            checkedChildren=\"是\"\r\n            unCheckedChildren=\"否\"\r\n            defaultChecked={row.isExport}\r\n            onChange={val => onExportChange(row.colName, val, ind)}\r\n            disabled\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      dataIndex: \"isOrder\",\r\n      title: \"排序\",\r\n      width: 80,\r\n      render(text: string, row: CommonObj, ind: number) {\r\n        return (\r\n          <Switch\r\n            checkedChildren=\"是\"\r\n            unCheckedChildren=\"否\"\r\n            defaultChecked={row.isOrder}\r\n            onChange={val => onSortChange(row.colName, val, ind)}\r\n            disabled\r\n          />\r\n        );\r\n      },\r\n    },\r\n  ];\r\n}\r\nexport default ({\r\n  className = \"\",\r\n  style,\r\n  allColumns = [],\r\n  columns = [],\r\n  resetColumns,\r\n  onShowChange,\r\n  onExportChange,\r\n  onSortChange,\r\n  ...restProps\r\n}: Props) => {\r\n  const { pathname } = useLocation();\r\n  const { closePopup } = useContext(PopupContext);\r\n  const [tableKey, setTableKey] = useState(Date.now());\r\n  //表格列字段\r\n  const colFields = allColumns.map(item => {\r\n    const { title, dataIndex } = item;\r\n    return {\r\n      colName: dataIndex as string,\r\n      colText: title,\r\n      isShow: !!columns.find(it => it.dataIndex === dataIndex),\r\n      isExport: true,\r\n      isOrder: false,\r\n    };\r\n  });\r\n  console.log(colFields, \"colFields----------------\");\r\n  function handleSave() {\r\n    // const storeColFields = storage.getItem(\"colFields\") || {};\r\n    // storeColFields[pathname] = colFields;\r\n    // console.log(storeColFields, \"storeColFields-------保存\");\r\n    // storage.setItem(\"colFields\", storeColFields);\r\n    showMessage(\"保存成功\");\r\n    closePopup(\"drawer\");\r\n  }\r\n  function handleReset() {\r\n    resetColumns?.();\r\n    setTableKey(Date.now());\r\n  }\r\n  return (\r\n    <div className={`${className}`} style={{ width: \"600px\", ...style }} {...restProps}>\r\n      <BaseTable columns={getCols({ onShowChange, onExportChange, onSortChange })} dataSource={colFields} key={tableKey} />\r\n      <div className=\"f-c-c mt-16\">\r\n        <BaseBtn onClick={handleSave} btn={{ name: \"submit\", text: \"保存\" }} />\r\n        <BaseBtn onClick={handleReset} btn=\"reset\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * 文件说明-模板文件\r\n */\r\n\r\nimport BaseBtn, { BtnItem, BtnName } from \"@/components/BaseBtn\";\r\nimport { sortObjArrByKey } from \"@/components/_utils\";\r\nimport { CSSProperties, useContext, useEffect } from \"react\";\r\nimport {\r\n  PrinterTwoTone,\r\n  SettingTwoTone,\r\n  FileDoneOutlined,\r\n  CheckSquareOutlined,\r\n  CloseSquareOutlined,\r\n  MinusSquareOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Button, Tooltip, Dropdown } from \"antd\";\r\nimport { PopupContext } from \"@/components/provider/PopupProvider\";\r\nimport SetPrint from \"../SetPrint\";\r\nimport SetTable from \"../SetTable\";\r\nimport { TableColAttrs } from \"@/components/table/_types\";\r\n\r\nexport type ToolsType = \"print\" | \"colSet\";\r\nexport interface ExportFieldItem {\r\n  name: React.Key;\r\n  label: string;\r\n}\r\ninterface Props {\r\n  className?: string;\r\n  style?: CSSProperties;\r\n  allColumns: TableColAttrs[];\r\n  columns: TableColAttrs[];\r\n  setColumns: (columns: TableColAttrs[]) => void;\r\n  btns?: BtnItem[];\r\n  tools?: ToolsType[];\r\n  batchBtn?: boolean; //是否显示批量选择按钮\r\n  seledNum?: number; //已选择的数量\r\n  total?: number; //总记录数量\r\n  onClick?: (name: BtnName) => void;\r\n  [key: string]: any;\r\n}\r\nconst toolsMap = {\r\n  print: {\r\n    title: \"打印\",\r\n    icon: <PrinterTwoTone />,\r\n  },\r\n  colSet: {\r\n    title: \"设置\",\r\n    icon: <SettingTwoTone />,\r\n  },\r\n};\r\nconst batchBtns: any[] = [\r\n  {\r\n    key: \"1\",\r\n    label: (\r\n      <Button icon={<CheckSquareOutlined />} type=\"primary\" ghost>\r\n        全选\r\n      </Button>\r\n    ),\r\n  },\r\n  {\r\n    key: \"2\",\r\n    label: (\r\n      <Button icon={<MinusSquareOutlined />} type=\"primary\" ghost>\r\n        反选\r\n      </Button>\r\n    ),\r\n  },\r\n  {\r\n    key: \"3\",\r\n    label: (\r\n      <Button icon={<CloseSquareOutlined />} type=\"primary\" ghost>\r\n        全不选\r\n      </Button>\r\n    ),\r\n  },\r\n];\r\nexport default ({\r\n  className = \"\",\r\n  allColumns = [],\r\n  columns = [],\r\n  setColumns,\r\n  btns = [],\r\n  tools = [\"colSet\"], //\"print\",\r\n  onClick,\r\n  seledNum = 0,\r\n  batchBtn = false,\r\n  total = 0,\r\n  ...restProps\r\n}: Props) => {\r\n  const { openPopup } = useContext(PopupContext);\r\n\r\n  sortObjArrByKey(btns);\r\n  useEffect(() => {}, []);\r\n  function handleToolBtns(name: ToolsType) {\r\n    if (name === \"print\") {\r\n      openPopup(\"打印设置\", <SetPrint />, \"modal\");\r\n    } else if (name === \"colSet\") {\r\n      openPopup(\r\n        \"表格设置\",\r\n        <SetTable\r\n          onShowChange={handleShowChange}\r\n          onExportChange={handleExportChange}\r\n          onSortChange={handleSortChange}\r\n          allColumns={allColumns}\r\n          columns={columns}\r\n          resetColumns={() => setColumns(allColumns.slice())}\r\n        />,\r\n        \"drawer\"\r\n      );\r\n    }\r\n  }\r\n  function handleShowChange(name: string, isShow: boolean, allInd: number) {\r\n    if (isShow) {\r\n      let findInd = -1;\r\n      columns.findIndex((item, index) => {\r\n        const itemAtAllInd = allColumns.findIndex(it => it.name === item.name);\r\n        if (itemAtAllInd > allInd) {\r\n          findInd = index;\r\n          return true;\r\n        } else if (itemAtAllInd < allInd) {\r\n          if (index === columns.length - 1) {\r\n            findInd = columns.length;\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        }\r\n      });\r\n      columns.splice(findInd, 0, allColumns[allInd]);\r\n      setColumns(columns.slice()); //slice()会深拷贝\r\n    } else {\r\n      const nowInd = columns.findIndex(it => it.name === name);\r\n      columns.splice(nowInd, 1);\r\n      setColumns(columns.slice());\r\n    }\r\n  }\r\n  function handleExportChange(name: string, isShow: boolean, ind: number) {\r\n    console.log(name, isShow, \"handleExportChange-------\");\r\n  }\r\n  function handleSortChange(name: string, isShow: boolean, ind: number) {\r\n    console.log(name, isShow, \"handleSortChange-------\");\r\n  }\r\n  return (\r\n    <div className={`${className} f-sb-fe`} {...restProps}>\r\n      <div className=\"f-1 f-fs-fs-w\">\r\n        {btns.map((btn, ind) => {\r\n          return <BaseBtn className=\"mb-h\" onClick={onClick} btn={btn} key={ind} />;\r\n        })}\r\n        {batchBtn && (\r\n          <Dropdown trigger={[\"hover\"]} menu={{ items: batchBtns, selectable: true }}>\r\n            <Button icon={<FileDoneOutlined />} className=\"mb-h\" type=\"primary\" disabled={!total}>\r\n              批量操作{seledNum ? ` (${seledNum})` : \"\"}\r\n            </Button>\r\n          </Dropdown>\r\n        )}\r\n      </div>\r\n      <div className=\"f-0 ml-h\">\r\n        {tools.map((name, ind) => {\r\n          const tool = toolsMap[name];\r\n          return (\r\n            <Tooltip title={tool.title} key={ind}>\r\n              <Button\r\n                className=\"mb-h\"\r\n                onClick={() => handleToolBtns(name)}\r\n                type=\"primary\"\r\n                shape=\"circle\"\r\n                icon={tool.icon}\r\n                style={ind === 0 ? { marginLeft: \"auto\" } : undefined}\r\n                ghost\r\n              />\r\n            </Tooltip>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import BaseBtn from \"@/components/BaseBtn\";\r\n\r\ninterface Props {}\r\nexport default ({}: Props) => {\r\n  return (\r\n    <>\r\n      <div className=\"mb-16\">请先下载模板后再上传</div>\r\n      <div className=\"f-sa-c\">\r\n        <BaseBtn btn={{ name: \"download\", attrs: { ghost: false } }}>下载模板</BaseBtn>\r\n        <BaseBtn btn=\"import\">导入数据</BaseBtn>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import { BtnName } from \"@/components/BaseBtn\";\r\nimport { ReqMap, ResMap } from \"./_types\";\r\n\r\nexport const defaultReqMap: ReqMap = {\r\n  curr_page: \"curr_page\",\r\n  page_size: \"page_size\",\r\n};\r\nexport const defaultResMap: ResMap = {\r\n  curr_page: \"curr_page\",\r\n  page_size: \"page_size\",\r\n  total_num: \"total_num\",\r\n  records: \"records\",\r\n};\r\nexport const noPopconfirmBtns: BtnName[] = [\"delete\", \"export\"]; //有dialog提示又有ponconfirm提示，且不需要ponconfirm提示的按钮\r\nexport const batchBtns: BtnName[] = [\"delete\", \"import\", \"export\"]; //能够批量操作的按钮\r\n","import { CSSProperties, ReactNode } from \"react\";\r\nimport s from \"./index.module.less\";\r\ninterface Props {\r\n  className?: string;\r\n  style?: CSSProperties;\r\n  type?: \"danger\" | \"primary\";\r\n  children?: ReactNode;\r\n  [key: string]: any;\r\n}\r\nexport default ({ className = \"\", style, type = \"primary\", children, ...restProps }: Props) => {\r\n  const isNum = !isNaN(Number(children));\r\n  return (\r\n    <strong className={`${className} ${s[type]} ml-6 mr-6`} style={{ fontSize: isNum ? 18 : 16, ...style }} {...restProps}>\r\n      {children}\r\n    </strong>\r\n  );\r\n};\r\n","import { BtnName, btnsMap } from \"@/components/BaseBtn\";\r\nimport StrongText from \"./_components/StrongText\";\r\n\r\n//点击按钮后的弹出层提示内容\r\nexport function getBtnModalTips(name: BtnName, num = 0, max: number) {\r\n  const { text, attrs } = btnsMap[name];\r\n  const type = attrs?.danger ? \"danger\" : \"primary\";\r\n  let tips = (\r\n    <div className=\"f-fs-b-w\">\r\n      确定<StrongText type={type}>{text}</StrongText>共<StrongText type={type}>{num}</StrongText> 条数据？\r\n    </div>\r\n  );\r\n  if (name === \"export\" && num > max) {\r\n    tips = (\r\n      <div className=\"f-fs-b-w\">\r\n        单次导出数量不能超过 <StrongText type={type}>{max}</StrongText> 条，请缩小查询范围！\r\n      </div>\r\n    );\r\n  }\r\n  return tips;\r\n}\r\n","/**\r\n * 文件说明-模板文件\r\n */\r\n\r\nimport React, { useContext, useEffect, useRef, useState, useImperativeHandle, forwardRef, CSSProperties } from \"react\";\r\nimport { FormField, FormFieldAttrs } from \"@/components/BaseFormItem\";\r\nimport QueryForm from \"./_components/QueryForm\";\r\nimport QueryTable from \"./_components/QueryTable\";\r\nimport ExtraBtns from \"./_components/ExtraBtns\";\r\nimport { BaseBtnType, BtnItem, BtnName, btnsMap, getBtnObj } from \"@/components/BaseBtn\";\r\nimport { Modal } from \"antd\";\r\nimport { ClosePopupType, PopupContext } from \"@/components/provider/PopupProvider\";\r\nimport ImportModal from \"./_components/ImportModal\";\r\nimport { merge } from \"lodash\";\r\nimport { getUserInfo, omitAttrs, printLog, showMessage } from \"@/components/_utils\";\r\nimport { CommonObj, FetchType, FinallyNext } from \"@/vite-env\";\r\nimport { ExportBtnParams, FormAttrs, TableAttrs, ReqMap, ResMap } from \"./_types\";\r\nimport { TableCol, TableColAttrs } from \"@/components/table/_types\";\r\nimport { batchBtns, defaultReqMap, defaultResMap, noPopconfirmBtns } from \"./_config\";\r\nimport { getBtnModalTips } from \"./_utils\";\r\nimport s from \"./index.module.less\";\r\n\r\nexport * from \"./_types\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n  style?: CSSProperties;\r\n  formAttrs?: FormAttrs;\r\n  tableAttrs?: TableAttrs;\r\n  fields?: FormField[];\r\n  columns?: TableCol[];\r\n  extraBtns?: BaseBtnType[];\r\n  operateBtns?: BaseBtnType[];\r\n  onExtraBtn?: (name: BtnName, exportBtnParams: ExportBtnParams, next: FinallyNext) => void;\r\n  onOperateBtn?: (name: BtnName, row: CommonObj, next: FinallyNext) => void;\r\n  children?: any;\r\n  sort?: boolean;\r\n  index?: boolean;\r\n  selection?: boolean;\r\n  exportMax?: number; //单次最大导出数量\r\n  fetch?: FetchType; //请求方法\r\n  isOmit?: boolean; //发送请求时，是否过滤掉 undefined,null,\"\" 的字段\r\n  log?: boolean; //是否打印请求数据\r\n  immediateFetch?: boolean; //是否立即请求\r\n  changeFetch?: boolean; //是否onChang之后就发送请求（仅限于Select类组件，不含Input类组件）\r\n  extraParams?: CommonObj; //额外的参数\r\n  reqMap?: ReqMap; //响应参数的键名映射\r\n  resMap?: ResMap; //是否展示序号列\r\n  filterByAuth?: (auth: number[]) => boolean;\r\n}\r\n\r\nlet allColumns: TableColAttrs[] = [];\r\n\r\nexport default forwardRef(\r\n  (\r\n    {\r\n      className = \"\",\r\n      fields = [],\r\n      columns = [],\r\n      formAttrs,\r\n      tableAttrs,\r\n      fetch,\r\n      isOmit = true,\r\n      immediateFetch = true,\r\n      changeFetch = true,\r\n      extraBtns = [],\r\n      operateBtns = [],\r\n      onExtraBtn,\r\n      onOperateBtn,\r\n      extraParams,\r\n      exportMax = 20000,\r\n      sort,\r\n      index,\r\n      selection,\r\n      reqMap = {},\r\n      resMap = {},\r\n      log = true,\r\n      children,\r\n      filterByAuth = (auth: number[]) => auth.includes(getUserInfo()?.type),\r\n    }: Props,\r\n    ref: any\r\n  ) => {\r\n    const formRef = useRef(null);\r\n    const tableRef = useRef(null);\r\n    const totalRef = useRef(0);\r\n    const params = useRef<CommonObj>({});\r\n    const { openPopup, closePopup } = useContext(PopupContext);\r\n    const [seledKeys, setSeledKeys] = useState<React.Key[]>([]);\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n    const [rows, setRows] = useState<CommonObj[]>([]);\r\n    Object.assign(reqMap, defaultReqMap);\r\n    Object.assign(resMap, defaultResMap);\r\n    // 初始化分页信息\r\n    const initPage = {\r\n      [`${reqMap.curr_page}`]: 1,\r\n      [`${reqMap.page_size}`]: 20,\r\n    };\r\n    allColumns = columns.filter(col => !!col) as TableColAttrs[]; // 浅克隆\r\n    const [newCols, setNewCols] = useState<TableColAttrs[]>(allColumns);\r\n    const newExtraBtns = extraBtns.map(item => {\r\n      const btn: BtnItem = getBtnObj(item);\r\n      if (noPopconfirmBtns.includes(btn.name)) btn.popconfirm = false;\r\n      if (batchBtns.includes(btn.name)) btn!.attrs!.disabled = !seledKeys.length;\r\n      return btn;\r\n    });\r\n    useImperativeHandle(\r\n      ref,\r\n      () => {\r\n        return {\r\n          formRef,\r\n          tableRef,\r\n          refresh(cb?: () => void) {\r\n            getList(undefined, cb);\r\n          },\r\n        };\r\n      },\r\n      []\r\n    );\r\n    useEffect(() => {\r\n      if (immediateFetch) initFetch();\r\n    }, []);\r\n    //初始化请求数据\r\n    function initFetch() {\r\n      params.current = merge({}, formAttrs?.initialValues, initPage, extraParams);\r\n      getList();\r\n    }\r\n    //获取表格列表数据\r\n    function getList(args: CommonObj = params.current, cb?: () => void) {\r\n      setLoading(true);\r\n      isOmit && (args = omitAttrs(args)); //剔除掉undefined, ''的属性值\r\n      log && printLog(args, \"req\");\r\n      fetch?.(args)\r\n        .then((res: CommonObj) => {\r\n          const list = res[resMap.records];\r\n          log && printLog(JSON.parse(JSON.stringify(list)), \"res\");\r\n          setRows(list);\r\n          totalRef.current = res[resMap.total_num];\r\n          cb?.();\r\n        })\r\n        .finally(() => {\r\n          setLoading(false);\r\n        });\r\n    }\r\n    //处理点击额外按钮\r\n    function handleExtraBtn(name: BtnName) {\r\n      if (name === \"import\") {\r\n        return openPopup({ title: \"温馨提示\", footer: null }, <ImportModal />, \"modal\");\r\n      }\r\n      //要传递的参数信息\r\n      const argsInfo = {\r\n        params: params.current,\r\n        ids: seledKeys,\r\n        fields: [],\r\n      };\r\n      //回调函数\r\n      const callback = (\r\n        msg: string = `${btnsMap[name].text}成功！`,\r\n        closeType: ClosePopupType,\r\n        cb?: () => void,\r\n        isRefresh: boolean = true\r\n      ) => {\r\n        showMessage(msg);\r\n        closePopup?.(closeType);\r\n        isRefresh && getList(params.current);\r\n        cb?.();\r\n      };\r\n      if (!noPopconfirmBtns.includes(name)) return onExtraBtn?.(name, argsInfo, callback);\r\n      Modal.confirm({\r\n        title: \"温馨提示\",\r\n        content: getBtnModalTips(name, seledKeys.length, exportMax),\r\n        onOk: () => onExtraBtn?.(name, argsInfo, callback),\r\n      });\r\n    }\r\n    //处理表单中的值变化时\r\n    function handleValuesChange(vals: CommonObj, allVals: CommonObj) {\r\n      //因为 lodash 的 merge 不会用 undefined 覆盖其他值，故做此处理\r\n      for (let key in vals) {\r\n        if (vals[key] === undefined) vals[key] = \"\";\r\n      }\r\n      merge(params.current, vals, initPage);\r\n      if (changeFetch) {\r\n        const [key] = Object.entries(changedVals)[0];\r\n        /**\r\n         * name可能undefined，此时是自定义组件，type为 Custom；\r\n         * type 可能为undefined，此时 type 为Input\r\n         */\r\n        const target = fields.find(it => {\r\n          if (!it) return false;\r\n          return (it as FormFieldAttrs).name === key;\r\n        });\r\n        if (!target) return;\r\n        const { type } = target as FormFieldAttrs;\r\n        if ([\"Select\"].includes(type as string)) getList();\r\n      }\r\n    }\r\n    //点击提交（查询）按钮\r\n    function handleSubmit(data: CommonObj, next: FinallyNext) {\r\n      getList(data, next);\r\n    }\r\n    //当分页的currPage或pageSize改变时\r\n    function handlePageChange(currPage: number, pageSize: number) {\r\n      merge(params.current, {\r\n        [`${reqMap.curr_page}`]: currPage,\r\n        [`${reqMap.page_size}`]: pageSize,\r\n      });\r\n      getList();\r\n    }\r\n    //当多选框的选择改变时\r\n    function handleSelectionChange(sKeys: React.Key[], sRows: CommonObj[]) {\r\n      if (sKeys.length) return setSeledKeys(seledKeys.concat(sKeys));\r\n      const currPage = params.current[reqMap.curr_page];\r\n      const pageSize = params.current[reqMap.page_size];\r\n      const sInd = (currPage - 1) * 20;\r\n      const cloneSeledKeys = seledKeys.slice();\r\n      cloneSeledKeys.splice(sInd, pageSize);\r\n      setSeledKeys(cloneSeledKeys);\r\n    }\r\n    //根据权限对按钮进行过滤\r\n    function filterBtnsByAuth(btns: BtnItem[]) {\r\n      if (!filterByAuth) return btns;\r\n      return btns.filter(({ auth }) => {\r\n        return auth?.length ? filterByAuth(auth) : true;\r\n      });\r\n    }\r\n    return (\r\n      <div className={`${className} ${s[\"base-crud\"]} auto-scroll-table f-1 f-fs-s-c`}>\r\n        <QueryForm\r\n          className=\"f-0\"\r\n          fields={fields}\r\n          extraParams={extraParams}\r\n          onValuesChange={handleValuesChange}\r\n          onSubmit={handleSubmit}\r\n          onReset={initFetch}\r\n          {...formAttrs}\r\n          ref={formRef}\r\n        />\r\n        {!!children && <div className={`${s.children} f-0 mt-16`}>{children}</div>}\r\n        <ExtraBtns\r\n          className=\"f-0 mt-o\"\r\n          onClick={(name: BtnName) => handleExtraBtn(name)}\r\n          allColumns={allColumns}\r\n          columns={newCols}\r\n          setColumns={setNewCols}\r\n          btns={filterBtnsByAuth(newExtraBtns)}\r\n          seledNum={seledKeys.length}\r\n          total={totalRef.current}\r\n          batchBtn={!!selection}\r\n        />\r\n        <QueryTable\r\n          ref={tableRef}\r\n          columns={newCols}\r\n          dataSource={rows}\r\n          total={totalRef.current}\r\n          sort={sort}\r\n          index={index}\r\n          selection={selection}\r\n          operateBtns={operateBtns}\r\n          filterBtnsByAuth={filterBtnsByAuth}\r\n          onOperateBtn={onOperateBtn}\r\n          onPageChange={handlePageChange}\r\n          selectedRowKeys={seledKeys}\r\n          onSelectionChange={handleSelectionChange}\r\n          loading={loading}\r\n          {...tableAttrs}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n);\r\n"],"names":["colSpanAttrs","getColNum","colNumMap","key","getScreenSizeType","QueryForm","forwardRef","props","ref","className","rowNum","onReset","loading","submitButton","resetButton","fields","pureText","readOnly","formAttrs","useInitForm","labelWidth","getMaxLength","colNum","setColNum","useState","isFold","setIsFold","sliceEndInd","useEventListener","handleReset","jsx","Fragment","Form","s","jsxs","field","ind","createElement","Col","BaseFormItem","Button","SearchOutlined","RedoOutlined","DownOutlined","btnsMap","PlusOutlined","DeleteOutlined","EditOutlined","EyeOutlined","CloudUploadOutlined","CloudDownloadOutlined","VerticalAlignTopOutlined","VerticalAlignBottomOutlined","CheckCircleOutlined","StopOutlined","UndoOutlined","FileTextOutlined","CheckOutlined","CloseOutlined","getPopconfirmAttrs","popconfirm","text","typeOf","getBtnObj","btn","btnItem","row","t","btnObj","currBtn","icon","merge","type","BaseIcon","BaseBtn","style","attrs","onClick","children","restProps","router","useRouter","newBtn","handleClick","name","to","showMessage","Popconfirm","defaultBaseBtnAttrs","defaultGroupBtnsMaxNum","btnGapMap","OperateBtns","btns","maxNum","size","show","setShow","isOver","btnAttrs","Dropdown","visible","BaseText","maxLine","title","width","openPopup","useContext","PopupContext","baseTextRef","useRef","setIsOver","useEffect","getIsOver","e","specialColMap","MenuOutlined","defaultColumnAttrs","time","emptyVals","value","Switch","checked","BaseTag","BaseImg","index","BaseCopy","UserInfo","cellPadding","opeColWidth","getIsHandle","prop","rows","QueryTable","columns","dataSource","rowKey","pagination","sort","selection","total","operateBtns","operateBtnsAttrs","filterBtnsByAuth","onPageChange","onPageSizeChange","onOperateBtn","selectedRowKeys","onSelectionChange","onSelectionSelect","onSelectionSelectAll","rowSelection","dateKeysArr","tableRef","closePopup","tableAttrs","defaultTableAttrs","opeBtnsAttrs","rowsBtns","getOperateBtnsOfRow","newCols","getNewCols","cols","it","item","otherAttrs","restCol","newTitle","specialCol","hasRender","dataKey","propsJoinChar","col","isHandle","BaseQuestionPopover","handleOperateBtn","newRows","arr","seledKeys","seledRows","isSeled","changeRows","useImperativeHandle","msg","closeType","cb","isRefresh","tempBtns","filterBtns","getOperateColWidth","fontSize","btnPadding","btnMargin","iconMarginRight","em","getChinaCharLength","Table","defaultPagination","SetPrint","getCols","onShowChange","onExportChange","onSortChange","val","SetTable","allColumns","resetColumns","useLocation","tableKey","setTableKey","colFields","dataIndex","handleSave","BaseTable","toolsMap","PrinterTwoTone","SettingTwoTone","batchBtns","CheckSquareOutlined","MinusSquareOutlined","CloseSquareOutlined","ExtraBtns","setColumns","tools","seledNum","batchBtn","sortObjArrByKey","handleToolBtns","handleShowChange","handleExportChange","handleSortChange","isShow","allInd","findInd","itemAtAllInd","nowInd","FileDoneOutlined","tool","Tooltip","ImportModal","defaultReqMap","defaultResMap","noPopconfirmBtns","StrongText","isNum","getBtnModalTips","num","max","tips","BaseCrud","fetch","isOmit","immediateFetch","changeFetch","extraBtns","onExtraBtn","extraParams","exportMax","reqMap","resMap","log","filterByAuth","auth","_a","getUserInfo","formRef","totalRef","params","setSeledKeys","setLoading","setRows","initPage","setNewCols","newExtraBtns","getList","initFetch","args","omitAttrs","printLog","res","list","handleExtraBtn","argsInfo","callback","Modal","handleValuesChange","vals","allVals","target","handleSubmit","data","next","handlePageChange","currPage","pageSize","handleSelectionChange","sKeys","sRows","sInd","cloneSeledKeys"],"mappings":"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"}