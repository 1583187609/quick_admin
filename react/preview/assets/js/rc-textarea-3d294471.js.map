{"version":3,"file":"rc-textarea-3d294471.js","sources":["../../../node_modules/rc-textarea/es/calculateNodeHeight.js","../../../node_modules/rc-textarea/es/ResizableTextArea.js","../../../node_modules/rc-textarea/es/TextArea.js"],"sourcesContent":["// Thanks to https://github.com/andreypopp/react-textarea-autosize/\n\n/**\n * calculateNodeHeight(uiTextNode, useCache = false)\n */\n\nvar HIDDEN_TEXTAREA_STYLE = \"\\n  min-height:0 !important;\\n  max-height:none !important;\\n  height:0 !important;\\n  visibility:hidden !important;\\n  overflow:hidden !important;\\n  position:absolute !important;\\n  z-index:-1000 !important;\\n  top:0 !important;\\n  right:0 !important;\\n  pointer-events: none !important;\\n\";\nvar SIZING_STYLE = ['letter-spacing', 'line-height', 'padding-top', 'padding-bottom', 'font-family', 'font-weight', 'font-size', 'font-variant', 'text-rendering', 'text-transform', 'width', 'text-indent', 'padding-left', 'padding-right', 'border-width', 'box-sizing', 'word-break', 'white-space'];\nvar computedStyleCache = {};\nvar hiddenTextarea;\nexport function calculateNodeStyling(node) {\n  var useCache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var nodeRef = node.getAttribute('id') || node.getAttribute('data-reactid') || node.getAttribute('name');\n  if (useCache && computedStyleCache[nodeRef]) {\n    return computedStyleCache[nodeRef];\n  }\n  var style = window.getComputedStyle(node);\n  var boxSizing = style.getPropertyValue('box-sizing') || style.getPropertyValue('-moz-box-sizing') || style.getPropertyValue('-webkit-box-sizing');\n  var paddingSize = parseFloat(style.getPropertyValue('padding-bottom')) + parseFloat(style.getPropertyValue('padding-top'));\n  var borderSize = parseFloat(style.getPropertyValue('border-bottom-width')) + parseFloat(style.getPropertyValue('border-top-width'));\n  var sizingStyle = SIZING_STYLE.map(function (name) {\n    return \"\".concat(name, \":\").concat(style.getPropertyValue(name));\n  }).join(';');\n  var nodeInfo = {\n    sizingStyle: sizingStyle,\n    paddingSize: paddingSize,\n    borderSize: borderSize,\n    boxSizing: boxSizing\n  };\n  if (useCache && nodeRef) {\n    computedStyleCache[nodeRef] = nodeInfo;\n  }\n  return nodeInfo;\n}\nexport default function calculateAutoSizeStyle(uiTextNode) {\n  var useCache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var minRows = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var maxRows = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement('textarea');\n    hiddenTextarea.setAttribute('tab-index', '-1');\n    hiddenTextarea.setAttribute('aria-hidden', 'true');\n    document.body.appendChild(hiddenTextarea);\n  }\n\n  // Fix wrap=\"off\" issue\n  // https://github.com/ant-design/ant-design/issues/6577\n  if (uiTextNode.getAttribute('wrap')) {\n    hiddenTextarea.setAttribute('wrap', uiTextNode.getAttribute('wrap'));\n  } else {\n    hiddenTextarea.removeAttribute('wrap');\n  }\n\n  // Copy all CSS properties that have an impact on the height of the content in\n  // the textbox\n  var _calculateNodeStyling = calculateNodeStyling(uiTextNode, useCache),\n    paddingSize = _calculateNodeStyling.paddingSize,\n    borderSize = _calculateNodeStyling.borderSize,\n    boxSizing = _calculateNodeStyling.boxSizing,\n    sizingStyle = _calculateNodeStyling.sizingStyle;\n\n  // Need to have the overflow attribute to hide the scrollbar otherwise\n  // text-lines will not calculated properly as the shadow will technically be\n  // narrower for content\n  hiddenTextarea.setAttribute('style', \"\".concat(sizingStyle, \";\").concat(HIDDEN_TEXTAREA_STYLE));\n  hiddenTextarea.value = uiTextNode.value || uiTextNode.placeholder || '';\n  var minHeight = undefined;\n  var maxHeight = undefined;\n  var overflowY;\n  var height = hiddenTextarea.scrollHeight;\n  if (boxSizing === 'border-box') {\n    // border-box: add border, since height = content + padding + border\n    height += borderSize;\n  } else if (boxSizing === 'content-box') {\n    // remove padding, since height = content\n    height -= paddingSize;\n  }\n  if (minRows !== null || maxRows !== null) {\n    // measure height of a textarea with a single row\n    hiddenTextarea.value = ' ';\n    var singleRowHeight = hiddenTextarea.scrollHeight - paddingSize;\n    if (minRows !== null) {\n      minHeight = singleRowHeight * minRows;\n      if (boxSizing === 'border-box') {\n        minHeight = minHeight + paddingSize + borderSize;\n      }\n      height = Math.max(minHeight, height);\n    }\n    if (maxRows !== null) {\n      maxHeight = singleRowHeight * maxRows;\n      if (boxSizing === 'border-box') {\n        maxHeight = maxHeight + paddingSize + borderSize;\n      }\n      overflowY = height > maxHeight ? '' : 'hidden';\n      height = Math.min(maxHeight, height);\n    }\n  }\n  var style = {\n    height: height,\n    overflowY: overflowY,\n    resize: 'none'\n  };\n  if (minHeight) {\n    style.minHeight = minHeight;\n  }\n  if (maxHeight) {\n    style.maxHeight = maxHeight;\n  }\n  return style;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"onPressEnter\", \"defaultValue\", \"value\", \"autoSize\", \"onResize\", \"className\", \"style\", \"disabled\", \"onChange\", \"onInternalAutoSize\"];\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport raf from \"rc-util/es/raf\";\nimport * as React from 'react';\nimport calculateAutoSizeStyle from \"./calculateNodeHeight\";\nvar RESIZE_START = 0;\nvar RESIZE_MEASURING = 1;\nvar RESIZE_STABLE = 2;\nvar ResizableTextArea = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _ref = props,\n    prefixCls = _ref.prefixCls,\n    onPressEnter = _ref.onPressEnter,\n    defaultValue = _ref.defaultValue,\n    value = _ref.value,\n    autoSize = _ref.autoSize,\n    onResize = _ref.onResize,\n    className = _ref.className,\n    style = _ref.style,\n    disabled = _ref.disabled,\n    onChange = _ref.onChange,\n    onInternalAutoSize = _ref.onInternalAutoSize,\n    restProps = _objectWithoutProperties(_ref, _excluded);\n\n  // =============================== Value ================================\n  var _useMergedState = useMergedState(defaultValue, {\n      value: value,\n      postState: function postState(val) {\n        return val !== null && val !== void 0 ? val : '';\n      }\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    mergedValue = _useMergedState2[0],\n    setMergedValue = _useMergedState2[1];\n  var onInternalChange = function onInternalChange(event) {\n    setMergedValue(event.target.value);\n    onChange === null || onChange === void 0 ? void 0 : onChange(event);\n  };\n\n  // ================================ Ref =================================\n  var textareaRef = React.useRef();\n  React.useImperativeHandle(ref, function () {\n    return {\n      textArea: textareaRef.current\n    };\n  });\n\n  // ============================== AutoSize ==============================\n  var _React$useMemo = React.useMemo(function () {\n      if (autoSize && _typeof(autoSize) === 'object') {\n        return [autoSize.minRows, autoSize.maxRows];\n      }\n      return [];\n    }, [autoSize]),\n    _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n    minRows = _React$useMemo2[0],\n    maxRows = _React$useMemo2[1];\n  var needAutoSize = !!autoSize;\n\n  // =============================== Scroll ===============================\n  // https://github.com/ant-design/ant-design/issues/21870\n  var fixFirefoxAutoScroll = function fixFirefoxAutoScroll() {\n    try {\n      // FF has bug with jump of scroll to top. We force back here.\n      if (document.activeElement === textareaRef.current) {\n        var _textareaRef$current = textareaRef.current,\n          selectionStart = _textareaRef$current.selectionStart,\n          selectionEnd = _textareaRef$current.selectionEnd,\n          scrollTop = _textareaRef$current.scrollTop;\n\n        // Fix Safari bug which not rollback when break line\n        // This makes Chinese IME can't input. Do not fix this\n        // const { value: tmpValue } = textareaRef.current;\n        // textareaRef.current.value = '';\n        // textareaRef.current.value = tmpValue;\n\n        textareaRef.current.setSelectionRange(selectionStart, selectionEnd);\n        textareaRef.current.scrollTop = scrollTop;\n      }\n    } catch (e) {\n      // Fix error in Chrome:\n      // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n      // http://stackoverflow.com/q/21177489/3040605\n    }\n  };\n\n  // =============================== Resize ===============================\n  var _React$useState = React.useState(RESIZE_STABLE),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    resizeState = _React$useState2[0],\n    setResizeState = _React$useState2[1];\n  var _React$useState3 = React.useState(),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    autoSizeStyle = _React$useState4[0],\n    setAutoSizeStyle = _React$useState4[1];\n  var startResize = function startResize() {\n    setResizeState(RESIZE_START);\n    if (process.env.NODE_ENV === 'test') {\n      onInternalAutoSize === null || onInternalAutoSize === void 0 ? void 0 : onInternalAutoSize();\n    }\n  };\n\n  // Change to trigger resize measure\n  useLayoutEffect(function () {\n    if (needAutoSize) {\n      startResize();\n    }\n  }, [value, minRows, maxRows, needAutoSize]);\n  useLayoutEffect(function () {\n    if (resizeState === RESIZE_START) {\n      setResizeState(RESIZE_MEASURING);\n    } else if (resizeState === RESIZE_MEASURING) {\n      var textareaStyles = calculateAutoSizeStyle(textareaRef.current, false, minRows, maxRows);\n\n      // Safari has bug that text will keep break line on text cut when it's prev is break line.\n      // ZombieJ: This not often happen. So we just skip it.\n      // const { selectionStart, selectionEnd, scrollTop } = textareaRef.current;\n      // const { value: tmpValue } = textareaRef.current;\n      // textareaRef.current.value = '';\n      // textareaRef.current.value = tmpValue;\n\n      // if (document.activeElement === textareaRef.current) {\n      //   textareaRef.current.scrollTop = scrollTop;\n      //   textareaRef.current.setSelectionRange(selectionStart, selectionEnd);\n      // }\n\n      setResizeState(RESIZE_STABLE);\n      setAutoSizeStyle(textareaStyles);\n    } else {\n      fixFirefoxAutoScroll();\n    }\n  }, [resizeState]);\n\n  // We lock resize trigger by raf to avoid Safari warning\n  var resizeRafRef = React.useRef();\n  var cleanRaf = function cleanRaf() {\n    raf.cancel(resizeRafRef.current);\n  };\n  var onInternalResize = function onInternalResize(size) {\n    if (resizeState === RESIZE_STABLE) {\n      onResize === null || onResize === void 0 ? void 0 : onResize(size);\n      if (autoSize) {\n        cleanRaf();\n        resizeRafRef.current = raf(function () {\n          startResize();\n        });\n      }\n    }\n  };\n  React.useEffect(function () {\n    return cleanRaf;\n  }, []);\n\n  // =============================== Render ===============================\n  var mergedAutoSizeStyle = needAutoSize ? autoSizeStyle : null;\n  var mergedStyle = _objectSpread(_objectSpread({}, style), mergedAutoSizeStyle);\n  if (resizeState === RESIZE_START || resizeState === RESIZE_MEASURING) {\n    mergedStyle.overflowY = 'hidden';\n    mergedStyle.overflowX = 'hidden';\n  }\n  return /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onInternalResize,\n    disabled: !(autoSize || onResize)\n  }, /*#__PURE__*/React.createElement(\"textarea\", _extends({}, restProps, {\n    ref: textareaRef,\n    style: mergedStyle,\n    className: classNames(prefixCls, className, _defineProperty({}, \"\".concat(prefixCls, \"-disabled\"), disabled)),\n    disabled: disabled,\n    value: mergedValue,\n    onChange: onInternalChange\n  })));\n});\nexport default ResizableTextArea;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar _excluded = [\"defaultValue\", \"value\", \"onFocus\", \"onBlur\", \"onChange\", \"allowClear\", \"maxLength\", \"onCompositionStart\", \"onCompositionEnd\", \"suffix\", \"prefixCls\", \"classes\", \"showCount\", \"className\", \"style\", \"disabled\", \"hidden\", \"classNames\", \"styles\", \"onResize\"];\nimport clsx from 'classnames';\nimport { BaseInput } from 'rc-input';\nimport { fixControlledValue, resolveOnChange } from \"rc-input/es/utils/commonUtils\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useEffect, useImperativeHandle, useRef } from 'react';\nimport ResizableTextArea from \"./ResizableTextArea\";\nfunction fixEmojiLength(value, maxLength) {\n  return _toConsumableArray(value || '').slice(0, maxLength).join('');\n}\nfunction setTriggerValue(isCursorInEnd, preValue, triggerValue, maxLength) {\n  var newTriggerValue = triggerValue;\n  if (isCursorInEnd) {\n    // 光标在尾部，直接截断\n    newTriggerValue = fixEmojiLength(triggerValue, maxLength);\n  } else if (_toConsumableArray(preValue || '').length < triggerValue.length && _toConsumableArray(triggerValue || '').length > maxLength) {\n    // 光标在中间，如果最后的值超过最大值，则采用原先的值\n    newTriggerValue = preValue;\n  }\n  return newTriggerValue;\n}\nvar TextArea = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _clsx;\n  var defaultValue = _ref.defaultValue,\n    customValue = _ref.value,\n    onFocus = _ref.onFocus,\n    onBlur = _ref.onBlur,\n    onChange = _ref.onChange,\n    allowClear = _ref.allowClear,\n    maxLength = _ref.maxLength,\n    onCompositionStart = _ref.onCompositionStart,\n    onCompositionEnd = _ref.onCompositionEnd,\n    suffix = _ref.suffix,\n    _ref$prefixCls = _ref.prefixCls,\n    prefixCls = _ref$prefixCls === void 0 ? 'rc-textarea' : _ref$prefixCls,\n    classes = _ref.classes,\n    showCount = _ref.showCount,\n    className = _ref.className,\n    style = _ref.style,\n    disabled = _ref.disabled,\n    hidden = _ref.hidden,\n    classNames = _ref.classNames,\n    styles = _ref.styles,\n    onResize = _ref.onResize,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var _useMergedState = useMergedState(defaultValue, {\n      value: customValue,\n      defaultValue: defaultValue\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    value = _useMergedState2[0],\n    setValue = _useMergedState2[1];\n  var resizableTextAreaRef = useRef(null);\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    focused = _React$useState2[0],\n    setFocused = _React$useState2[1];\n  var _React$useState3 = React.useState(false),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    compositing = _React$useState4[0],\n    setCompositing = _React$useState4[1];\n  var oldCompositionValueRef = React.useRef();\n  var oldSelectionStartRef = React.useRef(0);\n  // Since ResizeObserver would resize once on mounted, manual resizing should be happened after that\n  var _React$useState5 = React.useState(null),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    resizeStatus = _React$useState6[0],\n    setResizeStatus = _React$useState6[1];\n  var focus = function focus() {\n    resizableTextAreaRef.current.textArea.focus();\n  };\n  useImperativeHandle(ref, function () {\n    return {\n      resizableTextArea: resizableTextAreaRef.current,\n      focus: focus,\n      blur: function blur() {\n        resizableTextAreaRef.current.textArea.blur();\n      }\n    };\n  });\n  useEffect(function () {\n    setFocused(function (prev) {\n      return !disabled && prev;\n    });\n  }, [disabled]);\n\n  // =========================== Value Update ===========================\n  // Max length value\n  var hasMaxLength = Number(maxLength) > 0;\n  var onInternalCompositionStart = function onInternalCompositionStart(e) {\n    setCompositing(true);\n    // 拼音输入前保存一份旧值\n    oldCompositionValueRef.current = value;\n    // 保存旧的光标位置\n    oldSelectionStartRef.current = e.currentTarget.selectionStart;\n    onCompositionStart === null || onCompositionStart === void 0 ? void 0 : onCompositionStart(e);\n  };\n  var onInternalCompositionEnd = function onInternalCompositionEnd(e) {\n    setCompositing(false);\n    var triggerValue = e.currentTarget.value;\n    if (hasMaxLength) {\n      var _oldCompositionValueR;\n      var isCursorInEnd = oldSelectionStartRef.current >= maxLength + 1 || oldSelectionStartRef.current === ((_oldCompositionValueR = oldCompositionValueRef.current) === null || _oldCompositionValueR === void 0 ? void 0 : _oldCompositionValueR.length);\n      triggerValue = setTriggerValue(isCursorInEnd, oldCompositionValueRef.current, triggerValue, maxLength);\n    }\n    // Patch composition onChange when value changed\n    if (triggerValue !== value) {\n      setValue(triggerValue);\n      resolveOnChange(e.currentTarget, e, onChange, triggerValue);\n    }\n    onCompositionEnd === null || onCompositionEnd === void 0 ? void 0 : onCompositionEnd(e);\n  };\n  var handleChange = function handleChange(e) {\n    var triggerValue = e.target.value;\n    if (!compositing && hasMaxLength) {\n      // 1. 复制粘贴超过maxlength的情况 2.未超过maxlength的情况\n      var isCursorInEnd = e.target.selectionStart >= maxLength + 1 || e.target.selectionStart === triggerValue.length || !e.target.selectionStart;\n      triggerValue = setTriggerValue(isCursorInEnd, value, triggerValue, maxLength);\n    }\n    setValue(triggerValue);\n    resolveOnChange(e.currentTarget, e, onChange, triggerValue);\n  };\n  var handleKeyDown = function handleKeyDown(e) {\n    var onPressEnter = rest.onPressEnter,\n      onKeyDown = rest.onKeyDown;\n    if (e.key === 'Enter' && onPressEnter) {\n      onPressEnter(e);\n    }\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n  };\n  var handleFocus = function handleFocus(e) {\n    setFocused(true);\n    onFocus === null || onFocus === void 0 ? void 0 : onFocus(e);\n  };\n  var handleBlur = function handleBlur(e) {\n    setFocused(false);\n    onBlur === null || onBlur === void 0 ? void 0 : onBlur(e);\n  };\n\n  // ============================== Reset ===============================\n  var handleReset = function handleReset(e) {\n    setValue('');\n    focus();\n    resolveOnChange(resizableTextAreaRef.current.textArea, e, onChange);\n  };\n  var val = fixControlledValue(value);\n  if (!compositing && hasMaxLength && (customValue === null || customValue === undefined)) {\n    // fix #27612 将value转为数组进行截取，解决 '😂'.length === 2 等emoji表情导致的截取乱码的问题\n    val = fixEmojiLength(val, maxLength);\n  }\n  var suffixNode = suffix;\n  var dataCount;\n  if (showCount) {\n    var valueLength = _toConsumableArray(val).length;\n    if (_typeof(showCount) === 'object') {\n      dataCount = showCount.formatter({\n        value: val,\n        count: valueLength,\n        maxLength: maxLength\n      });\n    } else {\n      dataCount = \"\".concat(valueLength).concat(hasMaxLength ? \" / \".concat(maxLength) : '');\n    }\n    suffixNode = /*#__PURE__*/React.createElement(React.Fragment, null, suffixNode, /*#__PURE__*/React.createElement(\"span\", {\n      className: clsx(\"\".concat(prefixCls, \"-data-count\"), classNames === null || classNames === void 0 ? void 0 : classNames.count),\n      style: styles === null || styles === void 0 ? void 0 : styles.count\n    }, dataCount));\n  }\n  var handleResize = function handleResize(size) {\n    onResize === null || onResize === void 0 ? void 0 : onResize(size);\n    if (resizeStatus === null) {\n      setResizeStatus('mounted');\n    } else if (resizeStatus === 'mounted') {\n      setResizeStatus('resized');\n    }\n  };\n  var textarea = /*#__PURE__*/React.createElement(BaseInput, {\n    value: val,\n    allowClear: allowClear,\n    handleReset: handleReset,\n    suffix: suffixNode,\n    prefixCls: prefixCls,\n    classes: {\n      affixWrapper: clsx(classes === null || classes === void 0 ? void 0 : classes.affixWrapper, (_clsx = {}, _defineProperty(_clsx, \"\".concat(prefixCls, \"-show-count\"), showCount), _defineProperty(_clsx, \"\".concat(prefixCls, \"-textarea-allow-clear\"), allowClear), _clsx))\n    },\n    disabled: disabled,\n    focused: focused,\n    className: className,\n    style: _objectSpread(_objectSpread({}, style), resizeStatus === 'resized' ? {\n      height: 'auto'\n    } : {}),\n    dataAttrs: {\n      affixWrapper: {\n        'data-count': typeof dataCount === 'string' ? dataCount : undefined\n      }\n    },\n    hidden: hidden,\n    inputElement: /*#__PURE__*/React.createElement(ResizableTextArea, _extends({}, rest, {\n      onKeyDown: handleKeyDown,\n      onChange: handleChange,\n      onFocus: handleFocus,\n      onBlur: handleBlur,\n      onCompositionStart: onInternalCompositionStart,\n      onCompositionEnd: onInternalCompositionEnd,\n      className: classNames === null || classNames === void 0 ? void 0 : classNames.textarea,\n      style: _objectSpread(_objectSpread({}, styles === null || styles === void 0 ? void 0 : styles.textarea), {}, {\n        resize: style === null || style === void 0 ? void 0 : style.resize\n      }),\n      disabled: disabled,\n      prefixCls: prefixCls,\n      onResize: handleResize,\n      ref: resizableTextAreaRef\n    }))\n  });\n  return textarea;\n});\nexport default TextArea;"],"names":["HIDDEN_TEXTAREA_STYLE","SIZING_STYLE","computedStyleCache","hiddenTextarea","calculateNodeStyling","node","useCache","nodeRef","style","boxSizing","paddingSize","borderSize","sizingStyle","name","nodeInfo","calculateAutoSizeStyle","uiTextNode","minRows","maxRows","_calculateNodeStyling","minHeight","maxHeight","overflowY","height","singleRowHeight","_excluded","RESIZE_START","RESIZE_MEASURING","RESIZE_STABLE","ResizableTextArea","React.forwardRef","props","ref","_ref","prefixCls","defaultValue","value","autoSize","onResize","className","disabled","onChange","restProps","_objectWithoutProperties","_useMergedState","useMergedState","val","_useMergedState2","_slicedToArray","mergedValue","setMergedValue","onInternalChange","event","textareaRef","React.useRef","React.useImperativeHandle","_React$useMemo","React.useMemo","_typeof","_React$useMemo2","needAutoSize","fixFirefoxAutoScroll","_textareaRef$current","selectionStart","selectionEnd","scrollTop","_React$useState","React.useState","_React$useState2","resizeState","setResizeState","_React$useState3","_React$useState4","autoSizeStyle","setAutoSizeStyle","startResize","useLayoutEffect","textareaStyles","resizeRafRef","cleanRaf","raf","onInternalResize","size","React.useEffect","mergedAutoSizeStyle","mergedStyle","_objectSpread","React.createElement","ResizeObserver","_extends","classNames","_defineProperty","fixEmojiLength","maxLength","_toConsumableArray","setTriggerValue","isCursorInEnd","preValue","triggerValue","newTriggerValue","TextArea","React","_clsx","customValue","onFocus","onBlur","allowClear","onCompositionStart","onCompositionEnd","suffix","_ref$prefixCls","classes","showCount","hidden","styles","rest","setValue","resizableTextAreaRef","useRef","focused","setFocused","compositing","setCompositing","oldCompositionValueRef","oldSelectionStartRef","_React$useState5","_React$useState6","resizeStatus","setResizeStatus","focus","useImperativeHandle","useEffect","prev","hasMaxLength","onInternalCompositionStart","e","onInternalCompositionEnd","_oldCompositionValueR","resolveOnChange","handleChange","handleKeyDown","onPressEnter","onKeyDown","handleFocus","handleBlur","handleReset","fixControlledValue","suffixNode","dataCount","valueLength","clsx","handleResize","textarea","BaseInput"],"mappings":"iWAMA,IAAIA,GAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EACxBC,GAAe,CAAC,iBAAkB,cAAe,cAAe,iBAAkB,cAAe,cAAe,YAAa,eAAgB,iBAAkB,iBAAkB,QAAS,cAAe,eAAgB,gBAAiB,eAAgB,aAAc,aAAc,aAAa,EACnSC,GAAqB,CAAA,EACrBC,EACG,SAASC,GAAqBC,EAAM,CACzC,IAAIC,EAAW,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,GAC/EC,EAAUF,EAAK,aAAa,IAAI,GAAKA,EAAK,aAAa,cAAc,GAAKA,EAAK,aAAa,MAAM,EACtG,GAAIC,GAAYJ,GAAmBK,CAAO,EACxC,OAAOL,GAAmBK,CAAO,EAEnC,IAAIC,EAAQ,OAAO,iBAAiBH,CAAI,EACpCI,EAAYD,EAAM,iBAAiB,YAAY,GAAKA,EAAM,iBAAiB,iBAAiB,GAAKA,EAAM,iBAAiB,oBAAoB,EAC5IE,EAAc,WAAWF,EAAM,iBAAiB,gBAAgB,CAAC,EAAI,WAAWA,EAAM,iBAAiB,aAAa,CAAC,EACrHG,EAAa,WAAWH,EAAM,iBAAiB,qBAAqB,CAAC,EAAI,WAAWA,EAAM,iBAAiB,kBAAkB,CAAC,EAC9HI,EAAcX,GAAa,IAAI,SAAUY,EAAM,CACjD,MAAO,GAAG,OAAOA,EAAM,GAAG,EAAE,OAAOL,EAAM,iBAAiBK,CAAI,CAAC,CACnE,CAAG,EAAE,KAAK,GAAG,EACPC,EAAW,CACb,YAAaF,EACb,YAAaF,EACb,WAAYC,EACZ,UAAWF,CACf,EACE,OAAIH,GAAYC,IACdL,GAAmBK,CAAO,EAAIO,GAEzBA,CACT,CACe,SAASC,GAAuBC,EAAY,CACzD,IAAIV,EAAW,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,GAC/EW,EAAU,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,KAC9EC,EAAU,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,KAC7Ef,IACHA,EAAiB,SAAS,cAAc,UAAU,EAClDA,EAAe,aAAa,YAAa,IAAI,EAC7CA,EAAe,aAAa,cAAe,MAAM,EACjD,SAAS,KAAK,YAAYA,CAAc,GAKtCa,EAAW,aAAa,MAAM,EAChCb,EAAe,aAAa,OAAQa,EAAW,aAAa,MAAM,CAAC,EAEnEb,EAAe,gBAAgB,MAAM,EAKvC,IAAIgB,EAAwBf,GAAqBY,EAAYV,CAAQ,EACnEI,EAAcS,EAAsB,YACpCR,EAAaQ,EAAsB,WACnCV,EAAYU,EAAsB,UAClCP,EAAcO,EAAsB,YAKtChB,EAAe,aAAa,QAAS,GAAG,OAAOS,EAAa,GAAG,EAAE,OAAOZ,EAAqB,CAAC,EAC9FG,EAAe,MAAQa,EAAW,OAASA,EAAW,aAAe,GACrE,IAAII,EAAY,OACZC,EAAY,OACZC,EACAC,EAASpB,EAAe,aAQ5B,GAPIM,IAAc,aAEhBc,GAAUZ,EACDF,IAAc,gBAEvBc,GAAUb,GAERO,IAAY,MAAQC,IAAY,KAAM,CAExCf,EAAe,MAAQ,IACvB,IAAIqB,EAAkBrB,EAAe,aAAeO,EAChDO,IAAY,OACdG,EAAYI,EAAkBP,EAC1BR,IAAc,eAChBW,EAAYA,EAAYV,EAAcC,GAExCY,EAAS,KAAK,IAAIH,EAAWG,CAAM,GAEjCL,IAAY,OACdG,EAAYG,EAAkBN,EAC1BT,IAAc,eAChBY,EAAYA,EAAYX,EAAcC,GAExCW,EAAYC,EAASF,EAAY,GAAK,SACtCE,EAAS,KAAK,IAAIF,EAAWE,CAAM,GAGvC,IAAIf,EAAQ,CACV,OAAQe,EACR,UAAWD,EACX,OAAQ,MACZ,EACE,OAAIF,IACFZ,EAAM,UAAYY,GAEhBC,IACFb,EAAM,UAAYa,GAEbb,CACT,CCvGA,IAAIiB,GAAY,CAAC,YAAa,eAAgB,eAAgB,QAAS,WAAY,WAAY,YAAa,QAAS,WAAY,WAAY,oBAAoB,EAQ7JC,GAAe,EACfC,GAAmB,EACnBC,GAAgB,EAChBC,GAAiCC,EAAgB,WAAC,SAAUC,EAAOC,EAAK,CACvE,IAACC,EAAOF,EACTG,EAAYD,EAAK,UACFA,EAAK,aACxB,IAAIE,EAAeF,EAAK,aACpBG,EAAQH,EAAK,MACbI,EAAWJ,EAAK,SAChBK,EAAWL,EAAK,SAChBM,EAAYN,EAAK,UACjBzB,EAAQyB,EAAK,MACbO,EAAWP,EAAK,SAChBQ,EAAWR,EAAK,SACKA,EAAK,mBAC9B,IAAIS,EAAYC,GAAyBV,EAAMR,EAAS,EAGlDmB,EAAkBC,GAAeV,EAAc,CAC/C,MAAOC,EACP,UAAW,SAAmBU,EAAK,CACjC,OAAOA,GAAuC,EAC/C,CACP,CAAK,EACDC,EAAmBC,EAAeJ,EAAiB,CAAC,EACpDK,EAAcF,EAAiB,CAAC,EAChCG,EAAiBH,EAAiB,CAAC,EACjCI,GAAmB,SAA0BC,EAAO,CACtDF,EAAeE,EAAM,OAAO,KAAK,EACjCX,GAAa,MAAuCA,EAASW,CAAK,CACtE,EAGMC,EAAcC,EAAAA,SAClBC,EAAyB,oBAACvB,EAAK,UAAY,CACzC,MAAO,CACL,SAAUqB,EAAY,OAC5B,CACA,CAAG,EAGD,IAAIG,EAAiBC,EAAAA,QAAc,UAAY,CAC3C,OAAIpB,GAAYqB,GAAQrB,CAAQ,IAAM,SAC7B,CAACA,EAAS,QAASA,EAAS,OAAO,EAErC,EACb,EAAO,CAACA,CAAQ,CAAC,EACbsB,EAAkBX,EAAeQ,EAAgB,CAAC,EAClDvC,EAAU0C,EAAgB,CAAC,EAC3BzC,EAAUyC,EAAgB,CAAC,EACzBC,EAAe,CAAC,CAACvB,EAIjBwB,EAAuB,UAAgC,CACzD,GAAI,CAEF,GAAI,SAAS,gBAAkBR,EAAY,QAAS,CAClD,IAAIS,EAAuBT,EAAY,QACrCU,EAAiBD,EAAqB,eACtCE,EAAeF,EAAqB,aACpCG,EAAYH,EAAqB,UAQnCT,EAAY,QAAQ,kBAAkBU,EAAgBC,CAAY,EAClEX,EAAY,QAAQ,UAAYY,EAEnC,MAAC,CAID,CACL,EAGMC,GAAkBC,EAAc,SAACvC,EAAa,EAChDwC,EAAmBpB,EAAekB,GAAiB,CAAC,EACpDG,EAAcD,EAAiB,CAAC,EAChCE,EAAiBF,EAAiB,CAAC,EACjCG,EAAmBJ,EAAAA,SAAgB,EACrCK,EAAmBxB,EAAeuB,EAAkB,CAAC,EACrDE,EAAgBD,EAAiB,CAAC,EAClCE,GAAmBF,EAAiB,CAAC,EACnCG,EAAc,UAAuB,CACvCL,EAAe5C,EAAY,CAI/B,EAGEkD,GAAgB,UAAY,CACtBhB,GACFe,GAEH,EAAE,CAACvC,EAAOnB,EAASC,EAAS0C,CAAY,CAAC,EAC1CgB,GAAgB,UAAY,CAC1B,GAAIP,IAAgB3C,GAClB4C,EAAe3C,EAAgB,UACtB0C,IAAgB1C,GAAkB,CAC3C,IAAIkD,EAAiB9D,GAAuBsC,EAAY,QAAS,GAAOpC,EAASC,CAAO,EAcxFoD,EAAe1C,EAAa,EAC5B8C,GAAiBG,CAAc,OAE/BhB,GAEN,EAAK,CAACQ,CAAW,CAAC,EAGhB,IAAIS,EAAexB,EAAAA,SACfyB,EAAW,UAAoB,CACjCC,GAAI,OAAOF,EAAa,OAAO,CACnC,EACMG,EAAmB,SAA0BC,EAAM,CACjDb,IAAgBzC,KAClBU,GAAa,MAAuCA,EAAS4C,CAAI,EAC7D7C,IACF0C,IACAD,EAAa,QAAUE,GAAI,UAAY,CACrCL,GACV,CAAS,GAGT,EACEQ,EAAAA,UAAgB,UAAY,CAC1B,OAAOJ,CACR,EAAE,CAAE,CAAA,EAGL,IAAIK,EAAsBxB,EAAea,EAAgB,KACrDY,EAAcC,EAAcA,EAAc,CAAE,EAAE9E,CAAK,EAAG4E,CAAmB,EAC7E,OAAIf,IAAgB3C,IAAgB2C,IAAgB1C,MAClD0D,EAAY,UAAY,SACxBA,EAAY,UAAY,UAENE,EAAAA,cAAoBC,GAAgB,CACtD,SAAUP,EACV,SAAU,EAAE5C,GAAYC,EACzB,EAAeiD,EAAmB,cAAC,WAAYE,GAAS,CAAA,EAAI/C,EAAW,CACtE,IAAKW,EACL,MAAOgC,EACP,UAAWK,GAAWxD,EAAWK,EAAWoD,GAAgB,CAAA,EAAI,GAAG,OAAOzD,EAAW,WAAW,EAAGM,CAAQ,CAAC,EAC5G,SAAUA,EACV,MAAOS,EACP,SAAUE,EACX,CAAA,CAAC,CAAC,CACL,CAAC,EC5KG1B,GAAY,CAAC,eAAgB,QAAS,UAAW,SAAU,WAAY,aAAc,YAAa,qBAAsB,mBAAoB,SAAU,YAAa,UAAW,YAAa,YAAa,QAAS,WAAY,SAAU,aAAc,SAAU,UAAU,EAO7Q,SAASmE,GAAexD,EAAOyD,EAAW,CACxC,OAAOC,EAAmB1D,GAAS,EAAE,EAAE,MAAM,EAAGyD,CAAS,EAAE,KAAK,EAAE,CACpE,CACA,SAASE,GAAgBC,EAAeC,EAAUC,EAAcL,EAAW,CACzE,IAAIM,EAAkBD,EACtB,OAAIF,EAEFG,EAAkBP,GAAeM,EAAcL,CAAS,EAC/CC,EAAmBG,GAAY,EAAE,EAAE,OAASC,EAAa,QAAUJ,EAAmBI,GAAgB,EAAE,EAAE,OAASL,IAE5HM,EAAkBF,GAEbE,CACT,CACG,IAACC,GAAwBC,EAAM,WAAW,SAAUpE,EAAMD,EAAK,CAChE,IAAIsE,EACAnE,EAAeF,EAAK,aACtBsE,EAActE,EAAK,MACnBuE,EAAUvE,EAAK,QACfwE,EAASxE,EAAK,OACdQ,EAAWR,EAAK,SAChByE,EAAazE,EAAK,WAClB4D,EAAY5D,EAAK,UACjB0E,EAAqB1E,EAAK,mBAC1B2E,EAAmB3E,EAAK,iBACxB4E,EAAS5E,EAAK,OACd6E,EAAiB7E,EAAK,UACtBC,EAAY4E,IAAmB,OAAS,cAAgBA,EACxDC,EAAU9E,EAAK,QACf+E,EAAY/E,EAAK,UACjBM,GAAYN,EAAK,UACjBzB,EAAQyB,EAAK,MACbO,EAAWP,EAAK,SAChBgF,EAAShF,EAAK,OACdyD,EAAazD,EAAK,WAClBiF,EAASjF,EAAK,OACdK,EAAWL,EAAK,SAChBkF,EAAOxE,GAAyBV,EAAMR,EAAS,EAC7CmB,GAAkBC,GAAeV,EAAc,CAC/C,MAAOoE,EACP,aAAcpE,CACpB,CAAK,EACDY,EAAmBC,EAAeJ,GAAiB,CAAC,EACpDR,EAAQW,EAAiB,CAAC,EAC1BqE,EAAWrE,EAAiB,CAAC,EAC3BsE,EAAuBC,SAAO,IAAI,EAClCpD,EAAkBmC,EAAM,SAAS,EAAK,EACxCjC,EAAmBpB,EAAekB,EAAiB,CAAC,EACpDqD,GAAUnD,EAAiB,CAAC,EAC5BoD,EAAapD,EAAiB,CAAC,EAC7BG,EAAmB8B,EAAM,SAAS,EAAK,EACzC7B,EAAmBxB,EAAeuB,EAAkB,CAAC,EACrDkD,EAAcjD,EAAiB,CAAC,EAChCkD,EAAiBlD,EAAiB,CAAC,EACjCmD,EAAyBtB,EAAM,SAC/BuB,EAAuBvB,EAAM,OAAO,CAAC,EAErCwB,EAAmBxB,EAAM,SAAS,IAAI,EACxCyB,EAAmB9E,EAAe6E,EAAkB,CAAC,EACrDE,EAAeD,EAAiB,CAAC,EACjCE,EAAkBF,EAAiB,CAAC,EAClCG,GAAQ,UAAiB,CAC3BZ,EAAqB,QAAQ,SAAS,OAC1C,EACEa,EAAmB,oBAAClG,EAAK,UAAY,CACnC,MAAO,CACL,kBAAmBqF,EAAqB,QACxC,MAAOY,GACP,KAAM,UAAgB,CACpBZ,EAAqB,QAAQ,SAAS,MACvC,CACP,CACA,CAAG,EACDc,EAAAA,UAAU,UAAY,CACpBX,EAAW,SAAUY,EAAM,CACzB,MAAO,CAAC5F,GAAY4F,CAC1B,CAAK,CACL,EAAK,CAAC5F,CAAQ,CAAC,EAIb,IAAI6F,EAAe,OAAOxC,CAAS,EAAI,EACnCyC,GAA6B,SAAoCC,EAAG,CACtEb,EAAe,EAAI,EAEnBC,EAAuB,QAAUvF,EAEjCwF,EAAqB,QAAUW,EAAE,cAAc,eAC/C5B,GAAuB,MAAiDA,EAAmB4B,CAAC,CAChG,EACMC,GAA2B,SAAkCD,EAAG,CAClEb,EAAe,EAAK,EACpB,IAAIxB,EAAeqC,EAAE,cAAc,MACnC,GAAIF,EAAc,CAChB,IAAII,EACAzC,GAAgB4B,EAAqB,SAAW/B,EAAY,GAAK+B,EAAqB,YAAca,EAAwBd,EAAuB,WAAa,MAAQc,IAA0B,OAAS,OAASA,EAAsB,QAC9OvC,EAAeH,GAAgBC,GAAe2B,EAAuB,QAASzB,EAAcL,CAAS,EAGnGK,IAAiB9D,IACnBgF,EAASlB,CAAY,EACrBwC,GAAgBH,EAAE,cAAeA,EAAG9F,EAAUyD,CAAY,GAE5DU,GAAqB,MAA+CA,EAAiB2B,CAAC,CAC1F,EACMI,GAAe,SAAsBJ,EAAG,CAC1C,IAAIrC,EAAeqC,EAAE,OAAO,MAC5B,GAAI,CAACd,GAAeY,EAAc,CAEhC,IAAIrC,EAAgBuC,EAAE,OAAO,gBAAkB1C,EAAY,GAAK0C,EAAE,OAAO,iBAAmBrC,EAAa,QAAU,CAACqC,EAAE,OAAO,eAC7HrC,EAAeH,GAAgBC,EAAe5D,EAAO8D,EAAcL,CAAS,EAE9EuB,EAASlB,CAAY,EACrBwC,GAAgBH,EAAE,cAAeA,EAAG9F,EAAUyD,CAAY,CAC9D,EACM0C,GAAgB,SAAuBL,EAAG,CAC5C,IAAIM,EAAe1B,EAAK,aACtB2B,EAAY3B,EAAK,UACfoB,EAAE,MAAQ,SAAWM,GACvBA,EAAaN,CAAC,EAEhBO,GAAc,MAAwCA,EAAUP,CAAC,CACrE,EACMQ,GAAc,SAAqBR,EAAG,CACxCf,EAAW,EAAI,EACfhB,GAAY,MAAsCA,EAAQ+B,CAAC,CAC/D,EACMS,GAAa,SAAoBT,EAAG,CACtCf,EAAW,EAAK,EAChBf,GAAW,MAAqCA,EAAO8B,CAAC,CAC5D,EAGMU,GAAc,SAAqBV,EAAG,CACxCnB,EAAS,EAAE,EACXa,KACAS,GAAgBrB,EAAqB,QAAQ,SAAUkB,EAAG9F,CAAQ,CACtE,EACMK,EAAMoG,GAAmB9G,CAAK,EAC9B,CAACqF,GAAeY,GAAiB9B,GAAgB,OAEnDzD,EAAM8C,GAAe9C,EAAK+C,CAAS,GAErC,IAAIsD,GAAatC,EACbuC,EACJ,GAAIpC,EAAW,CACb,IAAIqC,GAAcvD,EAAmBhD,CAAG,EAAE,OACtCY,GAAQsD,CAAS,IAAM,SACzBoC,EAAYpC,EAAU,UAAU,CAC9B,MAAOlE,EACP,MAAOuG,GACP,UAAWxD,CACnB,CAAO,EAEDuD,EAAY,GAAG,OAAOC,EAAW,EAAE,OAAOhB,EAAe,MAAM,OAAOxC,CAAS,EAAI,EAAE,EAEvFsD,GAA0B9C,EAAM,cAAcA,EAAM,SAAU,KAAM8C,GAAyB9C,EAAM,cAAc,OAAQ,CACvH,UAAWiD,GAAK,GAAG,OAAOpH,EAAW,aAAa,EAAGwD,GAAe,KAAgC,OAASA,EAAW,KAAK,EAC7H,MAAOwB,GAAW,KAA4B,OAASA,EAAO,KACpE,EAAOkC,CAAS,CAAC,EAEf,IAAIG,GAAe,SAAsBrE,EAAM,CAC7C5C,GAAa,MAAuCA,EAAS4C,CAAI,EAC7D6C,IAAiB,KACnBC,EAAgB,SAAS,EAChBD,IAAiB,WAC1BC,EAAgB,SAAS,CAE/B,EACMwB,GAAwBnD,EAAM,cAAcoD,GAAW,CACzD,MAAO3G,EACP,WAAY4D,EACZ,YAAauC,GACb,OAAQE,GACR,UAAWjH,EACX,QAAS,CACP,aAAcoH,GAAKvC,GAAY,KAA6B,OAASA,EAAQ,cAAeT,EAAQ,CAAE,EAAEX,GAAgBW,EAAO,GAAG,OAAOpE,EAAW,aAAa,EAAG8E,CAAS,EAAGrB,GAAgBW,EAAO,GAAG,OAAOpE,EAAW,uBAAuB,EAAGwE,CAAU,EAAGJ,EAAO,CAC3Q,EACD,SAAU9D,EACV,QAAS+E,GACT,UAAWhF,GACX,MAAO+C,EAAcA,EAAc,CAAA,EAAI9E,CAAK,EAAGuH,IAAiB,UAAY,CAC1E,OAAQ,MACT,EAAG,EAAE,EACN,UAAW,CACT,aAAc,CACZ,aAAc,OAAOqB,GAAc,SAAWA,EAAY,MAC3D,CACF,EACD,OAAQnC,EACR,aAA2BZ,EAAM,cAAcxE,GAAmB4D,GAAS,CAAE,EAAE0B,EAAM,CACnF,UAAWyB,GACX,SAAUD,GACV,QAASI,GACT,OAAQC,GACR,mBAAoBV,GACpB,iBAAkBE,GAClB,UAAW9C,GAAe,KAAgC,OAASA,EAAW,SAC9E,MAAOJ,EAAcA,EAAc,CAAA,EAAI4B,GAAW,KAA4B,OAASA,EAAO,QAAQ,EAAG,CAAA,EAAI,CAC3G,OAAQ1G,GAAU,KAA2B,OAASA,EAAM,MACpE,CAAO,EACD,SAAUgC,EACV,UAAWN,EACX,SAAUqH,GACV,IAAKlC,CACX,CAAK,CAAC,CACN,CAAG,EACD,OAAOmC,EACT,CAAC","x_google_ignoreList":[0,1,2]}